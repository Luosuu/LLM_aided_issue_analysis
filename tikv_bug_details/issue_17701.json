{
  "issue_number": 17701,
  "title": "When raft entry max size is large, write batch size would be too large",
  "body": "## Bug Report\r\n\r\n<!-- Thanks for your bug report! Don't worry if you can't fill out all the sections. -->\r\n\r\n### What version of TiKV are you using?\r\n<!-- You can run `tikv-server --version` -->\r\nv7.5.3\r\n\r\n### What did happened?\r\nSetting raft entry max size to 50M, write batch size would be too large and have a huge latency spike\r\n![img_v3_02ft_af39bc3e-6134-412c-bd83-0d9cf141f19g](https://github.com/user-attachments/assets/fb617647-8b52-4aac-88ed-463827d4a13d)\r\n",
  "state": "closed",
  "created_at": "2024-10-23T08:32:57Z",
  "updated_at": "2024-11-18T03:47:49Z",
  "closed_at": "2024-11-18T03:47:49Z",
  "labels": [
    "type/bug",
    "severity/major",
    "affects-7.5",
    "report/customer",
    "affects-8.5"
  ],
  "comments_data": []
}