{
  "issue_number": 16884,
  "title": "README.md About Deploy a playground with binary part Incorrect",
  "body": "## Bug Report\r\nStart PD instance.\r\n$ ./pd-server --name=pd --data-dir=/tmp/pd/data --client-urls=\"http://127.0.0.1:2379\" --peer-urls=\"http://127.0.0.1:2380\" --initial-cluster=\"pd=http://127.0.0.1:2380\" --log-file=/tmp/pd/log/pd.log\r\n\r\nStart TiKV instance.\r\n$ ./tikv-server --pd-endpoints=\"127.0.0.1:2379\" --addr=\"127.0.0.1:20160\" --data-dir=/tmp/tikv/data --log-file=/tmp/tikv/log/tikv.log\r\n\r\n### What version of TiKV are you using?\r\nV6.5.9\r\n\r\n### What did happened?\r\nWhen deployed on a single machine，**use --peer-urls and --initial-cluster parameter**，the PD election will fail. **Cause the PD process to exit**，Because there is only one PD。The PD cluster must have at least 3 nodes, otherwise the brain will be split。\r\n\r\n> [WARN] [lease.go:148] [\"lease keep alive failed\"] [purpose=\"pd leader election\"] [error=\"context canceled\"]\r\n>  [WARN] [tso.go:331] [\"clock offset\"] [jet-lag=3.602972499s] [prev-physical=2024/04/19 05:22:07.950 +08:00] [now=2024/04/19 05:22:11.553 +08:00] [update-physical-interval=50ms]\r\n> [INFO] [server.go:1582] [\"no longer a leader because lease has expired, pd leader will step down\"]\r\n>  [WARN] [util.go:121] [\"failed to apply request\"] [took=3.666µs] [request=\"header:<ID:3512120457801631439 > lease_revoke:<id:30bd8ef2c7a60045>\"] [response=size:28] [error=\"lease not found\"]\r\n> [2024/04/19 05:34:39.081 +08:00] [INFO] [server.go:253] [\"PD Config\"] [config=\"{\\\"client-urls\\\":\\\"http://192.168.67.4:12379\\\",\\\"peer-urls\\\":\\\"http://192.168.67.4:12380\\\",\\\"advertise-client-urls\\\":\\\"http://192.168.67.4:12379\\\"]\r\n\r\n**so correct install script：**\r\nStart PD instance.\r\n$ ./pd-server --name=pd --data-dir=/tmp/pd/data --client-urls=\"http://127.0.0.1:2379\" --log-file=/tmp/pd/log/pd.log\r\n\r\nStart TiKV instance.\r\n$ ./tikv-server --pd-endpoints=\"127.0.0.1:2379\" --addr=\"127.0.0.1:20160\" --data-dir=/tmp/tikv/data --log-file=/tmp/tikv/log/tikv.log",
  "state": "closed",
  "created_at": "2024-04-18T17:23:34Z",
  "updated_at": "2024-04-25T04:21:12Z",
  "closed_at": "2024-04-25T04:21:12Z",
  "labels": [
    "type/bug",
    "severity/moderate"
  ],
  "comments_data": [
    {
      "id": 2070883915,
      "user": "zhangjinpeng87",
      "created_at": "2024-04-22T20:20:44Z",
      "body": "@langyastudio I executed the same steps as you have did with PD master, didn't encounter any issue. Would you mind to retry it with PD latest version?\r\n```\r\n[2024/04/22 13:17:06.539 -07:00] [INFO] [util.go:50] [\"load pd and cluster version\"] [pd-version=8.2.0-alpha-4-g1d386f6f1-dirty] [cluster-version=0.0.0]\r\n[2024/04/22 13:17:06.540 -07:00] [INFO] [server.go:1803] [\"PD leader is ready to serve\"] [leader-name=pd]\r\n[2024/04/22 13:17:07.494 -07:00] [INFO] [server.go:1317] [\"PD server config is updated\"] [new=\"{\\\"use-region-storage\\\":\\\"true\\\",\\\"max-gap-reset-ts\\\":\\\"24h0m0s\\\",\\\"key-type\\\":\\\"table\\\",\\\"runtime-services\\\":\\\"\\\",\\\"metric-storage\\\":\\\"\\\",\\\"dashboard-address\\\":\\\"http://127.0.0.1:2379\\\",\\\"flow-round-by-digit\\\":3,\\\"min-resolved-ts-persistence-interval\\\":\\\"1s\\\",\\\"server-memory-limit\\\":0,\\\"server-memory-limit-gc-trigger\\\":0.7,\\\"enable-gogc-tuner\\\":\\\"false\\\",\\\"gc-tuner-threshold\\\":0.6,\\\"block-safe-point-v1\\\":\\\"false\\\"}\"] [old=\"{\\\"use-region-storage\\\":\\\"true\\\",\\\"max-gap-reset-ts\\\":\\\"24h0m0s\\\",\\\"key-type\\\":\\\"table\\\",\\\"runtime-services\\\":\\\"\\\",\\\"metric-storage\\\":\\\"\\\",\\\"dashboard-address\\\":\\\"auto\\\",\\\"flow-round-by-digit\\\":3,\\\"min-resolved-ts-persistence-interval\\\":\\\"1s\\\",\\\"server-memory-limit\\\":0,\\\"server-memory-limit-gc-trigger\\\":0.7,\\\"enable-gogc-tuner\\\":\\\"false\\\",\\\"gc-tuner-threshold\\\":0.6,\\\"block-safe-point-v1\\\":\\\"false\\\"}\"]\r\n[2024/04/22 13:17:08.616 -07:00] [INFO] [dbstore.go:33] [\"Dashboard initializing local storage file\"] [path=/tmp/pd/data/dashboard.sqlite.db]\r\n[2024/04/22 13:17:08.630 -07:00] [INFO] [version.go:33] [\"TiDB Dashboard started\"] [internal-version=8.0.0-9768844f] [standalone=No] [pd-version=v8.2.0-alpha-4-g1d386f6f1-dirty] [build-time=\"2024-04-22 08:15:20\"] [build-git-hash=9768844ff5d7]\r\n[2024/04/22 13:17:08.630 -07:00] [INFO] [manager.go:201] [\"dashboard server is started\"]\r\n[2024/04/22 13:17:08.630 -07:00] [INFO] [proxy.go:211] [\"start serve requests to remotes\"] [endpoint=127.0.0.1:62576] [remotes=\"[]\"]\r\n[2024/04/22 13:17:08.630 -07:00] [INFO] [proxy.go:211] [\"start serve requests to remotes\"] [endpoint=127.0.0.1:62577] [remotes=\"[]\"]\r\n[2024/04/22 13:17:08.631 -07:00] [WARN] [dynamic_config_manager.go:165] [\"Dynamic config does not exist in etcd\"]\r\n[2024/04/22 13:17:08.640 -07:00] [INFO] [manager.go:74] [\"Key visual service is started\"]\r\n```"
    }
  ]
}