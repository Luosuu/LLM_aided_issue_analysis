{
  "issue_number": 8992.0,
  "title": "[CRASH] ARM based Mac with m1 chip",
  "body": "**Crash report**\r\n\r\nWhen I start the redis server on a ARM based mac with the M1 chip I get the following error.\r\n\r\n```\r\njava.lang.RuntimeException: Can't start redis server. Check logs for details. Redis process log: \r\n[29674] 26 May 11:30:54.388 # \r\n\r\n=== REDIS BUG REPORT START: Cut & paste starting from here ===\r\n[29674] 26 May 11:30:54.389 #     Redis 2.8.19 crashed by signal: 10\r\n[29674] 26 May 11:30:54.389 #     Failed assertion: <no assertion failed> (<no file>:0)\r\n[29674] 26 May 11:30:54.389 # --- STACK TRACE\r\n0   redis-server-2.8.19.app             0x0000000100e15197 logStackTrace + 103\r\n1   libsystem_platform.dylib            0x00007fff20376440 _platform_memset$VARIANT$Rosetta + 108\r\n2   libsystem_platform.dylib            0x00007fff20373d7d _sigtramp + 29\r\n3   ???                                 0x0000000000000004 0x0 + 4\r\n4   ???                                 0x2e322d7265767265 0x0 + 3328773043932000869\r\n[29674] 26 May 11:30:54.390 # --- INFO OUTPUT\r\n[29674] 26 May 11:30:54.390 # # Server\r\nredis_version:2.8.19\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:eb33e7d0f77a29c1\r\nredis_mode:standalone\r\nos:Darwin 20.4.0 x86_64\r\narch_bits:64\r\nmultiplexing_api:kqueue\r\ngcc_version:4.2.1\r\nprocess_id:29674\r\nrun_id:0a2641bb11a2bc1f40a0c696d578ec4807f45e61\r\ntcp_port:6379\r\nuptime_in_seconds:0\r\nuptime_in_days:0\r\nhz:10\r\nlru_clock:0\r\nconfig_file:/var/folders/b2/zq15h8l54jv2f_jtl5_dvmlr0000gn/T/embedded-redis-server_637918228994890872731935.conf\r\n\r\n# Clients\r\nconnected_clients:0\r\nclient_longest_output_list:0\r\nclient_biggest_input_buf:0\r\nblocked_clients:0\r\n\r\n# Memory\r\nused_memory:970784\r\nused_memory_human:948.03K\r\nused_memory_rss:0\r\nused_memory_peak:970784\r\nused_memory_peak_human:948.03K\r\nused_memory_lua:35840\r\nmem_fragmentation_ratio:0.00\r\nmem_allocator:libc\r\n\r\n# Persistence\r\nloading:0\r\nrdb_changes_since_last_save:0\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1622021454\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:-1\r\nrdb_current_bgsave_time_sec:-1\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_last_write_status:ok\r\n\r\n# Stats\r\ntotal_connections_received:0\r\ntotal_commands_processed:0\r\ninstantaneous_ops_per_sec:0\r\ntotal_net_input_bytes:0\r\ntotal_net_output_bytes:0\r\ninstantaneous_input_kbps:0.00\r\ninstantaneous_output_kbps:0.00\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:0\r\nevicted_keys:0\r\nkeyspace_hits:0\r\nkeyspace_misses:0\r\npubsub_channels:0\r\npubsub_patterns:0\r\nlatest_fork_usec:0\r\n\r\n# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_repl_offset:0\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n\r\n# CPU\r\nused_cpu_sys:0.01\r\nused_cpu_user:0.01\r\nused_cpu_sys_children:0.00\r\nused_cpu_user_children:0.00\r\n\r\n# Commandstats\r\n\r\n# Keyspace\r\nhash_init_value: 1621866700\r\n\r\n[29674] 26 May 11:30:54.390 # --- CLIENT LIST OUTPUT\r\n[29674] 26 May 11:30:54.390 # \r\n[29674] 26 May 11:30:54.390 # --- REGISTERS\r\n[29674] 26 May 11:30:54.390 # \r\nRAX:0000000305e04c40 RBX:0000000000000067\r\nRCX:0000000305e05000 RDX:00007fd39f60085e\r\nRDI:0000000305e04bf0 RSI:0000000000000000\r\nRBP:0000000305e04a00 RSP:0000000305e04808\r\nR8 :0000000305e04648 R9 :0000000000000000\r\nR10:0000000305e042b0 R11:ffffffffffffffff\r\nR12:00007fd6a5405880 R13:0000000305e04a88\r\nR14:00007fff80628070 R15:00007fd6a5409f98\r\nRIP:00007fff20376440 EFL:0000000000000202\r\nCS :000000000000002b FS:0000000000000000  GS:0000000000000000\r\n[29674] 26 May 11:30:54.390 # (0000000305e04817) -> 00007fff806283f4\r\n[29674] 26 May 11:30:54.390 # (0000000305e04816) -> 00007fff202fc24a\r\n[29674] 26 May 11:30:54.390 # (0000000305e04815) -> 0000000305e04940\r\n[29674] 26 May 11:30:54.390 # (0000000305e04814) -> 0000000000403000\r\n[29674] 26 May 11:30:54.390 # (0000000305e04813) -> 00007fff806283f4\r\n[29674] 26 May 11:30:54.390 # (0000000305e04812) -> 0000000000400000\r\n[29674] 26 May 11:30:54.390 # (0000000305e04811) -> 0000000305e048e8\r\n[29674] 26 May 11:30:54.390 # (0000000305e04810) -> 00007fff202f91a5\r\n[29674] 26 May 11:30:54.390 # (0000000305e0480f) -> 0000000109258080\r\n[29674] 26 May 11:30:54.390 # (0000000305e0480e) -> 0000000000000003\r\n[29674] 26 May 11:30:54.390 # (0000000305e0480d) -> 00000000090008ff\r\n[29674] 26 May 11:30:54.390 # (0000000305e0480c) -> 00000000000018eb\r\n[29674] 26 May 11:30:54.390 # (0000000305e0480b) -> 00007fd6a540a060\r\n[29674] 26 May 11:30:54.390 # (0000000305e0480a) -> 0000000305e04bf0\r\n[29674] 26 May 11:30:54.390 # (0000000305e04809) -> 0000000305e04850\r\n[29674] 26 May 11:30:54.390 # (0000000305e04808) -> 0000000100e25424\r\n[29674] 26 May 11:30:54.390 # \r\n=== REDIS BUG REPORT END. Make sure to include from START to END. ===\r\n\r\n```\r\n\r\n**Aditional information**\r\n\r\n1. OS distribution: OSX, ARM (m1 chip)\r\n2. Simply start it\r\n",
  "state": "closed",
  "created_at": "2021-05-26T09:35:18Z",
  "updated_at": "2021-06-24T07:02:43Z",
  "closed_at": "2021-05-26T09:37:20Z",
  "labels": [],
  "comments_data": [
    {
      "id": 867392818,
      "user": "lowesyang",
      "created_at": "2021-06-24T07:02:43Z",
      "body": "The same, how you fix it?"
    }
  ]
}