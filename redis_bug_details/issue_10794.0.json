{
  "issue_number": 10794.0,
  "title": "[BUG] qemu: uncaught target signal 11 (Segmentation fault)",
  "body": "For what it's worth, I'm using the JSON module with this instance.\r\n\r\n- Docker image: `redislabs/rejson:2.0.4`\r\n- Host: `macOS Monterey v12.3.1` (M1)\r\n\r\n```\r\n=== REDIS BUG REPORT START: Cut & paste starting from here ===\r\nredis_1         | 1:M 29 May 2022 13:02:13.686 # Redis 6.2.5 crashed by signal: 11, si_code: 1\r\nredis_1         | 1:M 29 May 2022 13:02:13.686 # Accessing address: (nil)\r\nredis_1         | 1:M 29 May 2022 13:02:13.686 # Crashed running the instruction at: 0x400004b644\r\nredis_1         |\r\nredis_1         | ------ STACK TRACE ------\r\nredis_1         | EIP:\r\nredis_1         | redis-server *:6379(dictSdsKeyCompare+0x34)[0x400004b644]\r\nredis_1         |\r\nredis_1         | Backtrace:\r\nredis_1         | /lib/x86_64-linux-gnu/libpthread.so.0(+0x14140)[0x4002158140]\r\nredis_1         | redis-server *:6379(dictSdsKeyCompare+0x34)[0x400004b644]\r\nredis_1         | redis-server *:6379(dictAddRaw+0x155)[0x4000049af5]\r\nredis_1         | redis-server *:6379(zunionInterDiffGenericCommand+0xd3c)[0x400008da8c]\r\nredis_1         | redis-server *:6379(call+0xa1)[0x400004f161]\r\nredis_1         | redis-server *:6379(processCommand+0x5b3)[0x4000050d03]\r\nredis_1         | redis-server *:6379(processInputBuffer+0xf8)[0x4000063c28]\r\nredis_1         | redis-server *:6379(+0xfac98)[0x40000fac98]\r\nredis_1         | redis-server *:6379(aeProcessEvents+0x292)[0x4000047d82]\r\nredis_1         | redis-server *:6379(aeMain+0x1d)[0x4000047fed]\r\nredis_1         | redis-server *:6379(main+0x316)[0x4000044286]\r\nredis_1         | /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xea)[0x400218cd0a]\r\nredis_1         | redis-server *:6379(_start+0x2a)[0x400004475a]\r\nredis_1         |\r\nredis_1         | ------ REGISTERS ------\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 #\r\nredis_1         | RAX:000000400004b6e8 RBX:00000040072e1c50\r\nredis_1         | RCX:000000400019b220 RDX:0000000000000061\r\nredis_1         | RDI:00000040073cfb63 RSI:0000000000000001\r\nredis_1         | RBP:0000004001c3f980 RSP:0000004001c3f868\r\nredis_1         | R8 :000000400019b234 R9 :00000040026000c0\r\nredis_1         | R10:0000000000000005 R11:000000400293a000\r\nredis_1         | R12:0000004001c3eb20 R13:00000040072e1c70\r\nredis_1         | R14:00000040072e1c40 R15:00000040073cfb63\r\nredis_1         | RIP:000000400004b644 EFL:0000000000000207\r\nredis_1         | CSGSFS:002b000000000033\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f877) -> 0000000000000000\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f876) -> 41d73c6208400000\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f875) -> 00000040075eacc0\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f874) -> 000000400008da8c\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f873) -> 0000004007349e08\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f872) -> 0000004001c3f930\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f871) -> 0000004001c3f980\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f870) -> 00000040072e1c40\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f86f) -> 0000000000000028\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f86e) -> 0000004007586780\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f86d) -> 0000000000000029\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f86c) -> 000000000000079e\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f86b) -> 00000040072e1c90\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f86a) -> 0000000000003cf0\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f869) -> a9bfe40af44def9e\r\nredis_1         | 1:M 29 May 2022 13:02:13.693 # (0000004001c3f868) -> 0000004000049af5\r\nredis_1         |\r\nredis_1         | ------ INFO OUTPUT ------\r\nredis_1         | # Server\r\nredis_1         | redis_version:6.2.5\r\nredis_1         | redis_git_sha1:00000000\r\nredis_1         | redis_git_dirty:0\r\nredis_1         | redis_build_id:3afff201ac09d18c\r\nredis_1         | redis_mode:standalone\r\nredis_1         | os:Linux 5.10.104-linuxkit x86_64\r\nredis_1         | arch_bits:64\r\nredis_1         | multiplexing_api:epoll\r\nredis_1         | atomicvar_api:atomic-builtin\r\nredis_1         | gcc_version:10.2.1\r\nredis_1         | process_id:1\r\nredis_1         | process_supervised:no\r\nredis_1         | run_id:d5bab33f3089e102cf1536debd23ec96fe4e146b\r\nredis_1         | tcp_port:6379\r\nredis_1         | server_time_usec:1653829333684656\r\nredis_1         | uptime_in_seconds:171489\r\nredis_1         | uptime_in_days:1\r\nredis_1         | hz:10\r\nredis_1         | configured_hz:10\r\nredis_1         | lru_clock:9662165\r\nredis_1         | executable:/data/redis-server\r\nredis_1         | config_file:\r\nredis_1         | io_threads_active:0\r\nredis_1         |\r\nredis_1         | # Clients\r\nredis_1         | connected_clients:5\r\nredis_1         | cluster_connections:0\r\nredis_1         | maxclients:10000\r\nredis_1         | client_recent_max_input_buffer:40992\r\nredis_1         | client_recent_max_output_buffer:24600\r\nredis_1         | blocked_clients:0\r\nredis_1         | tracking_clients:0\r\nredis_1         | clients_in_timeout_table:0\r\nredis_1         |\r\nredis_1         | # Memory\r\nredis_1         | used_memory:22544496\r\nredis_1         | used_memory_human:21.50M\r\nredis_1         | used_memory_rss:0\r\nredis_1         | used_memory_rss_human:0B\r\nredis_1         | used_memory_peak:22544496\r\nredis_1         | used_memory_peak_human:21.50M\r\nredis_1         | used_memory_peak_perc:100.67%\r\nredis_1         | used_memory_overhead:1134008\r\nredis_1         | used_memory_startup:904792\r\nredis_1         | used_memory_dataset:21410488\r\nredis_1         | used_memory_dataset_perc:98.94%\r\nredis_1         | allocator_allocated:22782016\r\nredis_1         | allocator_active:23711744\r\nredis_1         | allocator_resident:26472448\r\nredis_1         | total_system_memory:8337399808\r\nredis_1         | total_system_memory_human:7.76G\r\nredis_1         | used_memory_lua:37888\r\nredis_1         | used_memory_lua_human:37.00K\r\nredis_1         | used_memory_scripts:0\r\nredis_1         | used_memory_scripts_human:0B\r\nredis_1         | number_of_cached_scripts:0\r\nredis_1         | maxmemory:0\r\nredis_1         | maxmemory_human:0B\r\nredis_1         | maxmemory_policy:noeviction\r\nredis_1         | allocator_frag_ratio:1.04\r\nredis_1         | allocator_frag_bytes:929728\r\nredis_1         | allocator_rss_ratio:1.12\r\nredis_1         | allocator_rss_bytes:2760704\r\nredis_1         | rss_overhead_ratio:0.00\r\nredis_1         | rss_overhead_bytes:-26472448\r\nredis_1         | mem_fragmentation_ratio:0.00\r\nredis_1         | mem_fragmentation_bytes:-22371888\r\nredis_1         | mem_not_counted_for_evict:0\r\nredis_1         | mem_replication_backlog:0\r\nredis_1         | mem_clients_slaves:0\r\nredis_1         | mem_clients_normal:102552\r\nredis_1         | mem_aof_buffer:0\r\nredis_1         | mem_allocator:jemalloc-5.1.0\r\nredis_1         | active_defrag_running:0\r\nredis_1         | lazyfree_pending_objects:0\r\nredis_1         | lazyfreed_objects:0\r\nredis_1         |\r\nredis_1         | # Persistence\r\nredis_1         | loading:0\r\nredis_1         | current_cow_size:0\r\nredis_1         | current_cow_size_age:0\r\nredis_1         | current_fork_perc:0.00\r\nredis_1         | current_save_keys_processed:0\r\nredis_1         | current_save_keys_total:0\r\nredis_1         | rdb_changes_since_last_save:23\r\nredis_1         | rdb_bgsave_in_progress:0\r\nredis_1         | rdb_last_save_time:1653827654\r\nredis_1         | rdb_last_bgsave_status:ok\r\nredis_1         | rdb_last_bgsave_time_sec:1\r\nredis_1         | rdb_current_bgsave_time_sec:-1\r\nredis_1         | rdb_last_cow_size:6549504\r\nredis_1         | aof_enabled:0\r\nredis_1         | aof_rewrite_in_progress:0\r\nredis_1         | aof_rewrite_scheduled:0\r\nredis_1         | aof_last_rewrite_time_sec:-1\r\nredis_1         | aof_current_rewrite_time_sec:-1\r\nredis_1         | aof_last_bgrewrite_status:ok\r\nredis_1         | aof_last_write_status:ok\r\nredis_1         | aof_last_cow_size:0\r\nredis_1         | module_fork_in_progress:0\r\nredis_1         | module_fork_last_cow_size:0\r\nredis_1         |\r\nredis_1         | # Stats\r\nredis_1         | total_connections_received:1986\r\nredis_1         | total_commands_processed:2327\r\nredis_1         | instantaneous_ops_per_sec:14\r\nredis_1         | total_net_input_bytes:619214\r\nredis_1         | total_net_output_bytes:2749703\r\nredis_1         | instantaneous_input_kbps:87.12\r\nredis_1         | instantaneous_output_kbps:94.61\r\nredis_1         | rejected_connections:0\r\nredis_1         | sync_full:0\r\nredis_1         | sync_partial_ok:0\r\nredis_1         | sync_partial_err:0\r\nredis_1         | expired_keys:0\r\nredis_1         | expired_stale_perc:0.00\r\nredis_1         | expired_time_cap_reached_count:0\r\nredis_1         | expire_cycle_cpu_milliseconds:6643\r\nredis_1         | evicted_keys:0\r\nredis_1         | keyspace_hits:3032\r\nredis_1         | keyspace_misses:4\r\nredis_1         | pubsub_channels:0\r\nredis_1         | pubsub_patterns:0\r\nredis_1         | latest_fork_usec:626\r\nredis_1         | total_forks:4\r\nredis_1         | migrate_cached_sockets:0\r\nredis_1         | slave_expires_tracked_keys:0\r\nredis_1         | active_defrag_hits:0\r\nredis_1         | active_defrag_misses:0\r\nredis_1         | active_defrag_key_hits:0\r\nredis_1         | active_defrag_key_misses:0\r\nredis_1         | tracking_total_keys:0\r\nredis_1         | tracking_total_items:0\r\nredis_1         | tracking_total_prefixes:0\r\nredis_1         | unexpected_error_replies:0\r\nredis_1         | total_error_replies:0\r\nredis_1         | dump_payload_sanitizations:0\r\nredis_1         | total_reads_processed:4322\r\nredis_1         | total_writes_processed:4564\r\nredis_1         | io_threaded_reads_processed:0\r\nredis_1         | io_threaded_writes_processed:0\r\nredis_1         |\r\nredis_1         | # Replication\r\nredis_1         | role:master\r\nredis_1         | connected_slaves:0\r\nredis_1         | master_failover_state:no-failover\r\nredis_1         | master_replid:e8c7f810ad4da98789f0f393c883fa3c2205fe12\r\nredis_1         | master_replid2:0000000000000000000000000000000000000000\r\nredis_1         | master_repl_offset:0\r\nredis_1         | second_repl_offset:-1\r\nredis_1         | repl_backlog_active:0\r\nredis_1         | repl_backlog_size:1048576\r\nredis_1         | repl_backlog_first_byte_offset:0\r\nredis_1         | repl_backlog_histlen:0\r\nredis_1         |\r\nredis_1         | # CPU\r\nredis_1         | used_cpu_sys:558.516301\r\nredis_1         | used_cpu_user:562.952731\r\nredis_1         | used_cpu_sys_children:0.260345\r\nredis_1         | used_cpu_user_children:1.269739\r\nredis_1         | used_cpu_sys_main_thread:558.047674\r\nredis_1         | used_cpu_user_main_thread:560.953043\r\nredis_1         |\r\nredis_1         | # Modules\r\nredis_1         | module:name=search,ver=999999,api=1,filters=0,usedby=[],using=[ReJSON],options=[handle-io-errors]\r\nredis_1         | module:name=ReJSON,ver=20004,api=1,filters=0,usedby=[search],using=[],options=[handle-io-errors]\r\nredis_1         |\r\nredis_1         | # Commandstats\r\nredis_1         | cmdstat_client:calls=3,usec=494,usec_per_call=164.67,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_command:calls=1,usec=4335,usec_per_call=4335.00,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_hgetall:calls=2,usec=542,usec_per_call=271.00,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_zrevrange:calls=21,usec=1558,usec_per_call=74.19,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_select:calls=28,usec=542,usec_per_call=19.36,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_zunionstore:calls=21,usec=42469,usec_per_call=2022.33,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_dbsize:calls=1,usec=56,usec_per_call=56.00,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_json.mget:calls=18,usec=34832,usec_per_call=1935.11,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_zadd:calls=11,usec=3765,usec_per_call=342.27,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_ping:calls=1954,usec=7029,usec_per_call=3.60,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_zincrby:calls=3,usec=1274,usec_per_call=424.67,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_ttl:calls=3,usec=347,usec_per_call=115.67,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_info:calls=4,usec=10624,usec_per_call=2656.00,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_hset:calls=4,usec=323,usec_per_call=80.75,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_json.set:calls=163,usec=36113,usec_per_call=221.55,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_type:calls=2,usec=192,usec_per_call=96.00,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_module:calls=70,usec=2256,usec_per_call=32.23,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_memory:calls=2,usec=945,usec_per_call=472.50,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_monitor:calls=1,usec=106,usec_per_call=106.00,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_zcard:calls=3,usec=240,usec_per_call=80.00,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_hmset:calls=5,usec=713,usec_per_call=142.60,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_zrange:calls=5,usec=14128,usec_per_call=2825.60,rejected_calls=0,failed_calls=0\r\nredis_1         | cmdstat_hget:calls=2,usec=434,usec_per_call=217.00,rejected_calls=0,failed_calls=0\r\nredis_1         |\r\nredis_1         | # Errorstats\r\nredis_1         |\r\nredis_1         | # Cluster\r\nredis_1         | cluster_enabled:0\r\nredis_1         |\r\nredis_1         | # Keyspace\r\nredis_1         | db0:keys=2342,expires=0,avg_ttl=0\r\nredis_1         | db1:keys=3,expires=0,avg_ttl=0\r\nredis_1         |\r\nredis_1         | ------ CLIENT LIST OUTPUT ------\r\nredis_1         | id=7 addr=172.18.0.1:58346 laddr=172.18.0.3:6379 fd=8 name=redisinsight-common-ed4d2930 age=171488 idle=171488 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 obl=0 oll=0 omem=0 tot-mem=20512 events=r cmd=client user=default redir=-1\r\nredis_1         | id=8 addr=172.18.0.1:58348 laddr=172.18.0.3:6379 fd=9 name=redisinsight-browser-d4c0b145 age=171488 idle=171488 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 obl=0 oll=0 omem=0 tot-mem=20512 events=r cmd=client user=default redir=-1\r\nredis_1         | id=10 addr=172.18.0.1:58366 laddr=172.18.0.3:6379 fd=10 name=redisinsight-browser-61725677 age=171454 idle=171445 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 obl=0 oll=0 omem=0 tot-mem=20528 events=r cmd=zrange user=default redir=-1\r\nredis_1         | id=12 addr=127.0.0.1:57652 laddr=127.0.0.1:6379 fd=11 name= age=171423 idle=0 flags=O db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 obl=0 oll=0 omem=0 tot-mem=20496 events=r cmd=monitor user=default redir=-1\r\nredis_1         | id=1992 addr=172.18.0.6:53046 laddr=172.18.0.3:6379 fd=12 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=2692 qbuf-free=38262 argv-mem=2380 obl=0 oll=0 omem=0 tot-mem=64204 events=r cmd=zunionstore user=default redir=-1\r\nredis_1         |\r\nredis_1         | ------ CURRENT CLIENT INFO ------\r\nredis_1         | id=1992 addr=172.18.0.6:53046 laddr=172.18.0.3:6379 fd=12 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=2692 qbuf-free=38262 argv-mem=2380 obl=0 oll=0 omem=0 tot-mem=64204 events=r cmd=zunionstore user=default redir=-1\r\nredis_1         | argv[0]: 'ZUNIONSTORE'\r\nredis_1         | argv[1]: '**REDACTED**'\r\nredis_1         | argv[2]: '41'\r\nredis_1         | argv[3]: '** REDACTED **'\r\nredis_1         | argv[4]: '** REDACTED **'\r\nredis_1         | argv[5]: '** REDACTED **'\r\nredis_1         | argv[6]: '** REDACTED **'\r\nredis_1         | argv[7]: '** REDACTED **'\r\nredis_1         | argv[8]: '** REDACTED **'\r\nredis_1         | argv[9]: '** REDACTED **'\r\nredis_1         | argv[10]: '** REDACTED **'\r\nredis_1         | argv[11]: '** REDACTED **'\r\nredis_1         | argv[12]: '** REDACTED **'\r\nredis_1         | argv[13]: '** REDACTED **'\r\nredis_1         | argv[14]: '** REDACTED **'\r\nredis_1         | argv[15]: '** REDACTED **'\r\nredis_1         | argv[16]: '** REDACTED **'\r\nredis_1         | argv[17]: '** REDACTED **'\r\nredis_1         | argv[18]: '** REDACTED **'\r\nredis_1         | argv[19]: '** REDACTED **'\r\nredis_1         | argv[20]: '** REDACTED **'\r\nredis_1         | argv[21]: '** REDACTED **'\r\nredis_1         | argv[22]: '** REDACTED **'\r\nredis_1         | argv[23]: '** REDACTED **'\r\nredis_1         | argv[24]: '** REDACTED **'\r\nredis_1         | argv[25]: '** REDACTED **'\r\nredis_1         | argv[26]: '** REDACTED **'\r\nredis_1         | argv[27]: '** REDACTED **'\r\nredis_1         | argv[28]: '** REDACTED **'\r\nredis_1         | argv[29]: '** REDACTED **'\r\nredis_1         | argv[30]: '** REDACTED **'\r\nredis_1         | argv[31]: '** REDACTED **'\r\nredis_1         | argv[32]: '** REDACTED **'\r\nredis_1         | argv[33]: '** REDACTED **'\r\nredis_1         | argv[34]: '** REDACTED **'\r\nredis_1         | argv[35]: '** REDACTED **'\r\nredis_1         | argv[36]: '** REDACTED **'\r\nredis_1         | argv[37]: '** REDACTED **'\r\nredis_1         | argv[38]: '** REDACTED **'\r\nredis_1         | argv[39]: '** REDACTED **'\r\nredis_1         | argv[40]: '** REDACTED **'\r\nredis_1         | argv[41]: '** REDACTED **'\r\nredis_1         | argv[42]: '** REDACTED **'\r\nredis_1         | argv[43]: '** REDACTED **'\r\nredis_1         | 1:M 29 May 2022 13:02:13.696 # key '** REDACTED **' found in DB containing the following object:\r\nredis_1         | 1:M 29 May 2022 13:02:13.696 # Object type: 3\r\nredis_1         | 1:M 29 May 2022 13:02:13.696 # Object encoding: 7\r\nredis_1         | 1:M 29 May 2022 13:02:13.696 # Object refcount: 1\r\nredis_1         |\r\nredis_1         | ------ MODULES INFO OUTPUT ------\r\nredis_1         | # ReJSON_trace\r\nredis_1         | ReJSON_trace:   0: redis_module::base_info_func\r\nredis_1         |    1: modulesCollectInfo\r\nredis_1         |              at /usr/src/redis/src/module.c:7076:9\r\nredis_1         |    2: logModulesInfo\r\nredis_1         |              at /usr/src/redis/src/debug.c:1598:22\r\nredis_1         |    3: printCrashReport\r\nredis_1         |              at /usr/src/redis/src/debug.c:1849:5\r\nredis_1         |       sigsegvHandler\r\nredis_1         |              at /usr/src/redis/src/debug.c:1831:5\r\nredis_1         |    4: <unknown>\r\nredis_1         |    5: dictSdsKeyCompare\r\nredis_1         |              at /usr/src/redis/src/server.c:1259:8\r\nredis_1         |    6: _dictKeyIndex\r\nredis_1         |              at /usr/src/redis/src/dict.c:1038:33\r\nredis_1         |       dictAddRaw\r\nredis_1         |              at /usr/src/redis/src/dict.c:325:18\r\nredis_1         |    7: zunionInterDiffGenericCommand\r\nredis_1         |              at /usr/src/redis/src/t_zset.c:2733:22\r\nredis_1         |    8: call\r\nredis_1         |              at /usr/src/redis/src/server.c:3717:5\r\nredis_1         |    9: processCommand\r\nredis_1         |              at /usr/src/redis/src/server.c:4242:9\r\nredis_1         |   10: processCommandAndResetClient\r\nredis_1         |              at /usr/src/redis/src/networking.c:2018:9\r\nredis_1         |       processInputBuffer\r\nredis_1         |              at /usr/src/redis/src/networking.c:2119:17\r\nredis_1         |   11: callHandler\r\nredis_1         |              at /usr/src/redis/src/connhelpers.h:79:18\r\nredis_1         |       connSocketEventHandler\r\nredis_1         |              at /usr/src/redis/src/connection.c:295:14\r\nredis_1         |   12: aeProcessEvents\r\nredis_1         |              at /usr/src/redis/src/ae.c:427:17\r\nredis_1         |   13: aeMain\r\nredis_1         |              at /usr/src/redis/src/ae.c:487:9\r\nredis_1         |   14: main\r\nredis_1         |              at /usr/src/redis/src/server.c:6396:5\r\nredis_1         |   15: __libc_start_main\r\nredis_1         |   16: _start\r\nredis_1         |\r\nredis_1         |\r\nredis_1         | ------ FAST MEMORY TEST ------\r\nredis_1         | 1:M 29 May 2022 13:02:13.750 # Bio thread for job type #0 terminated\r\nredis_1         | 1:M 29 May 2022 13:02:13.750 # Bio thread for job type #1 terminated\r\nredis_1         | 1:M 29 May 2022 13:02:13.751 # Bio thread for job type #2 terminated\r\nredis_1         | *** Preparing to test memory region 4000213000 (2547712 bytes)\r\nredis_1         | *** Preparing to test memory region 4001c6c000 (12288 bytes)\r\nredis_1         | *** Preparing to test memory region 4001db5000 (8192 bytes)\r\nredis_1         | *** Preparing to test memory region 4002140000 (16384 bytes)\r\nredis_1         | *** Preparing to test memory region 4002162000 (16384 bytes)\r\nredis_1         | *** Preparing to test memory region 4002327000 (40960 bytes)\r\nredis_1         | *** Preparing to test memory region 4002600000 (2097152 bytes)\r\nredis_1         | *** Preparing to test memory region 4002931000 (2097152 bytes)\r\nredis_1         | *** Preparing to test memory region 4003000000 (4194304 bytes)\r\nredis_1         | *** Preparing to test memory region 4003938000 (12288 bytes)\r\nredis_1         | *** Preparing to test memory region 400393c000 (8388608 bytes)\r\nredis_1         | *** Preparing to test memory region 400413d000 (8388608 bytes)\r\nredis_1         | *** Preparing to test memory region 400493e000 (8388608 bytes)\r\nredis_1         | *** Preparing to test memory region 400513f000 (8388608 bytes)\r\nredis_1         | *** Preparing to test memory region 4005940000 (8388608 bytes)\r\nredis_1         | *** Preparing to test memory region 4006140000 (25165824 bytes)\r\nredis_1         | *** Preparing to test memory region 400868b000 (7340032 bytes)\r\nredis_1         | .O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O\r\nredis_1         | Fast memory test PASSED, however your memory can still be broken. Please run a memory test for several hours if possible.\r\nredis_1         |\r\nredis_1         | ------ DUMPING CODE AROUND EIP ------\r\nredis_1         | Symbol: dictSdsKeyCompare (base: 0x400004b610)\r\nredis_1         | Module: redis-server *:6379 (base 0x4000000000)\r\nredis_1         | $ xxd -r -p /tmp/dump.hex /tmp/dump.bin\r\nredis_1         | $ objdump --adjust-vma=0x400004b610 -D -b binary -m i386:x86-64 /tmp/dump.bin\r\nredis_1         | ------\r\nredis_1         | 1:M 29 May 2022 13:02:14.173 # dump of function (hexdump of 180 bytes):\r\nredis_1         | 4889f74889d60fb657ff89d083e0073c040f879f7bffff488d0df2fb14000fb6c0486304814801c8ffe0660f1f440000486357f70fb64eff89c883e0073c040f876a7bffff4c8d05d8fb14000fb6c0496304804c01c0ffe00f1f8400000000008b4ef731c039ca75214883ec08e8ee6cffff85c00f94c04883c4080fb6c0c3900fb74efb31c039ca74dfc30f1f4400000fb64efdebcd662e0f1f840000000000c0e9030fb6c9ebbb0f1f8400000000008b4eefeb\r\nredis_1         | qemu: uncaught target signal 11 (Segmentation fault) - core dumped\r\n\r\n=== REDIS BUG REPORT END. Make sure to include from START to END. ===\r\n```",
  "state": "open",
  "created_at": "2022-05-29T13:11:48Z",
  "updated_at": "2022-05-29T17:42:28Z",
  "closed_at": null,
  "labels": [],
  "comments_data": [
    {
      "id": 1140447713,
      "user": "oranagra",
      "created_at": "2022-05-29T13:18:14Z",
      "body": "probably related to this: https://github.com/docker-library/redis/issues/313\r\nI assume you use docket, in which case please state exactly which image you're using and on what HW platform."
    },
    {
      "id": 1140494217,
      "user": "Mulkave",
      "created_at": "2022-05-29T17:42:28Z",
      "body": "@oranagra it seems related indeed. Thanks for the note!\r\n\r\nUpdated comment above with details:\r\n\r\n- Docker image: `redislabs/rejson:2.0.4`\r\n- Host: `macOS Monterey v12.3.1` (M1)"
    }
  ]
}