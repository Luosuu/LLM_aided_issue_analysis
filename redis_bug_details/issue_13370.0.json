{
  "issue_number": 13370.0,
  "title": "[BUG] Redis Stack cluster 7.2.5 replicas consume much more memory than the masters ",
  "body": "**Describe the bug**\r\nHello!\r\nWe've installed new Redis stack cluster and switched traffic to that cluster. \r\nDocker image `redis/redis-stack-server:7.2.0-v11`\r\nWe noticed that redis replicas use much more memory than masters but the number of keys the same.\r\nOn master:\r\n```\r\nused_memory_human:3.93G\r\ndb0:keys=8324096\r\n```\r\nOn replica:\r\n```\r\nused_memory_human:16.96G\r\ndb0:keys=8324367\r\n```\r\n\r\nOn old cluster everything was ok\r\nDocker image `redis:7.0.15` \r\n\r\nPlease help to find the cause of this behavior \r\n\r\n**Expected behavior**\r\n\r\nMemory usage should be the same on master and replica\r\n\r\n**Additional information**\r\n![image](https://github.com/redis/redis/assets/19188399/9f7efef8-f60c-4170-8f0d-3fc4dd71516a)\r\n\r\nMaster Info\r\n```\r\n# Server\r\nredis_version:7.2.5\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:2c467334f3e9b53d\r\nredis_mode:cluster\r\nos:Linux 6.8.0-35-generic x86_64\r\narch_bits:64\r\nmonotonic_clock:POSIX clock_gettime\r\nmultiplexing_api:epoll\r\natomicvar_api:c11-builtin\r\ngcc_version:11.4.0\r\nprocess_id:8\r\nprocess_supervised:no\r\nrun_id:14ec6725b75b3ffdd173ff1129f78be5cf97c407\r\ntcp_port:7000\r\nserver_time_usec:1719391855949973\r\nuptime_in_seconds:418199\r\nuptime_in_days:4\r\nhz:20\r\nconfigured_hz:10\r\nlru_clock:8115823\r\nexecutable:/opt/redis-stack/bin/redis-server\r\nconfig_file:\r\nio_threads_active:0\r\nlistener0:name=tcp,bind=0.0.0.0,port=7000\r\n\r\n# Clients\r\nconnected_clients:2635\r\ncluster_connections:254\r\nmaxclients:20000\r\nclient_recent_max_input_buffer:131072\r\nclient_recent_max_output_buffer:20504\r\nblocked_clients:0\r\ntracking_clients:0\r\nclients_in_timeout_table:0\r\ntotal_blocking_keys:0\r\ntotal_blocking_keys_on_nokey:0\r\n\r\n# Memory\r\nused_memory:4216335504\r\nused_memory_human:3.93G\r\nused_memory_rss:4810436608\r\nused_memory_rss_human:4.48G\r\nused_memory_peak:5716106944\r\nused_memory_peak_human:5.32G\r\nused_memory_peak_perc:73.76%\r\nused_memory_overhead:1106894952\r\nused_memory_startup:2451608\r\nused_memory_dataset:3109440552\r\nused_memory_dataset_perc:73.79%\r\nallocator_allocated:4217115208\r\nallocator_active:4758700032\r\nallocator_resident:4794286080\r\ntotal_system_memory:810772246528\r\ntotal_system_memory_human:755.09G\r\nused_memory_lua:31744\r\nused_memory_vm_eval:31744\r\nused_memory_lua_human:31.00K\r\nused_memory_scripts_eval:0\r\nnumber_of_cached_scripts:0\r\nnumber_of_functions:0\r\nnumber_of_libraries:0\r\nused_memory_vm_functions:32768\r\nused_memory_vm_total:64512\r\nused_memory_vm_total_human:63.00K\r\nused_memory_functions:184\r\nused_memory_scripts:184\r\nused_memory_scripts_human:184B\r\nmaxmemory:21536119193\r\nmaxmemory_human:20.06G\r\nmaxmemory_policy:volatile-ttl\r\nallocator_frag_ratio:1.13\r\nallocator_frag_bytes:541584824\r\nallocator_rss_ratio:1.01\r\nallocator_rss_bytes:35586048\r\nrss_overhead_ratio:1.00\r\nrss_overhead_bytes:16150528\r\nmem_fragmentation_ratio:1.14\r\nmem_fragmentation_bytes:594001016\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:134219224\r\nmem_total_replication_buffers:134620368\r\nmem_clients_slaves:402640\r\nmem_clients_normal:35185864\r\nmem_cluster_links:272288\r\nmem_aof_buffer:0\r\nmem_allocator:jemalloc-5.3.0\r\nactive_defrag_running:21\r\nlazyfree_pending_objects:0\r\nlazyfreed_objects:0\r\n\r\n# Persistence\r\nloading:0\r\nasync_loading:0\r\ncurrent_cow_peak:0\r\ncurrent_cow_size:0\r\ncurrent_cow_size_age:0\r\ncurrent_fork_perc:0.00\r\ncurrent_save_keys_processed:0\r\ncurrent_save_keys_total:0\r\nrdb_changes_since_last_save:56557029\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1719349548\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:117\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_saves:2\r\nrdb_last_cow_size:1990275072\r\nrdb_last_load_keys_expired:0\r\nrdb_last_load_keys_loaded:0\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_rewrites:0\r\naof_rewrites_consecutive_failures:0\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\nmodule_fork_in_progress:0\r\nmodule_fork_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:104363\r\ntotal_commands_processed:453210114\r\ninstantaneous_ops_per_sec:5380\r\ntotal_net_input_bytes:166123350426\r\ntotal_net_output_bytes:257981435716\r\ntotal_net_repl_input_bytes:0\r\ntotal_net_repl_output_bytes:154466585171\r\ninstantaneous_input_kbps:2388.04\r\ninstantaneous_output_kbps:3679.06\r\ninstantaneous_input_repl_kbps:0.00\r\ninstantaneous_output_repl_kbps:2240.82\r\nrejected_connections:0\r\nsync_full:1\r\nsync_partial_ok:1\r\nsync_partial_err:1\r\nexpired_keys:93846616\r\nexpired_stale_perc:21.79\r\nexpired_time_cap_reached_count:11\r\nexpire_cycle_cpu_milliseconds:445725\r\nevicted_keys:0\r\nevicted_clients:0\r\ntotal_eviction_exceeded_time:0\r\ncurrent_eviction_exceeded_time:0\r\nkeyspace_hits:105231137\r\nkeyspace_misses:170452182\r\npubsub_channels:0\r\npubsub_patterns:0\r\npubsubshard_channels:0\r\nlatest_fork_usec:175818\r\ntotal_forks:3\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:9317255\r\nactive_defrag_misses:42066724\r\nactive_defrag_key_hits:3799233\r\nactive_defrag_key_misses:9321366\r\ntotal_active_defrag_time:81115458\r\ncurrent_active_defrag_time:81115458\r\ntracking_total_keys:0\r\ntracking_total_items:0\r\ntracking_total_prefixes:0\r\nunexpected_error_replies:0\r\ntotal_error_replies:0\r\ndump_payload_sanitizations:0\r\ntotal_reads_processed:461001106\r\ntotal_writes_processed:614492976\r\nio_threaded_reads_processed:0\r\nio_threaded_writes_processed:0\r\nreply_buffer_shrinks:2115628\r\nreply_buffer_expands:3181110\r\neventloop_cycles:447771636\r\neventloop_duration_sum:10275716340\r\neventloop_duration_cmd_sum:1292557317\r\ninstantaneous_eventloop_cycles_per_sec:5350\r\ninstantaneous_eventloop_duration_usec:19\r\nacl_access_denied_auth:0\r\nacl_access_denied_cmd:0\r\nacl_access_denied_key:0\r\nacl_access_denied_channel:0\r\n\r\n# Replication\r\nrole:master\r\nconnected_slaves:1\r\nslave0:ip=10.61.198.52,port=8000,state=online,offset=154464753073,lag=0\r\nmaster_failover_state:no-failover\r\nmaster_replid:b0bd8ac59ad149b12ab62d6062d562974938794c\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:154466567804\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:1\r\nrepl_backlog_size:134217728\r\nrepl_backlog_first_byte_offset:154332335889\r\nrepl_backlog_histlen:134231916\r\n\r\n# CPU\r\nused_cpu_sys:9011.357187\r\nused_cpu_user:3907.550499\r\nused_cpu_sys_children:27.849434\r\nused_cpu_user_children:54.939353\r\nused_cpu_sys_main_thread:9010.300377\r\nused_cpu_user_main_thread:3907.323148\r\n\r\n# Modules\r\nmodule:name=ReJSON,ver=20610,api=1,filters=0,usedby=[search],using=[],options=[handle-io-errors]\r\nmodule:name=timeseries,ver=11012,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=RedisCompat,ver=1,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=redisgears_2,ver=20023,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=search,ver=20814,api=1,filters=0,usedby=[],using=[ReJSON],options=[handle-io-errors]\r\nmodule:name=bf,ver=20612,api=1,filters=0,usedby=[],using=[],options=[]\r\n\r\n# Errorstats\r\n\r\n# Cluster\r\ncluster_enabled:1\r\n\r\n# Keyspace\r\ndb0:keys=8324096,expires=8324096,avg_ttl=32755455\r\n\r\n```\r\n\r\nReplica info\r\n```\r\n# Server\r\nredis_version:7.2.5\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:2c467334f3e9b53d\r\nredis_mode:cluster\r\nos:Linux 6.8.0-35-generic x86_64\r\narch_bits:64\r\nmonotonic_clock:POSIX clock_gettime\r\nmultiplexing_api:epoll\r\natomicvar_api:c11-builtin\r\ngcc_version:11.4.0\r\nprocess_id:8\r\nprocess_supervised:no\r\nrun_id:3dad3647e32deb4cf648d544b1ff1ebfcc0544cb\r\ntcp_port:8000\r\nserver_time_usec:1719391856465762\r\nuptime_in_seconds:165078\r\nuptime_in_days:1\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:8115824\r\nexecutable:/opt/redis-stack/bin/redis-server\r\nconfig_file:\r\nio_threads_active:0\r\nlistener0:name=tcp,bind=0.0.0.0,port=8000\r\n\r\n# Clients\r\nconnected_clients:6\r\ncluster_connections:254\r\nmaxclients:20000\r\nclient_recent_max_input_buffer:163840\r\nclient_recent_max_output_buffer:0\r\nblocked_clients:0\r\ntracking_clients:0\r\nclients_in_timeout_table:0\r\ntotal_blocking_keys:0\r\ntotal_blocking_keys_on_nokey:0\r\n\r\n# Memory\r\nused_memory:18207236904\r\nused_memory_human:16.96G\r\nused_memory_rss:19306369024\r\nused_memory_rss_human:17.98G\r\nused_memory_peak:18207327304\r\nused_memory_peak_human:16.96G\r\nused_memory_peak_perc:100.00%\r\nused_memory_overhead:1072148528\r\nused_memory_startup:2806592\r\nused_memory_dataset:17135088376\r\nused_memory_dataset_perc:94.13%\r\nallocator_allocated:18207893296\r\nallocator_active:19165020160\r\nallocator_resident:19291045888\r\ntotal_system_memory:810772246528\r\ntotal_system_memory_human:755.09G\r\nused_memory_lua:31744\r\nused_memory_vm_eval:31744\r\nused_memory_lua_human:31.00K\r\nused_memory_scripts_eval:0\r\nnumber_of_cached_scripts:0\r\nnumber_of_functions:0\r\nnumber_of_libraries:0\r\nused_memory_vm_functions:32768\r\nused_memory_vm_total:64512\r\nused_memory_vm_total_human:63.00K\r\nused_memory_functions:184\r\nused_memory_scripts:184\r\nused_memory_scripts_human:184B\r\nmaxmemory:21536119193\r\nmaxmemory_human:20.06G\r\nmaxmemory_policy:volatile-ttl\r\nallocator_frag_ratio:1.05\r\nallocator_frag_bytes:957126864\r\nallocator_rss_ratio:1.01\r\nallocator_rss_bytes:126025728\r\nrss_overhead_ratio:1.00\r\nrss_overhead_bytes:15323136\r\nmem_fragmentation_ratio:1.06\r\nmem_fragmentation_bytes:1099090552\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:134642240\r\nmem_total_replication_buffers:134640728\r\nmem_clients_slaves:0\r\nmem_clients_normal:42400\r\nmem_cluster_links:272288\r\nmem_aof_buffer:0\r\nmem_allocator:jemalloc-5.3.0\r\nactive_defrag_running:7\r\nlazyfree_pending_objects:0\r\nlazyfreed_objects:0\r\n\r\n# Persistence\r\nloading:0\r\nasync_loading:0\r\ncurrent_cow_peak:0\r\ncurrent_cow_size:0\r\ncurrent_cow_size_age:0\r\ncurrent_fork_perc:0.00\r\ncurrent_save_keys_processed:0\r\ncurrent_save_keys_total:0\r\nrdb_changes_since_last_save:92860890\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1719349502\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:71\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_saves:2\r\nrdb_last_cow_size:1687769088\r\nrdb_last_load_keys_expired:0\r\nrdb_last_load_keys_loaded:0\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_rewrites:0\r\naof_rewrites_consecutive_failures:0\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\nmodule_fork_in_progress:0\r\nmodule_fork_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:3252\r\ntotal_commands_processed:259959776\r\ninstantaneous_ops_per_sec:2960\r\ntotal_net_input_bytes:154468574324\r\ntotal_net_output_bytes:63494702\r\ntotal_net_repl_input_bytes:154467861428\r\ntotal_net_repl_output_bytes:0\r\ninstantaneous_input_kbps:2478.55\r\ninstantaneous_output_kbps:0.06\r\ninstantaneous_input_repl_kbps:2478.55\r\ninstantaneous_output_repl_kbps:0.00\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:0\r\nexpired_stale_perc:0.00\r\nexpired_time_cap_reached_count:0\r\nexpire_cycle_cpu_milliseconds:0\r\nevicted_keys:0\r\nevicted_clients:0\r\ntotal_eviction_exceeded_time:0\r\ncurrent_eviction_exceeded_time:0\r\nkeyspace_hits:0\r\nkeyspace_misses:0\r\npubsub_channels:0\r\npubsub_patterns:0\r\npubsubshard_channels:0\r\nlatest_fork_usec:348598\r\ntotal_forks:2\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:2078870\r\nactive_defrag_misses:19779844\r\nactive_defrag_key_hits:292225\r\nactive_defrag_key_misses:4450467\r\ntotal_active_defrag_time:81107369\r\ncurrent_active_defrag_time:81107369\r\ntracking_total_keys:0\r\ntracking_total_items:0\r\ntracking_total_prefixes:0\r\nunexpected_error_replies:0\r\ntotal_error_replies:0\r\ndump_payload_sanitizations:0\r\ntotal_reads_processed:166043155\r\ntotal_writes_processed:186927\r\nio_threaded_reads_processed:0\r\nio_threaded_writes_processed:0\r\nreply_buffer_shrinks:495\r\nreply_buffer_expands:0\r\neventloop_cycles:176987796\r\neventloop_duration_sum:2756812111\r\neventloop_duration_cmd_sum:1026908666\r\ninstantaneous_eventloop_cycles_per_sec:1983\r\ninstantaneous_eventloop_duration_usec:13\r\nacl_access_denied_auth:0\r\nacl_access_denied_cmd:0\r\nacl_access_denied_key:0\r\nacl_access_denied_channel:0\r\n\r\n# Replication\r\nrole:slave\r\nmaster_host:10.61.206.12\r\nmaster_port:7000\r\nmaster_link_status:up\r\nmaster_last_io_seconds_ago:0\r\nmaster_sync_in_progress:0\r\nslave_read_repl_offset:154467861442\r\nslave_repl_offset:154467861442\r\nslave_priority:100\r\nslave_read_only:1\r\nreplica_announced:1\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:b0bd8ac59ad149b12ab62d6062d562974938794c\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:154467861442\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:1\r\nrepl_backlog_size:134217728\r\nrepl_backlog_first_byte_offset:154333595671\r\nrepl_backlog_histlen:134265772\r\n\r\n# CPU\r\nused_cpu_sys:1681.486374\r\nused_cpu_user:2045.363954\r\nused_cpu_sys_children:8.004717\r\nused_cpu_user_children:57.442918\r\nused_cpu_sys_main_thread:1680.803070\r\nused_cpu_user_main_thread:2045.149639\r\n\r\n# Modules\r\nmodule:name=ReJSON,ver=20610,api=1,filters=0,usedby=[search],using=[],options=[handle-io-errors]\r\nmodule:name=timeseries,ver=11012,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=search,ver=20814,api=1,filters=0,usedby=[],using=[ReJSON],options=[handle-io-errors]\r\nmodule:name=bf,ver=20612,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=redisgears_2,ver=20023,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=RedisCompat,ver=1,api=1,filters=0,usedby=[],using=[],options=[]\r\n\r\n# Errorstats\r\n\r\n# Cluster\r\ncluster_enabled:1\r\n\r\n# Keyspace\r\ndb0:keys=8324367,expires=8324367,avg_ttl=0\r\n```",
  "state": "open",
  "created_at": "2024-06-26T10:14:54Z",
  "updated_at": "2024-08-09T14:12:21Z",
  "closed_at": null,
  "labels": [
    "critical bug",
    "replication"
  ],
  "comments_data": [
    {
      "id": 2191564861,
      "user": "artful88533",
      "created_at": "2024-06-26T12:27:28Z",
      "body": "Replica restarting **temporarily** fixes the issue, but then memory usage on the replica becomes higher than on the master\r\n\r\n![image](https://github.com/redis/redis/assets/19188399/1c785f59-60e4-47d8-8a4f-d061885b3b09)\r\n"
    },
    {
      "id": 2191592719,
      "user": "sundb",
      "created_at": "2024-06-26T12:40:00Z",
      "body": "@artful88533 can you give the infos of master and replication now?\r\nbtw, please use `info all` instead of `info`."
    },
    {
      "id": 2191825089,
      "user": "artful88533",
      "created_at": "2024-06-26T14:15:28Z",
      "body": "@sundb  info all\r\n\r\nMaster\r\n```\r\n# Server\r\nredis_version:7.2.5\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:2c467334f3e9b53d\r\nredis_mode:cluster\r\nos:Linux 6.8.0-35-generic x86_64\r\narch_bits:64\r\nmonotonic_clock:POSIX clock_gettime\r\nmultiplexing_api:epoll\r\natomicvar_api:c11-builtin\r\ngcc_version:11.4.0\r\nprocess_id:8\r\nprocess_supervised:no\r\nrun_id:14ec6725b75b3ffdd173ff1129f78be5cf97c407\r\ntcp_port:7000\r\nserver_time_usec:1719411182497502\r\nuptime_in_seconds:437526\r\nuptime_in_days:5\r\nhz:20\r\nconfigured_hz:10\r\nlru_clock:8135150\r\nexecutable:/opt/redis-stack/bin/redis-server\r\nconfig_file:\r\nio_threads_active:0\r\nlistener0:name=tcp,bind=0.0.0.0,port=7000\r\n\r\n# Clients\r\nconnected_clients:2739\r\ncluster_connections:254\r\nmaxclients:20000\r\nclient_recent_max_input_buffer:114688\r\nclient_recent_max_output_buffer:49176\r\nblocked_clients:0\r\ntracking_clients:0\r\nclients_in_timeout_table:0\r\ntotal_blocking_keys:0\r\ntotal_blocking_keys_on_nokey:0\r\n\r\n# Memory\r\nused_memory:5052370408\r\nused_memory_human:4.71G\r\nused_memory_rss:5266243584\r\nused_memory_rss_human:4.90G\r\nused_memory_peak:5716106944\r\nused_memory_peak_human:5.32G\r\nused_memory_peak_perc:88.39%\r\nused_memory_overhead:1207524492\r\nused_memory_startup:2451608\r\nused_memory_dataset:3844845916\r\nused_memory_dataset_perc:76.14%\r\nallocator_allocated:5053043632\r\nallocator_active:5216206848\r\nallocator_resident:5252055040\r\ntotal_system_memory:810772246528\r\ntotal_system_memory_human:755.09G\r\nused_memory_lua:31744\r\nused_memory_vm_eval:31744\r\nused_memory_lua_human:31.00K\r\nused_memory_scripts_eval:0\r\nnumber_of_cached_scripts:0\r\nnumber_of_functions:0\r\nnumber_of_libraries:0\r\nused_memory_vm_functions:32768\r\nused_memory_vm_total:64512\r\nused_memory_vm_total_human:63.00K\r\nused_memory_functions:184\r\nused_memory_scripts:184\r\nused_memory_scripts_human:184B\r\nmaxmemory:21536119193\r\nmaxmemory_human:20.06G\r\nmaxmemory_policy:volatile-ttl\r\nallocator_frag_ratio:1.03\r\nallocator_frag_bytes:163163216\r\nallocator_rss_ratio:1.01\r\nallocator_rss_bytes:35848192\r\nrss_overhead_ratio:1.00\r\nrss_overhead_bytes:14188544\r\nmem_fragmentation_ratio:1.04\r\nmem_fragmentation_bytes:213611632\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:134219244\r\nmem_total_replication_buffers:134650600\r\nmem_clients_slaves:432872\r\nmem_clients_normal:37507552\r\nmem_cluster_links:272288\r\nmem_aof_buffer:0\r\nmem_allocator:jemalloc-5.3.0\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\nlazyfreed_objects:0\r\n\r\n# Persistence\r\nloading:0\r\nasync_loading:0\r\ncurrent_cow_peak:0\r\ncurrent_cow_size:0\r\ncurrent_cow_size_age:0\r\ncurrent_fork_perc:0.00\r\ncurrent_save_keys_processed:0\r\ncurrent_save_keys_total:0\r\nrdb_changes_since_last_save:41234717\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1719392816\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:71\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_saves:3\r\nrdb_last_cow_size:1409675264\r\nrdb_last_load_keys_expired:0\r\nrdb_last_load_keys_loaded:0\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_rewrites:0\r\naof_rewrites_consecutive_failures:0\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\nmodule_fork_in_progress:0\r\nmodule_fork_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:137545\r\ntotal_commands_processed:573773169\r\ninstantaneous_ops_per_sec:6588\r\ntotal_net_input_bytes:212281248854\r\ntotal_net_output_bytes:332599065716\r\ntotal_net_repl_input_bytes:0\r\ntotal_net_repl_output_bytes:199765961528\r\ninstantaneous_input_kbps:2383.74\r\ninstantaneous_output_kbps:3574.87\r\ninstantaneous_input_repl_kbps:0.00\r\ninstantaneous_output_repl_kbps:2239.49\r\nrejected_connections:0\r\nsync_full:2\r\nsync_partial_ok:1\r\nsync_partial_err:2\r\nexpired_keys:119159842\r\nexpired_stale_perc:25.42\r\nexpired_time_cap_reached_count:12\r\nexpire_cycle_cpu_milliseconds:563633\r\nevicted_keys:0\r\nevicted_clients:0\r\ntotal_eviction_exceeded_time:0\r\ncurrent_eviction_exceeded_time:0\r\nkeyspace_hits:133493539\r\nkeyspace_misses:216862575\r\npubsub_channels:0\r\npubsub_patterns:0\r\npubsubshard_channels:0\r\nlatest_fork_usec:119115\r\ntotal_forks:5\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:9336814\r\nactive_defrag_misses:44453486\r\nactive_defrag_key_hits:3799233\r\nactive_defrag_key_misses:9321366\r\ntotal_active_defrag_time:94672043\r\ncurrent_active_defrag_time:0\r\ntracking_total_keys:0\r\ntracking_total_items:0\r\ntracking_total_prefixes:0\r\nunexpected_error_replies:0\r\ntotal_error_replies:1\r\ndump_payload_sanitizations:0\r\ntotal_reads_processed:583996420\r\ntotal_writes_processed:777153812\r\nio_threaded_reads_processed:0\r\nio_threaded_writes_processed:0\r\nreply_buffer_shrinks:2669507\r\nreply_buffer_expands:4037937\r\neventloop_cycles:565993588\r\neventloop_duration_sum:12680422878\r\neventloop_duration_cmd_sum:1628556073\r\ninstantaneous_eventloop_cycles_per_sec:6406\r\ninstantaneous_eventloop_duration_usec:20\r\nacl_access_denied_auth:0\r\nacl_access_denied_cmd:0\r\nacl_access_denied_key:0\r\nacl_access_denied_channel:0\r\n\r\n# Replication\r\nrole:master\r\nconnected_slaves:1\r\nslave0:ip=10.61.198.52,port=8000,state=online,offset=197442264394,lag=1\r\nmaster_failover_state:no-failover\r\nmaster_replid:b0bd8ac59ad149b12ab62d6062d562974938794c\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:197443690201\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:1\r\nrepl_backlog_size:134217728\r\nrepl_backlog_first_byte_offset:197309422657\r\nrepl_backlog_histlen:134267545\r\n\r\n# CPU\r\nused_cpu_sys:11137.077937\r\nused_cpu_user:4828.276041\r\nused_cpu_sys_children:56.291261\r\nused_cpu_user_children:136.931994\r\nused_cpu_sys_main_thread:11135.819402\r\nused_cpu_user_main_thread:4828.019535\r\n\r\n# Modules\r\nmodule:name=ReJSON,ver=20610,api=1,filters=0,usedby=[search],using=[],options=[handle-io-errors]\r\nmodule:name=timeseries,ver=11012,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=RedisCompat,ver=1,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=redisgears_2,ver=20023,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=search,ver=20814,api=1,filters=0,usedby=[],using=[ReJSON],options=[handle-io-errors]\r\nmodule:name=bf,ver=20612,api=1,filters=0,usedby=[],using=[],options=[]\r\n\r\n# Commandstats\r\ncmdstat_replconf:calls=195637,usec=258620,usec_per_call=1.32,rejected_calls=0,failed_calls=0\r\ncmdstat_latency|latest:calls=3261,usec=3046,usec_per_call=0.93,rejected_calls=0,failed_calls=0\r\ncmdstat_latency|histogram:calls=3261,usec=1157782,usec_per_call=355.04,rejected_calls=0,failed_calls=0\r\ncmdstat_command|docs:calls=1,usec=683,usec_per_call=683.00,rejected_calls=0,failed_calls=0\r\ncmdstat_function|dump:calls=48,usec=84,usec_per_call=1.75,rejected_calls=0,failed_calls=0\r\ncmdstat_setex:calls=108105725,usec=511996068,usec_per_call=4.74,rejected_calls=0,failed_calls=0\r\ncmdstat_client|setinfo:calls=128,usec=29,usec_per_call=0.23,rejected_calls=0,failed_calls=0\r\ncmdstat_client|setname:calls=3299,usec=6909,usec_per_call=2.09,rejected_calls=0,failed_calls=0\r\ncmdstat_expire:calls=6455094,usec=15080794,usec_per_call=2.34,rejected_calls=0,failed_calls=0\r\ncmdstat_del:calls=4464148,usec=18065004,usec_per_call=4.05,rejected_calls=0,failed_calls=0\r\ncmdstat_quit:calls=3137,usec=1489,usec_per_call=0.47,rejected_calls=0,failed_calls=0\r\ncmdstat_get:calls=350356114,usec=607204482,usec_per_call=1.73,rejected_calls=1,failed_calls=0\r\ncmdstat_info:calls=3425,usec=848013,usec_per_call=247.60,rejected_calls=0,failed_calls=0\r\ncmdstat_slowlog|len:calls=3261,usec=1957,usec_per_call=0.60,rejected_calls=0,failed_calls=0\r\ncmdstat_slowlog|get:calls=3261,usec=1411,usec_per_call=0.43,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|info:calls=3262,usec=113298,usec_per_call=34.73,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|myid:calls=25,usec=19,usec_per_call=0.76,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|slots:calls=3046,usec=194229,usec_per_call=63.77,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|nodes:calls=347,usec=29109,usec_per_call=83.89,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|setslot:calls=13056,usec=30047,usec_per_call=2.30,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|addslots:calls=1,usec=35,usec_per_call=35.00,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|getkeysinslot:calls=768,usec=769,usec_per_call=1.00,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|set-config-epoch:calls=1,usec=12,usec_per_call=12.00,rejected_calls=0,failed_calls=0\r\ncmdstat_hello:calls=943,usec=9625,usec_per_call=10.21,rejected_calls=0,failed_calls=0\r\ncmdstat_set:calls=104148646,usec=472837000,usec_per_call=4.54,rejected_calls=0,failed_calls=0\r\ncmdstat_dbsize:calls=2,usec=2,usec_per_call=1.00,rejected_calls=0,failed_calls=0\r\ncmdstat_psync:calls=3,usec=75,usec_per_call=25.00,rejected_calls=0,failed_calls=0\r\ncmdstat_config|get:calls=3266,usec=715510,usec_per_call=219.08,rejected_calls=0,failed_calls=0\r\ncmdstat_ping:calls=3,usec=9,usec_per_call=3.00,rejected_calls=0,failed_calls=0\r\n\r\n# Errorstats\r\nerrorstat_ERR:count=1\r\n\r\n# Latencystats\r\nlatency_percentiles_usec_replconf:p50=1.003,p99=7.007,p99.9=51.199\r\nlatency_percentiles_usec_latency|latest:p50=1.003,p99=6.015,p99.9=10.047\r\nlatency_percentiles_usec_latency|histogram:p50=387.071,p99=522.239,p99.9=598.015\r\nlatency_percentiles_usec_command|docs:p50=684.031,p99=684.031,p99.9=684.031\r\nlatency_percentiles_usec_function|dump:p50=2.007,p99=2.007,p99.9=2.007\r\nlatency_percentiles_usec_setex:p50=4.015,p99=17.023,p99.9=28.031\r\nlatency_percentiles_usec_client|setinfo:p50=0.001,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_client|setname:p50=2.007,p99=8.031,p99.9=21.119\r\nlatency_percentiles_usec_expire:p50=2.007,p99=12.031,p99.9=22.015\r\nlatency_percentiles_usec_del:p50=3.007,p99=16.063,p99.9=28.031\r\nlatency_percentiles_usec_quit:p50=0.001,p99=5.023,p99.9=14.015\r\nlatency_percentiles_usec_get:p50=1.003,p99=11.007,p99.9=20.095\r\nlatency_percentiles_usec_info:p50=246.783,p99=350.207,p99.9=436.223\r\nlatency_percentiles_usec_slowlog|len:p50=1.003,p99=3.007,p99.9=14.015\r\nlatency_percentiles_usec_slowlog|get:p50=0.001,p99=1.003,p99.9=9.023\r\nlatency_percentiles_usec_cluster|info:p50=32.127,p99=60.159,p99.9=80.383\r\nlatency_percentiles_usec_cluster|myid:p50=1.003,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_cluster|slots:p50=62.207,p99=100.351,p99.9=120.319\r\nlatency_percentiles_usec_cluster|nodes:p50=75.263,p99=197.631,p99.9=207.871\r\nlatency_percentiles_usec_cluster|setslot:p50=2.007,p99=8.031,p99.9=18.047\r\nlatency_percentiles_usec_cluster|addslots:p50=35.071,p99=35.071,p99.9=35.071\r\nlatency_percentiles_usec_cluster|getkeysinslot:p50=1.003,p99=2.007,p99.9=2.007\r\nlatency_percentiles_usec_cluster|set-config-epoch:p50=12.031,p99=12.031,p99.9=12.031\r\nlatency_percentiles_usec_hello:p50=8.031,p99=27.007,p99.9=38.143\r\nlatency_percentiles_usec_set:p50=4.015,p99=18.047,p99.9=36.095\r\nlatency_percentiles_usec_dbsize:p50=1.003,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_psync:p50=26.111,p99=29.055,p99.9=29.055\r\nlatency_percentiles_usec_config|get:p50=228.351,p99=333.823,p99.9=401.407\r\nlatency_percentiles_usec_ping:p50=1.003,p99=8.031,p99.9=8.031\r\n\r\n# Cluster\r\ncluster_enabled:1\r\n\r\n# Keyspace\r\ndb0:keys=9552566,expires=9552566,avg_ttl=21142371\r\n```\r\n\r\nReplica\r\n```\r\n# Server\r\nredis_version:7.2.5\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:2c467334f3e9b53d\r\nredis_mode:cluster\r\nos:Linux 6.8.0-35-generic x86_64\r\narch_bits:64\r\nmonotonic_clock:POSIX clock_gettime\r\nmultiplexing_api:epoll\r\natomicvar_api:c11-builtin\r\ngcc_version:11.4.0\r\nprocess_id:8\r\nprocess_supervised:no\r\nrun_id:7eea49cc4947ad3fe81cb92da92dc91405cbb4b2\r\ntcp_port:8000\r\nserver_time_usec:1719411185334252\r\nuptime_in_seconds:13384\r\nuptime_in_days:0\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:8135153\r\nexecutable:/opt/redis-stack/bin/redis-server\r\nconfig_file:\r\nio_threads_active:0\r\nlistener0:name=tcp,bind=0.0.0.0,port=8000\r\n\r\n# Clients\r\nconnected_clients:3\r\ncluster_connections:254\r\nmaxclients:25000\r\nclient_recent_max_input_buffer:327680\r\nclient_recent_max_output_buffer:0\r\nblocked_clients:0\r\ntracking_clients:0\r\nclients_in_timeout_table:0\r\ntotal_blocking_keys:0\r\ntotal_blocking_keys_on_nokey:0\r\n\r\n# Memory\r\nused_memory:7736771296\r\nused_memory_human:7.21G\r\nused_memory_rss:7869845504\r\nused_memory_rss_human:7.33G\r\nused_memory_peak:7737210440\r\nused_memory_peak_human:7.21G\r\nused_memory_peak_perc:99.99%\r\nused_memory_overhead:1170844472\r\nused_memory_startup:3199776\r\nused_memory_dataset:6565926824\r\nused_memory_dataset_perc:84.90%\r\nallocator_allocated:7737636208\r\nallocator_active:7807827968\r\nallocator_resident:7859470336\r\ntotal_system_memory:810772246528\r\ntotal_system_memory_human:755.09G\r\nused_memory_lua:31744\r\nused_memory_vm_eval:31744\r\nused_memory_lua_human:31.00K\r\nused_memory_scripts_eval:0\r\nnumber_of_cached_scripts:0\r\nnumber_of_functions:0\r\nnumber_of_libraries:0\r\nused_memory_vm_functions:32768\r\nused_memory_vm_total:64512\r\nused_memory_vm_total_human:63.00K\r\nused_memory_functions:184\r\nused_memory_scripts:184\r\nused_memory_scripts_human:184B\r\nmaxmemory:21536119193\r\nmaxmemory_human:20.06G\r\nmaxmemory_policy:volatile-ttl\r\nallocator_frag_ratio:1.01\r\nallocator_frag_bytes:70191760\r\nallocator_rss_ratio:1.01\r\nallocator_rss_bytes:51642368\r\nrss_overhead_ratio:1.00\r\nrss_overhead_bytes:10375168\r\nmem_fragmentation_ratio:1.02\r\nmem_fragmentation_bytes:133165136\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:134614144\r\nmem_total_replication_buffers:134612632\r\nmem_clients_slaves:0\r\nmem_clients_normal:118536\r\nmem_cluster_links:272288\r\nmem_aof_buffer:0\r\nmem_allocator:jemalloc-5.3.0\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\nlazyfreed_objects:0\r\n\r\n# Persistence\r\nloading:0\r\nasync_loading:0\r\ncurrent_cow_peak:0\r\ncurrent_cow_size:0\r\ncurrent_cow_size_age:0\r\ncurrent_fork_perc:0.00\r\ncurrent_save_keys_processed:0\r\ncurrent_save_keys_total:0\r\nrdb_changes_since_last_save:49131156\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1719397801\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:-1\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_saves:0\r\nrdb_last_cow_size:0\r\nrdb_last_load_keys_expired:0\r\nrdb_last_load_keys_loaded:8871242\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_rewrites:0\r\naof_rewrites_consecutive_failures:0\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\nmodule_fork_in_progress:0\r\nmodule_fork_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:365\r\ntotal_commands_processed:49135853\r\ninstantaneous_ops_per_sec:3482\r\ntotal_net_input_bytes:32714093799\r\ntotal_net_output_bytes:6648884\r\ntotal_net_repl_input_bytes:32714032440\r\ntotal_net_repl_output_bytes:0\r\ninstantaneous_input_kbps:2536.52\r\ninstantaneous_output_kbps:0.06\r\ninstantaneous_input_repl_kbps:2536.52\r\ninstantaneous_output_repl_kbps:0.00\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:0\r\nexpired_stale_perc:0.00\r\nexpired_time_cap_reached_count:0\r\nexpire_cycle_cpu_milliseconds:0\r\nevicted_keys:0\r\nevicted_clients:0\r\ntotal_eviction_exceeded_time:0\r\ncurrent_eviction_exceeded_time:0\r\nkeyspace_hits:34532516\r\nkeyspace_misses:0\r\npubsub_channels:0\r\npubsub_patterns:0\r\npubsubshard_channels:0\r\nlatest_fork_usec:0\r\ntotal_forks:0\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:0\r\nactive_defrag_misses:0\r\nactive_defrag_key_hits:0\r\nactive_defrag_key_misses:0\r\ntotal_active_defrag_time:0\r\ncurrent_active_defrag_time:0\r\ntracking_total_keys:0\r\ntracking_total_items:0\r\ntracking_total_prefixes:0\r\nunexpected_error_replies:0\r\ntotal_error_replies:1\r\ndump_payload_sanitizations:0\r\ntotal_reads_processed:30826526\r\ntotal_writes_processed:15153\r\nio_threaded_reads_processed:0\r\nio_threaded_writes_processed:0\r\nreply_buffer_shrinks:141\r\nreply_buffer_expands:0\r\neventloop_cycles:31900394\r\neventloop_duration_sum:439098958\r\neventloop_duration_cmd_sum:177461812\r\ninstantaneous_eventloop_cycles_per_sec:2354\r\ninstantaneous_eventloop_duration_usec:11\r\nacl_access_denied_auth:0\r\nacl_access_denied_cmd:0\r\nacl_access_denied_key:0\r\nacl_access_denied_channel:0\r\n\r\n# Replication\r\nrole:slave\r\nmaster_host:10.61.206.12\r\nmaster_port:7000\r\nmaster_link_status:up\r\nmaster_last_io_seconds_ago:0\r\nmaster_sync_in_progress:0\r\nslave_read_repl_offset:197450677970\r\nslave_repl_offset:197450677970\r\nslave_priority:100\r\nslave_read_only:1\r\nreplica_announced:1\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:b0bd8ac59ad149b12ab62d6062d562974938794c\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:197450677970\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:1\r\nrepl_backlog_size:134217728\r\nrepl_backlog_first_byte_offset:197316444908\r\nrepl_backlog_histlen:134233063\r\n\r\n# CPU\r\nused_cpu_sys:258.798647\r\nused_cpu_user:372.687360\r\nused_cpu_sys_children:0.000000\r\nused_cpu_user_children:0.000000\r\nused_cpu_sys_main_thread:257.721549\r\nused_cpu_user_main_thread:372.727912\r\n\r\n# Modules\r\nmodule:name=timeseries,ver=11012,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=ReJSON,ver=20610,api=1,filters=0,usedby=[search],using=[],options=[handle-io-errors]\r\nmodule:name=RedisCompat,ver=1,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=bf,ver=20612,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=redisgears_2,ver=20023,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=search,ver=20814,api=1,filters=0,usedby=[],using=[ReJSON],options=[handle-io-errors]\r\n\r\n# Commandstats\r\ncmdstat_pexpireat:calls=1037954,usec=2759005,usec_per_call=2.66,rejected_calls=0,failed_calls=0\r\ncmdstat_latency|latest:calls=223,usec=194,usec_per_call=0.87,rejected_calls=0,failed_calls=0\r\ncmdstat_latency|histogram:calls=223,usec=48833,usec_per_call=218.98,rejected_calls=0,failed_calls=0\r\ncmdstat_select:calls=1,usec=1,usec_per_call=1.00,rejected_calls=0,failed_calls=0\r\ncmdstat_ping:calls=1318,usec=240,usec_per_call=0.18,rejected_calls=0,failed_calls=0\r\ncmdstat_exec:calls=708,usec=5908,usec_per_call=8.34,rejected_calls=0,failed_calls=0\r\ncmdstat_client|setinfo:calls=12,usec=7,usec_per_call=0.58,rejected_calls=0,failed_calls=0\r\ncmdstat_client|setname:calls=223,usec=367,usec_per_call=1.65,rejected_calls=0,failed_calls=0\r\ncmdstat_info:calls=229,usec=40011,usec_per_call=174.72,rejected_calls=0,failed_calls=0\r\ncmdstat_config|get:calls=224,usec=46177,usec_per_call=206.15,rejected_calls=0,failed_calls=0\r\ncmdstat_multi:calls=708,usec=89,usec_per_call=0.13,rejected_calls=0,failed_calls=0\r\ncmdstat_del:calls=18960123,usec=62272407,usec_per_call=3.28,rejected_calls=0,failed_calls=0\r\ncmdstat_set:calls=29133079,usec=112278645,usec_per_call=3.85,rejected_calls=0,failed_calls=0\r\ncmdstat_hello:calls=7,usec=72,usec_per_call=10.29,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|info:calls=222,usec=6392,usec_per_call=28.79,rejected_calls=1,failed_calls=0\r\ncmdstat_cluster|myid:calls=7,usec=4,usec_per_call=0.57,rejected_calls=0,failed_calls=0\r\ncmdstat_cluster|slots:calls=141,usec=7577,usec_per_call=53.74,rejected_calls=0,failed_calls=0\r\ncmdstat_slowlog|get:calls=223,usec=847,usec_per_call=3.80,rejected_calls=0,failed_calls=0\r\ncmdstat_slowlog|len:calls=223,usec=167,usec_per_call=0.75,rejected_calls=0,failed_calls=0\r\ncmdstat_quit:calls=5,usec=4,usec_per_call=0.80,rejected_calls=0,failed_calls=0\r\n\r\n# Errorstats\r\nerrorstat_LOADING:count=1\r\n\r\n# Latencystats\r\nlatency_percentiles_usec_pexpireat:p50=3.007,p99=5.023,p99.9=8.031\r\nlatency_percentiles_usec_latency|latest:p50=1.003,p99=2.007,p99.9=2.007\r\nlatency_percentiles_usec_latency|histogram:p50=221.183,p99=268.287,p99.9=270.335\r\nlatency_percentiles_usec_select:p50=1.003,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_ping:p50=0.001,p99=1.003,p99.9=5.023\r\nlatency_percentiles_usec_exec:p50=8.031,p99=16.063,p99.9=22.015\r\nlatency_percentiles_usec_client|setinfo:p50=1.003,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_client|setname:p50=2.007,p99=2.007,p99.9=4.015\r\nlatency_percentiles_usec_info:p50=177.151,p99=214.015,p99.9=217.087\r\nlatency_percentiles_usec_config|get:p50=208.895,p99=272.383,p99.9=296.959\r\nlatency_percentiles_usec_multi:p50=0.001,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_del:p50=3.007,p99=8.031,p99.9=18.047\r\nlatency_percentiles_usec_set:p50=4.015,p99=10.047,p99.9=37.119\r\nlatency_percentiles_usec_hello:p50=10.047,p99=15.039,p99.9=15.039\r\nlatency_percentiles_usec_cluster|info:p50=27.007,p99=41.215,p99.9=44.031\r\nlatency_percentiles_usec_cluster|myid:p50=1.003,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_cluster|slots:p50=53.247,p99=77.311,p99.9=80.383\r\nlatency_percentiles_usec_slowlog|get:p50=4.015,p99=5.023,p99.9=5.023\r\nlatency_percentiles_usec_slowlog|len:p50=1.003,p99=1.003,p99.9=1.003\r\nlatency_percentiles_usec_quit:p50=1.003,p99=1.003,p99.9=1.003\r\n\r\n# Cluster\r\ncluster_enabled:1\r\n\r\n# Keyspace\r\ndb0:keys=9552551,expires=9552551,avg_ttl=0\r\n```"
    },
    {
      "id": 2192882554,
      "user": "sundb",
      "created_at": "2024-06-27T01:26:29Z",
      "body": "@artful88533 the main memory footprint is on the dataset, but I don't know why, what data tyes do you mainly use, include module data type?\r\n"
    },
    {
      "id": 2197104047,
      "user": "artful88533",
      "created_at": "2024-06-28T14:45:17Z",
      "body": "@sundb we use key-value data and update the TTL after consuming keys. We haven't used modules yet.\r\n\r\nFor now, we've reinstalled the cluster to redis oss 7.0.15"
    },
    {
      "id": 2268405988,
      "user": "aeber",
      "created_at": "2024-08-05T07:51:27Z",
      "body": "We had the same behavior when switching from a Redis 7.0.10 sentinel setup to Redis Stack 7.2.0.\r\n\r\nIn https://github.com/redis-stack/redis-stack/issues/527 @druidai-devops noticed that removing the redisgears module solved their memory issue and this also worked for us. "
    },
    {
      "id": 2268503214,
      "user": "sundb",
      "created_at": "2024-08-05T08:43:10Z",
      "body": "@aeber thanks for figuring out, i see that RedisGear is no longer in the lastest RedisStack(7.4), @artful8853 can you try the newly one?"
    },
    {
      "id": 2278043112,
      "user": "artful88533",
      "created_at": "2024-08-09T14:12:20Z",
      "body": "Unfortunately, I cannot reinstall the current Redis cluster to Redis Stack at this time. Maybe I'll try later."
    }
  ]
}