{
  "issue_number": 11250.0,
  "title": "[CRASH] ",
  "body": "**Crash report**\r\n\r\nPaste the complete crash log between the quotes below. Please include a few lines from the log preceding the crash report to provide some context.\r\n\r\nmaybe related:\r\n```\r\n9:M 07 Sep 2022 23:20:47.135 # Background saving terminated by signal 6\r\n9:M 07 Sep 2022 23:20:52.079 * 1 changes in 3600 seconds. Saving...\r\n9:M 07 Sep 2022 23:20:52.081 * Background saving started by pid 1001\r\n1001:C 07 Sep 2022 23:20:52.081 * <graph> Created 0 virtual keys for graph graphkey\r\nthread '<unnamed>' panicked at 'byte index 24 is not a char boundary; it is inside '\\0' (bytes 23..24) of `0�׭���/�sE�|wle\": \"post title\", \"createdAt\": 1657453992, \"duration\": 3671, \"views\": 3042, \"pi%̭��׭ ��$̭spectRatio\": 1.77777777777778, \"actors\": [{\"id\": \"_tRJBw`[...]', library/core/src/str/mod.rs:127:5\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\nfatal runtime error: failed to initiate panic, error 5\r\n```\r\n\r\n```\r\n=== REDIS BUG REPORT START: Cut & paste starting from here ===\r\n9:M 07 Sep 2022 23:21:01.921 # Redis 7.0.4 crashed by signal: 6, si_code: -6\r\n9:M 07 Sep 2022 23:21:01.921 # Crashed running the instruction at: 0x7fade157300b\r\n\r\n------ STACK TRACE ------\r\nEIP:\r\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0xcb)[0x7fade157300b]\r\n\r\nBacktrace:\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x14420)[0x7fade1736420]\r\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0xcb)[0x7fade157300b]\r\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x12b)[0x7fade1552859]\r\n/opt/redis-stack/lib/rejson.so(+0x11cfb7)[0x7fadda680fb7]\r\n/opt/redis-stack/lib/rejson.so(+0x11b30e)[0x7fadda67f30e]\r\n/opt/redis-stack/lib/rejson.so(+0x11b0b0)[0x7fadda67f0b0]\r\n/opt/redis-stack/lib/rejson.so(+0x11ae67)[0x7fadda67ee67]\r\n/opt/redis-stack/lib/rejson.so(+0x119cd4)[0x7fadda67dcd4]\r\n/opt/redis-stack/lib/rejson.so(+0x11ab99)[0x7fadda67eb99]\r\n/opt/redis-stack/lib/rejson.so(+0x17b53)[0x7fadda57bb53]\r\n/opt/redis-stack/lib/rejson.so(+0x13ca57)[0x7fadda6a0a57]\r\n/opt/redis-stack/lib/rejson.so(+0x132a97)[0x7fadda696a97]\r\n/opt/redis-stack/lib/rejson.so(+0x137328)[0x7fadda69b328]\r\n/opt/redis-stack/lib/rejson.so(+0x17e12)[0x7fadda57be12]\r\n/opt/redis-stack/lib/rejson.so(+0x68b11)[0x7fadda5ccb11]\r\n/opt/redis-stack/lib/rejson.so(+0x6d9a3)[0x7fadda5d19a3]\r\n/opt/redis-stack/lib/rejson.so(+0x6d9be)[0x7fadda5d19be]\r\n/opt/redis-stack/lib/rejson.so(+0xb6bd4)[0x7fadda61abd4]\r\n/opt/redis-stack/bin/redis-server *:6379(rdbSaveObject+0xdb)[0x5556d675f4cb]\r\n/opt/redis-stack/bin/redis-server *:6379(rdbSaveKeyValuePair+0x8d)[0x5556d675fe1d]\r\n/opt/redis-stack/bin/redis-server *:6379(rdbSaveDb+0x1ba)[0x5556d676066a]\r\n/opt/redis-stack/bin/redis-server *:6379(rdbSaveRio+0x1f3)[0x5556d6760923]\r\n/opt/redis-stack/bin/redis-server *:6379(rdbSave+0xca)[0x5556d676381a]\r\n/opt/redis-stack/bin/redis-server *:6379(saveCommand+0x46)[0x5556d6765a86]\r\n/opt/redis-stack/bin/redis-server *:6379(call+0xdf)[0x5556d672a8af]\r\n/opt/redis-stack/bin/redis-server *:6379(processCommand+0x845)[0x5556d672d025]\r\n/opt/redis-stack/bin/redis-server *:6379(processCommandAndResetClient+0x20)[0x5556d6743590]\r\n/opt/redis-stack/bin/redis-server *:6379(processInputBuffer+0xd8)[0x5556d6746358]\r\n/opt/redis-stack/bin/redis-server *:6379(readQueryFromClient+0x2e8)[0x5556d6749b38]\r\n/opt/redis-stack/bin/redis-server *:6379(+0x143e8c)[0x5556d67f2e8c]\r\n/opt/redis-stack/bin/redis-server *:6379(aeProcessEvents+0x1ea)[0x5556d672186a]\r\n/opt/redis-stack/bin/redis-server *:6379(aeMain+0x1d)[0x5556d6721c2d]\r\n/opt/redis-stack/bin/redis-server *:6379(main+0x32d)[0x5556d671d81d]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf3)[0x7fade1554083]\r\n/opt/redis-stack/bin/redis-server *:6379(_start+0x2e)[0x5556d671de6e]\r\n\r\n------ REGISTERS ------\r\n9:M 07 Sep 2022 23:21:01.926 # \r\nRAX:0000000000000000 RBX:00007fade152bfc0\r\nRCX:00007fade157300b RDX:0000000000000000\r\nRDI:0000000000000002 RSI:00007ffdd3f97970\r\nRBP:0000000000000000 RSP:00007ffdd3f97970\r\nR8 :0000000000000000 R9 :00007ffdd3f97970\r\nR10:0000000000000008 R11:0000000000000246\r\nR12:0000000000000001 R13:00007fadda7011d8\r\nR14:0000000000000000 R15:00007ffdd3f97d40\r\nRIP:00007fade157300b EFL:0000000000000246\r\nCSGSFS:002b000000000033\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f9797f) -> 00007fadda67b990\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f9797e) -> 00007ffdd3f97c08\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f9797d) -> 0000000000000001\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f9797c) -> 00007ffdd3f97a48\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f9797b) -> 00007fadda6fdd68\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f9797a) -> 0000000000000001\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97979) -> 00007ffdd3f97b80\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97978) -> 00007fadda6b38e8\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97977) -> 0000000000110000\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97976) -> 00007ffdd3f99aa8\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97975) -> 00007fadda67b2b9\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97974) -> 0000000000000000\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97973) -> 0000000000000001\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97972) -> 00007ffdd3f97a37\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97971) -> 0000000000000001\r\n9:M 07 Sep 2022 23:21:01.926 # (00007ffdd3f97970) -> 0000000000000000\r\n\r\n------ INFO OUTPUT ------\r\n# Server\r\nredis_version:7.0.4\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:66d9c53bfefa1152\r\nredis_mode:standalone\r\nos:Linux 5.13.0-37-generic x86_64\r\narch_bits:64\r\nmonotonic_clock:POSIX clock_gettime\r\nmultiplexing_api:epoll\r\natomicvar_api:c11-builtin\r\ngcc_version:9.4.0\r\nprocess_id:9\r\nprocess_supervised:no\r\nrun_id:996d0f79e439e1f8deb150aaa868f01bad539ef4\r\ntcp_port:6379\r\nserver_time_usec:1662592861920188\r\nuptime_in_seconds:106219\r\nuptime_in_days:1\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:1648477\r\nexecutable:/opt/redis-stack/bin/redis-server\r\nconfig_file:\r\nio_threads_active:0\r\n\r\n# Clients\r\nconnected_clients:6\r\ncluster_connections:0\r\nmaxclients:10000\r\nclient_recent_max_input_buffer:20480\r\nclient_recent_max_output_buffer:0\r\nblocked_clients:0\r\ntracking_clients:0\r\nclients_in_timeout_table:0\r\n\r\n# Memory\r\nused_memory:14110360\r\nused_memory_human:13.46M\r\nused_memory_rss:37060608\r\nused_memory_rss_human:35.34M\r\nused_memory_peak:17292840\r\nused_memory_peak_human:16.49M\r\nused_memory_peak_perc:81.60%\r\nused_memory_overhead:1212320\r\nused_memory_startup:1153864\r\nused_memory_dataset:12898040\r\nused_memory_dataset_perc:99.55%\r\nallocator_allocated:14618736\r\nallocator_active:17334272\r\nallocator_resident:20307968\r\ntotal_system_memory:4015927296\r\ntotal_system_memory_human:3.74G\r\nused_memory_lua:31744\r\nused_memory_vm_eval:31744\r\nused_memory_lua_human:31.00K\r\nused_memory_scripts_eval:0\r\nnumber_of_cached_scripts:0\r\nnumber_of_functions:1\r\nnumber_of_libraries:1\r\nused_memory_vm_functions:38912\r\nused_memory_vm_total:70656\r\nused_memory_vm_total_human:69.00K\r\nused_memory_functions:1368\r\nused_memory_scripts:1368\r\nused_memory_scripts_human:1.34K\r\nmaxmemory:0\r\nmaxmemory_human:0B\r\nmaxmemory_policy:noeviction\r\nallocator_frag_ratio:1.19\r\nallocator_frag_bytes:2715536\r\nallocator_rss_ratio:1.17\r\nallocator_rss_bytes:2973696\r\nrss_overhead_ratio:1.82\r\nrss_overhead_bytes:16752640\r\nmem_fragmentation_ratio:2.65\r\nmem_fragmentation_bytes:23084224\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:0\r\nmem_total_replication_buffers:0\r\nmem_clients_slaves:0\r\nmem_clients_normal:56864\r\nmem_cluster_links:0\r\nmem_aof_buffer:0\r\nmem_allocator:jemalloc-5.2.1\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\nlazyfreed_objects:0\r\n\r\n# Persistence\r\nloading:0\r\nasync_loading:0\r\ncurrent_cow_peak:0\r\ncurrent_cow_size:0\r\ncurrent_cow_size_age:0\r\ncurrent_fork_perc:0.00\r\ncurrent_save_keys_processed:0\r\ncurrent_save_keys_total:0\r\nrdb_changes_since_last_save:103\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1662587226\r\nrdb_last_bgsave_status:err\r\nrdb_last_bgsave_time_sec:1\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_saves:955\r\nrdb_last_cow_size:1564672\r\nrdb_last_load_keys_expired:0\r\nrdb_last_load_keys_loaded:4\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_rewrites:0\r\naof_rewrites_consecutive_failures:0\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\nmodule_fork_in_progress:0\r\nmodule_fork_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:28\r\ntotal_commands_processed:40273\r\ninstantaneous_ops_per_sec:11\r\ntotal_net_input_bytes:35854478\r\ntotal_net_output_bytes:89640434\r\ntotal_net_repl_input_bytes:0\r\ntotal_net_repl_output_bytes:0\r\ninstantaneous_input_kbps:0.61\r\ninstantaneous_output_kbps:3.47\r\ninstantaneous_input_repl_kbps:0.00\r\ninstantaneous_output_repl_kbps:0.00\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:0\r\nexpired_stale_perc:0.00\r\nexpired_time_cap_reached_count:0\r\nexpire_cycle_cpu_milliseconds:2237\r\nevicted_keys:0\r\nevicted_clients:0\r\ntotal_eviction_exceeded_time:0\r\ncurrent_eviction_exceeded_time:0\r\nkeyspace_hits:36438\r\nkeyspace_misses:1\r\npubsub_channels:0\r\npubsub_patterns:0\r\npubsubshard_channels:0\r\nlatest_fork_usec:1140\r\ntotal_forks:976\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:0\r\nactive_defrag_misses:0\r\nactive_defrag_key_hits:0\r\nactive_defrag_key_misses:0\r\ntotal_active_defrag_time:0\r\ncurrent_active_defrag_time:0\r\ntracking_total_keys:0\r\ntracking_total_items:0\r\ntracking_total_prefixes:0\r\nunexpected_error_replies:0\r\ntotal_error_replies:1676\r\ndump_payload_sanitizations:0\r\ntotal_reads_processed:36906\r\ntotal_writes_processed:36989\r\nio_threaded_reads_processed:0\r\nio_threaded_writes_processed:0\r\nreply_buffer_shrinks:8346\r\nreply_buffer_expands:11119\r\n\r\n# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:bc30f5d944695c66fe2d51fac8c5967b92571b5d\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n\r\n# CPU\r\nused_cpu_sys:99.097809\r\nused_cpu_user:239.890798\r\nused_cpu_sys_children:149.149313\r\nused_cpu_user_children:617.429963\r\nused_cpu_sys_main_thread:93.227206\r\nused_cpu_user_main_thread:188.306257\r\n\r\n# Modules\r\nmodule:name=ReJSON,ver=20200,api=1,filters=0,usedby=[search|graph],using=[],options=[handle-io-errors]\r\nmodule:name=timeseries,ver=10617,api=1,filters=0,usedby=[],using=[],options=[]\r\nmodule:name=search,ver=20414,api=1,filters=0,usedby=[],using=[ReJSON],options=[]\r\nmodule:name=graph,ver=20819,api=1,filters=0,usedby=[],using=[ReJSON],options=[]\r\nmodule:name=bf,ver=20218,api=1,filters=0,usedby=[],using=[],options=[]\r\n\r\n# Commandstats\r\ncmdstat_graph.RO_QUERY:calls=5,usec=354408,usec_per_call=70881.60,rejected_calls=0,failed_calls=0\r\ncmdstat_zscore:calls=1075,usec=7599,usec_per_call=7.07,rejected_calls=0,failed_calls=0\r\ncmdstat_json.type:calls=212,usec=7483,usec_per_call=35.30,rejected_calls=0,failed_calls=0\r\ncmdstat_json.debug:calls=2,usec=135,usec_per_call=67.50,rejected_calls=0,failed_calls=0\r\ncmdstat_hlen:calls=12,usec=50,usec_per_call=4.17,rejected_calls=0,failed_calls=0\r\ncmdstat_auth:calls=25,usec=228,usec_per_call=9.12,rejected_calls=0,failed_calls=0\r\ncmdstat_zrange:calls=292,usec=3954,usec_per_call=13.54,rejected_calls=0,failed_calls=0\r\ncmdstat_memory|usage:calls=16,usec=155,usec_per_call=9.69,rejected_calls=0,failed_calls=0\r\ncmdstat_ttl:calls=16,usec=62,usec_per_call=3.88,rejected_calls=0,failed_calls=0\r\ncmdstat_function|load:calls=5,usec=712,usec_per_call=142.40,rejected_calls=0,failed_calls=0\r\ncmdstat_zincrby:calls=1520,usec=11797,usec_per_call=7.76,rejected_calls=0,failed_calls=0\r\ncmdstat_module|list:calls=3,usec=55,usec_per_call=18.33,rejected_calls=0,failed_calls=0\r\ncmdstat_command:calls=1,usec=2087,usec_per_call=2087.00,rejected_calls=0,failed_calls=0\r\ncmdstat_json.arrlen:calls=210,usec=16378,usec_per_call=77.99,rejected_calls=0,failed_calls=0\r\ncmdstat_zremrangebyrank:calls=340,usec=2525,usec_per_call=7.43,rejected_calls=0,failed_calls=0\r\ncmdstat_graph.QUERY:calls=31186,usec=80664042,usec_per_call=2586.55,rejected_calls=1652,failed_calls=8\r\ncmdstat_acl|cat:calls=2,usec=233,usec_per_call=116.50,rejected_calls=0,failed_calls=0\r\ncmdstat_client|setname:calls=10,usec=88,usec_per_call=8.80,rejected_calls=0,failed_calls=0\r\ncmdstat_dbsize:calls=1,usec=3,usec_per_call=3.00,rejected_calls=0,failed_calls=0\r\ncmdstat_info:calls=314,usec=38947,usec_per_call=124.04,rejected_calls=3,failed_calls=0\r\ncmdstat_hscan:calls=6,usec=1009,usec_per_call=168.17,rejected_calls=0,failed_calls=0\r\ncmdstat_zcard:calls=6,usec=18,usec_per_call=3.00,rejected_calls=0,failed_calls=0\r\ncmdstat_quit:calls=1,usec=13,usec_per_call=13.00,rejected_calls=0,failed_calls=0\r\ncmdstat_json.set:calls=170,usec=153139,usec_per_call=900.82,rejected_calls=9,failed_calls=0\r\ncmdstat_hset:calls=1520,usec=16939,usec_per_call=11.14,rejected_calls=0,failed_calls=0\r\ncmdstat_fcall:calls=1075,usec=99738,usec_per_call=92.78,rejected_calls=0,failed_calls=0\r\ncmdstat_scan:calls=1,usec=12,usec_per_call=12.00,rejected_calls=0,failed_calls=0\r\ncmdstat_hget:calls=590,usec=3360,usec_per_call=5.69,rejected_calls=0,failed_calls=0\r\ncmdstat_ping:calls=0,usec=0,usec_per_call=0.00,rejected_calls=1,failed_calls=0\r\ncmdstat_json.get:calls=1641,usec=99895,usec_per_call=60.87,rejected_calls=0,failed_calls=0\r\ncmdstat_type:calls=16,usec=100,usec_per_call=6.25,rejected_calls=0,failed_calls=0\r\n\r\n# Errorstats\r\nerrorstat_ERR:count=3\r\nerrorstat_Expected:count=1\r\nerrorstat_MISCONF:count=1661\r\nerrorstat_NOAUTH:count=4\r\nerrorstat_Type:count=2\r\nerrorstat_errMsg_:count=4\r\nerrorstat_social:count=1\r\n\r\n# Latencystats\r\nlatency_percentiles_usec_graph.RO_QUERY:p50=22020.095,p99=267386.879,p99.9=267386.879\r\nlatency_percentiles_usec_zscore:p50=7.007,p99=24.063,p99.9=52.223\r\nlatency_percentiles_usec_json.type:p50=31.103,p99=73.215,p99.9=78.335\r\nlatency_percentiles_usec_json.debug:p50=64.255,p99=71.167,p99.9=71.167\r\nlatency_percentiles_usec_hlen:p50=4.015,p99=12.031,p99.9=12.031\r\nlatency_percentiles_usec_auth:p50=7.007,p99=20.095,p99.9=20.095\r\nlatency_percentiles_usec_zrange:p50=10.047,p99=88.063,p99.9=266.239\r\nlatency_percentiles_usec_memory|usage:p50=3.007,p99=44.031,p99.9=44.031\r\nlatency_percentiles_usec_ttl:p50=4.015,p99=7.007,p99.9=7.007\r\nlatency_percentiles_usec_function|load:p50=110.079,p99=264.191,p99.9=264.191\r\nlatency_percentiles_usec_zincrby:p50=7.007,p99=28.031,p99.9=44.031\r\nlatency_percentiles_usec_module|list:p50=15.039,p99=29.055,p99.9=29.055\r\nlatency_percentiles_usec_command:p50=2088.959,p99=2088.959,p99.9=2088.959\r\nlatency_percentiles_usec_json.arrlen:p50=71.167,p99=171.007,p99.9=193.535\r\nlatency_percentiles_usec_zremrangebyrank:p50=5.023,p99=30.079,p99.9=174.079\r\nlatency_percentiles_usec_graph.QUERY:p50=1507.327,p99=15990.783,p99.9=24379.391\r\nlatency_percentiles_usec_acl|cat:p50=73.215,p99=160.767,p99.9=160.767\r\nlatency_percentiles_usec_client|setname:p50=4.015,p99=24.063,p99.9=24.063\r\nlatency_percentiles_usec_dbsize:p50=3.007,p99=3.007,p99.9=3.007\r\nlatency_percentiles_usec_info:p50=115.199,p99=243.711,p99.9=356.351\r\nlatency_percentiles_usec_hscan:p50=143.359,p99=257.023,p99.9=257.023\r\nlatency_percentiles_usec_zcard:p50=1.003,p99=6.015,p99.9=6.015\r\nlatency_percentiles_usec_quit:p50=13.055,p99=13.055,p99.9=13.055\r\nlatency_percentiles_usec_json.set:p50=806.911,p99=1376.255,p99.9=8716.287\r\nlatency_percentiles_usec_hset:p50=10.047,p99=48.127,p99.9=160.767\r\nlatency_percentiles_usec_fcall:p50=82.431,p99=257.023,p99.9=522.239\r\nlatency_percentiles_usec_scan:p50=12.031,p99=12.031,p99.9=12.031\r\nlatency_percentiles_usec_hget:p50=5.023,p99=20.095,p99.9=30.079\r\nlatency_percentiles_usec_json.get:p50=56.063,p99=129.023,p99.9=161.791\r\nlatency_percentiles_usec_type:p50=4.015,p99=43.007,p99.9=43.007\r\n\r\n# Cluster\r\ncluster_enabled:0\r\n\r\n# Keyspace\r\ndb0:keys=4,expires=0,avg_ttl=0\r\n\r\n------ CLIENT LIST OUTPUT ------\r\nid=49 addr=190.80.56.76:55740 laddr=172.20.0.2:6379 fd=15 name=redisinsight-common-2f8209d2 age=52 idle=3 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 multi-mem=0 rbs=1024 rbp=0 obl=0 oll=0 omem=0 tot-mem=1800 events=r cmd=info user=jer redir=-1 resp=2\r\nid=50 addr=190.80.56.76:55753 laddr=172.20.0.2:6379 fd=16 name=redisinsight-browser-e59d36ec age=48 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=1024 rbp=11 obl=0 oll=0 omem=0 tot-mem=22272 events=r cmd=json.type user=jer redir=-1 resp=2\r\nid=51 addr=190.80.56.76:55786 laddr=172.20.0.2:6379 fd=17 name=redisinsight-workbench-81880fbf age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=14 qbuf-free=20460 argv-mem=4 multi-mem=0 rbs=6144 rbp=5622 obl=0 oll=0 omem=0 tot-mem=27404 events=r cmd=save user=jer redir=-1 resp=2\r\nid=44 addr=172.20.0.3:48288 laddr=172.20.0.2:6379 fd=12 name= age=23590 idle=216 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 multi-mem=0 rbs=1024 rbp=0 obl=0 oll=0 omem=0 tot-mem=1800 events=r cmd=zrange user=jer redir=-1 resp=2\r\nid=45 addr=172.20.0.3:48290 laddr=172.20.0.2:6379 fd=13 name= age=23590 idle=24 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 multi-mem=0 rbs=1024 rbp=0 obl=0 oll=0 omem=0 tot-mem=1800 events=r cmd=json.get user=jer redir=-1 resp=2\r\nid=46 addr=172.20.0.3:48292 laddr=172.20.0.2:6379 fd=14 name= age=23590 idle=4 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 multi-mem=0 rbs=1024 rbp=343 obl=0 oll=0 omem=0 tot-mem=1800 events=r cmd=graph.QUERY user=jer redir=-1 resp=2\r\n\r\n------ CURRENT CLIENT INFO ------\r\nid=51 addr=190.80.56.76:55786 laddr=172.20.0.2:6379 fd=17 name=redisinsight-workbench-81880fbf age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=14 qbuf-free=20460 argv-mem=4 multi-mem=0 rbs=6144 rbp=5622 obl=0 oll=0 omem=0 tot-mem=27404 events=r cmd=save user=jer redir=-1 resp=2\r\nargv[0]: '\"SAVE\"'\r\n\r\n------ MODULES INFO OUTPUT ------\r\n# ReJSON_trace\r\nReJSON_trace:   0: redis_module::base_info_func\r\n   1: rejson::__info_func\r\n   2: modulesCollectInfo\r\n             at /__w/redis-stack/redis-stack/redis/src/module.c:9383:9\r\n   3: logModulesInfo\r\n             at /__w/redis-stack/redis-stack/redis/src/debug.c:1744:22\r\n   4: printCrashReport\r\n             at /__w/redis-stack/redis-stack/redis/src/debug.c:2000:5\r\n   5: sigsegvHandler\r\n             at /__w/redis-stack/redis-stack/redis/src/debug.c:1982:5\r\n   6: <unknown>\r\n   7: gsignal\r\n   8: abort\r\n   9: std::sys::unix::abort_internal\r\n  10: rust_panic\r\n  11: std::panicking::rust_panic_with_hook\r\n  12: std::panicking::begin_panic_handler::{{closure}}\r\n  13: std::sys_common::backtrace::__rust_end_short_backtrace\r\n  14: rust_begin_unwind\r\n  15: core::panicking::panic_fmt\r\n  16: core::str::slice_error_fail_rt\r\n  17: core::ops::function::FnOnce::call_once\r\n  18: core::intrinsics::const_eval_select\r\n  19: core::str::slice_error_fail\r\n  20: serde_json::ser::format_escaped_str\r\n  21: ijson::ser::<impl serde::ser::Serialize for ijson::array::IArray>::serialize\r\n  22: ijson::ser::<impl serde::ser::Serialize for ijson::array::IArray>::serialize\r\n  23: rejson::redisjson::type_methods::rdb_save\r\n  24: rdbSaveObject\r\n             at /__w/redis-stack/redis-stack/redis/src/rdb.c:1063:9\r\n  25: rdbSaveKeyValuePair\r\n             at /__w/redis-stack/redis-stack/redis/src/rdb.c:1127:9\r\n  26: rdbSaveDb\r\n             at /__w/redis-stack/redis-stack/redis/src/rdb.c:1286:20\r\n  27: rdbSaveRio\r\n             at /__w/redis-stack/redis-stack/redis/src/rdb.c:1342:17\r\n  28: rdbSave\r\n             at /__w/redis-stack/redis-stack/redis/src/rdb.c:1421:9\r\n  29: saveCommand\r\n             at /__w/redis-stack/redis-stack/redis/src/rdb.c:3489:9\r\n  30: call\r\n             at /__w/redis-stack/redis-stack/redis/src/server.c:3319:5\r\n  31: processCommand\r\n             at /__w/redis-stack/redis-stack/redis/src/server.c:3948:9\r\n  32: processCommandAndResetClient\r\n             at /__w/redis-stack/redis-stack/redis/src/networking.c:2444:9\r\n  33: processInputBuffer\r\n             at /__w/redis-stack/redis-stack/redis/src/networking.c:2548:17\r\n  34: readQueryFromClient\r\n             at /__w/redis-stack/redis-stack/redis/src/networking.c:2684:9\r\n  35: callHandler\r\n             at /__w/redis-stack/redis-stack/redis/src/connhelpers.h:79:18\r\n      connSocketEventHandler\r\n             at /__w/redis-stack/redis-stack/redis/src/connection.c:310:14\r\n  36: aeProcessEvents\r\n             at /__w/redis-stack/redis-stack/redis/src/ae.c:436:17\r\n  37: aeMain\r\n             at /__w/redis-stack/redis-stack/redis/src/ae.c:496:9\r\n  38: main\r\n             at /__w/redis-stack/redis-stack/redis/src/server.c:7066:5\r\n  39: __libc_start_main\r\n  40: _start\r\n\r\n\r\n# search_version\r\nsearch_RedisSearch_version:7.0.4\r\n\r\n# search_index\r\nsearch_number_of_indexes:0\r\n\r\n# search_fields_statistics\r\n\r\n# search_runtime_configurations\r\nsearch_concurrent_mode:OFF\r\nsearch_enableGC:ON\r\nsearch_minimal_term_prefix:2\r\nsearch_maximal_prefix_expansions:200\r\nsearch_query_timeout_ms:500\r\nsearch_timeout_policy:return\r\nsearch_cursor_read_size:1000\r\nsearch_cursor_max_idle_time:300000\r\nsearch_max_doc_table_size:1000000\r\nsearch_max_search_results:10000\r\nsearch_max_aggregate_results:10000\r\nsearch_search_pool_size:20\r\nsearch_index_pool_size:8\r\nsearch_gc_scan_size:100\r\nsearch_min_phonetic_term_length:3\r\n\r\n# graph_executing commands\r\n\r\n------ CONFIG DEBUG OUTPUT ------\r\nlist-compress-depth 0\r\nclient-query-buffer-limit 1gb\r\nrepl-diskless-sync yes\r\nrepl-diskless-load disabled\r\nactivedefrag no\r\nlazyfree-lazy-eviction no\r\nslave-read-only yes\r\nlazyfree-lazy-user-flush no\r\nsanitize-dump-payload no\r\nio-threads 1\r\nproto-max-bulk-len 512mb\r\nlazyfree-lazy-expire no\r\nlazyfree-lazy-server-del no\r\nio-threads-do-reads no\r\nreplica-read-only yes\r\nlazyfree-lazy-user-del no\r\n\r\n------ FAST MEMORY TEST ------\r\n9:M 07 Sep 2022 23:21:01.953 # Bio thread for job type #0 terminated\r\n9:M 07 Sep 2022 23:21:01.953 # Bio thread for job type #1 terminated\r\n9:M 07 Sep 2022 23:21:01.953 # Bio thread for job type #2 terminated\r\n*** Preparing to test memory region 5556d6986000 (2306048 bytes)\r\n*** Preparing to test memory region 5556d8702000 (540672 bytes)\r\n*** Preparing to test memory region 7fadc0000000 (135168 bytes)\r\n*** Preparing to test memory region 7fadc6602000 (5242880 bytes)\r\n*** Preparing to test memory region 7fadc7c00000 (4329472 bytes)\r\n*** Preparing to test memory region 7fadcc000000 (3579904 bytes)\r\n*** Preparing to test memory region 7fadd0000000 (3837952 bytes)\r\n*** Preparing to test memory region 7fadd417f000 (4718592 bytes)\r\n*** Preparing to test memory region 7fadd4600000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadd4e00000 (4194304 bytes)\r\n*** Preparing to test memory region 7fadd5400000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadd5c00000 (4194304 bytes)\r\n*** Preparing to test memory region 7fadd617f000 (2621440 bytes)\r\n*** Preparing to test memory region 7fadd6400000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadd6c00000 (4194304 bytes)\r\n*** Preparing to test memory region 7fadd7060000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadd7860000 (13631488 bytes)\r\n*** Preparing to test memory region 7fadd8561000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadd8d62000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadd9563000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadd9d64000 (8388608 bytes)\r\n*** Preparing to test memory region 7fadda703000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddaf04000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddb8e3000 (12288 bytes)\r\n*** Preparing to test memory region 7faddb8e7000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddc0e8000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddc8e9000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddd0ea000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddd8eb000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddf7a1000 (12288 bytes)\r\n*** Preparing to test memory region 7faddf7a5000 (8388608 bytes)\r\n*** Preparing to test memory region 7faddffa6000 (8388608 bytes)\r\n*** Preparing to test memory region 7fade0bf9000 (28672 bytes)\r\n*** Preparing to test memory region 7fade0c00000 (8388608 bytes)\r\n*** Preparing to test memory region 7fade14e7000 (4096 bytes)\r\n*** Preparing to test memory region 7fade152a000 (24576 bytes)\r\n*** Preparing to test memory region 7fade171e000 (16384 bytes)\r\n*** Preparing to test memory region 7fade1741000 (16384 bytes)\r\n*** Preparing to test memory region 7fade1a17000 (16384 bytes)\r\n*** Preparing to test memory region 7fade1c03000 (8192 bytes)\r\n*** Preparing to test memory region 7fade1c36000 (4096 bytes)\r\n.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O\r\nFast memory test PASSED, however your memory can still be broken. Please run a memory test for several hours if possible.\r\n\r\n------ DUMPING CODE AROUND EIP ------\r\nSymbol: gsignal (base: 0x7fade1572f40)\r\nModule: /lib/x86_64-linux-gnu/libc.so.6 (base 0x7fade1530000)\r\n$ xxd -r -p /tmp/dump.hex /tmp/dump.bin\r\n$ objdump --adjust-vma=0x7fade1572f40 -D -b binary -m i386:x86-64 /tmp/dump.bin\r\n------\r\n9:M 07 Sep 2022 23:21:02.786 # dump of function (hexdump of 331 bytes):\r\nf30f1efa4881ec180100004189f831ff660f6f058898170064488b042528000000488984240801000031c04989e1b80e000000488db424800000000f29842480000000660f76c041ba080000004c89ca0f298424900000000f298424a00000000f298424b00000000f298424c00000000f298424d00000000f298424e00000000f298424f00000000f05b92700000089c80f054889c7b8ba0000000f0589c64489c2b8ea0000000f05483d00f0ffff773f4189c041ba0800000031d24c89cebf02000000b80e0000000f05488b84240801000064483304252800000075264489c04881c418010000c30f1f8000000000488b15398e1a00f7d841b8ffffffff648902ebb0e827ca0e000f1f8000000000f30f1efa85ff7808f7dfe97103000090488b05098e1a0064c70016000000b8ffffffffc3662e0f1f84000000000066909066662e0f1f8400000000\r\nFunction at 0x7fade165fa70 is __stack_chk_fail\r\n\r\n=== REDIS BUG REPORT END. Make sure to include from START to END. ===\r\n```\r\n\r\nNodejs logs:\r\n\r\n```\r\nerr.message=RedisGraph class (GRAPH.QUERY): ReplyError: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error.err.stack=Error: RedisGraph class (GRAPH.QUERY): ReplyError: MISCONF Redis is configured to save RDB snapshots, but it's currently unable to persist to disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error. at RedisGraph.handleError (/app/node_modules/redis-modules-sdk/lib/modules/module.base.js:87:19) at RedisGraph. (/app/node_modules/redis-modules-sdk/lib/modules/module.base.js:76:29) at Generator.throw () at rejected (/app/node_modules/redis-modules-sdk/lib/modules/module.base.js:6:65) at process.processTicksAndRejections (node:internal/process/task_queues:95:5)err.type=Errorhostname=775addd4e4f1level=50msg=Error getting video from redis, args: JeKv-bzJPmNpid=19time=1662592857573\r\n```\r\n\r\n**Additional information**\r\n\r\n1. OS distribution and version: Linux Ubuntu 21, docker. redis/redis-stack-server:7.0.2-RC2\r\n3. Steps to reproduce (if any)\r\n",
  "state": "closed",
  "created_at": "2022-09-08T00:10:37Z",
  "updated_at": "2022-09-08T01:19:59Z",
  "closed_at": "2022-09-08T01:19:59Z",
  "labels": [
    "crash report"
  ],
  "comments_data": [
    {
      "id": 1240087808,
      "user": "chenyang8094",
      "created_at": "2022-09-08T01:05:34Z",
      "body": "Looks `SIGABRT`  created by  RedisJson."
    },
    {
      "id": 1240107082,
      "user": "madolson",
      "created_at": "2022-09-08T01:18:09Z",
      "body": "Please open the same issue in https://github.com/RedisJSON/RedisJSON. "
    }
  ]
}