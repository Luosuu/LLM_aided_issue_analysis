{
  "issue_number": 9521.0,
  "title": "[BUG] error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'? on AIX",
  "body": "**Describe the bug**\r\n\r\nWhen building on AIX, I get the following error.\r\n```\r\nerror: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n```\r\n\r\n**To reproduce**\r\n\r\nOn AIX 7.1, run `make MYLIBS='-ldl' all`\r\n\r\n**Expected behavior**\r\n\r\nRedis should build.\r\n\r\n**Additional information**\r\n\r\nRedis 6.0.15 worked fine. Redis >6.2.0 is failing.\r\n\r\nBuild logs:\r\n\r\n```\r\nmake MYLIBS='-ldl' all\r\ncd src && make all\r\nmake[1]: Entering directory '/home/jenkins/redis/src'\r\n    CC Makefile.dep\r\nrm -rf redis-server redis-sentinel redis-cli redis-benchmark redis-check-rdb redis-check-aof *.o *.gcda *.gcno *.gcov redis.info lcov-html Makefile.dep\r\nrm -f adlist.d quicklist.d ae.d anet.d dict.d server.d sds.d zmalloc.d lzf_c.d lzf_d.d pqsort.d zipmap.d sha1.d ziplist.d release.d networking.d util.d object.d db.d replication.d rdb.d t_string.d t_list.d t_set.d t_zset.d t_hash.d config.d aof.d pubsub.d multi.d debug.d sort.d intset.d syncio.d cluster.d crc16.d endianconv.d slowlog.d scripting.d bio.d rio.d rand.d memtest.d crcspeed.d crc64.d bitops.d sentinel.d notify.d setproctitle.d blocked.d hyperloglog.d latency.d sparkline.d redis-check-rdb.d redis-check-aof.d geo.d lazyfree.d module.d evict.d expire.d geohash.d geohash_helper.d childinfo.d defrag.d siphash.d rax.d t_stream.d listpack.d localtime.d lolwut.d lolwut5.d lolwut6.d acl.d gopher.d tracking.d connection.d tls.d sha256.d timeout.d setcpuaffinity.d monotonic.d mt19937-64.d anet.d adlist.d dict.d redis-cli.d zmalloc.d release.d ae.d crcspeed.d crc64.d siphash.d crc16.d monotonic.d cli_common.d mt19937-64.d ae.d anet.d redis-benchmark.d adlist.d dict.d zmalloc.d release.d crcspeed.d crc64.d siphash.d crc16.d monotonic.d cli_common.d mt19937-64.d\r\n(cd ../deps && make distclean)\r\nmake[2]: Entering directory '/home/jenkins/redis/deps'\r\n(cd hiredis && make clean) > /dev/null || true\r\n(cd linenoise && make clean) > /dev/null || true\r\n(cd lua && make clean) > /dev/null || true\r\n(cd jemalloc && [ -f Makefile ] && make distclean) > /dev/null || true\r\n(cd hdr_histogram && make clean) > /dev/null || true\r\n(rm -f .make-*)\r\nmake[2]: Leaving directory '/home/jenkins/redis/deps'\r\n(cd modules && make clean)\r\nmake[2]: Entering directory '/home/jenkins/redis/src/modules'\r\nrm -rf *.xo *.so\r\nmake[2]: Leaving directory '/home/jenkins/redis/src/modules'\r\n(cd ../tests/modules && make clean)\r\nmake[2]: Entering directory '/home/jenkins/redis/tests/modules'\r\nrm -f commandfilter.so basics.so testrdb.so fork.so infotest.so propagate.so misc.so hooks.so blockonkeys.so blockonbackground.so scan.so datatype.so auth.so keyspace_events.so blockedclient.so getkeys.so test_lazyfree.so timer.so defragtest.so hash.so zset.so stream.so commandfilter.xo basics.xo testrdb.xo fork.xo infotest.xo propagate.xo misc.xo hooks.xo blockonkeys.xo blockonbackground.xo scan.xo datatype.xo auth.xo keyspace_events.xo blockedclient.xo getkeys.xo test_lazyfree.xo timer.xo defragtest.xo hash.xo zset.xo stream.xo\r\nmake[2]: Leaving directory '/home/jenkins/redis/tests/modules'\r\n(rm -f .make-*)\r\necho STD=-pedantic -DREDIS_STATIC='' -std=c99 >> .make-settings\r\necho WARN=-Wall -W -Wno-missing-field-initializers >> .make-settings\r\necho OPT=-O3 >> .make-settings\r\necho MALLOC=libc >> .make-settings\r\necho BUILD_TLS= >> .make-settings\r\necho USE_SYSTEMD= >> .make-settings\r\necho CFLAGS=-DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h >> .make-settings\r\necho LDFLAGS= -pthread >> .make-settings\r\necho REDIS_CFLAGS= >> .make-settings\r\necho REDIS_LDFLAGS= >> .make-settings\r\necho PREV_FINAL_CFLAGS=-pedantic -DREDIS_STATIC='' -std=c99 -Wall -W -Wno-missing-field-initializers -O3 -g -ggdb -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h  -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram >> .make-settings\r\necho PREV_FINAL_LDFLAGS= -pthread  -g -ggdb -Wl,-bexpall >> .make-settings\r\n(cd ../deps && make hiredis linenoise lua hdr_histogram)\r\nmake[2]: Entering directory '/home/jenkins/redis/deps'\r\n(cd hiredis && make clean) > /dev/null || true\r\n(cd linenoise && make clean) > /dev/null || true\r\n(cd lua && make clean) > /dev/null || true\r\n(cd jemalloc && [ -f Makefile ] && make distclean) > /dev/null || true\r\n(cd hdr_histogram && make clean) > /dev/null || true\r\n(rm -f .make-*)\r\n(echo \"-DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h\" > .make-cflags)\r\n(echo \" -pthread\" > .make-ldflags)\r\nMAKE hiredis\r\ncd hiredis && make static\r\nmake[3]: Entering directory '/home/jenkins/redis/deps/hiredis'\r\n/opt/atc-2.0/opt/gcc/bin/gcc -std=c99 -pedantic -c -O3 -fPIC  -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -I/usr/local/opt/openssl/include -Wall -W -Wstrict-prototypes -Wwrite-strings -Wno-missing-field-initializers -g -ggdb alloc.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -std=c99 -pedantic -c -O3 -fPIC  -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -I/usr/local/opt/openssl/include -Wall -W -Wstrict-prototypes -Wwrite-strings -Wno-missing-field-initializers -g -ggdb net.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -std=c99 -pedantic -c -O3 -fPIC  -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -I/usr/local/opt/openssl/include -Wall -W -Wstrict-prototypes -Wwrite-strings -Wno-missing-field-initializers -g -ggdb hiredis.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -std=c99 -pedantic -c -O3 -fPIC  -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -I/usr/local/opt/openssl/include -Wall -W -Wstrict-prototypes -Wwrite-strings -Wno-missing-field-initializers -g -ggdb sds.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -std=c99 -pedantic -c -O3 -fPIC  -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -I/usr/local/opt/openssl/include -Wall -W -Wstrict-prototypes -Wwrite-strings -Wno-missing-field-initializers -g -ggdb async.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -std=c99 -pedantic -c -O3 -fPIC  -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -I/usr/local/opt/openssl/include -Wall -W -Wstrict-prototypes -Wwrite-strings -Wno-missing-field-initializers -g -ggdb read.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -std=c99 -pedantic -c -O3 -fPIC  -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -I/usr/local/opt/openssl/include -Wall -W -Wstrict-prototypes -Wwrite-strings -Wno-missing-field-initializers -g -ggdb sockcompat.c\r\nar rcs libhiredis.a alloc.o net.o hiredis.o sds.o async.o read.o sockcompat.o\r\nmake[3]: Leaving directory '/home/jenkins/redis/deps/hiredis'\r\nMAKE linenoise\r\ncd linenoise && make\r\nmake[3]: Entering directory '/home/jenkins/redis/deps/linenoise'\r\n/opt/atc-2.0/opt/gcc/bin/gcc  -Wall -Os -g -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -c linenoise.c\r\nmake[3]: Leaving directory '/home/jenkins/redis/deps/linenoise'\r\nMAKE lua\r\ncd lua/src && make all CFLAGS=\"-O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h\" MYLDFLAGS=\" -pthread\" AR=\"ar rc\"\r\nmake[3]: Entering directory '/home/jenkins/redis/deps/lua/src'\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lapi.o lapi.c\r\nIn file included from lua.h:16,\r\n                 from lapi.c:16:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lcode.o lcode.c\r\nIn file included from lua.h:16,\r\n                 from lcode.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o ldebug.o ldebug.c\r\nIn file included from lua.h:16,\r\n                 from ldebug.c:16:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o ldo.o ldo.c\r\nIn file included from lua.h:16,\r\n                 from ldo.c:15:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o ldump.o ldump.c\r\nIn file included from lua.h:16,\r\n                 from ldump.c:12:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lfunc.o lfunc.c\r\nIn file included from lua.h:16,\r\n                 from lfunc.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lgc.o lgc.c\r\nIn file included from lua.h:16,\r\n                 from lgc.c:12:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o llex.o llex.c\r\nIn file included from lua.h:16,\r\n                 from llex.c:15:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lmem.o lmem.c\r\nIn file included from lua.h:16,\r\n                 from lmem.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lobject.o lobject.c\r\nIn file included from lua.h:16,\r\n                 from lobject.c:16:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lopcodes.o lopcodes.c\r\nIn file included from lua.h:16,\r\n                 from llimits.h:15,\r\n                 from lopcodes.h:10,\r\n                 from lopcodes.c:11:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lparser.o lparser.c\r\nIn file included from lua.h:16,\r\n                 from lparser.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lstate.o lstate.c\r\nIn file included from lua.h:16,\r\n                 from lstate.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lstring.o lstring.c\r\nIn file included from lua.h:16,\r\n                 from lstring.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o ltable.o ltable.c\r\nIn file included from lua.h:16,\r\n                 from ltable.c:27:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o ltm.o ltm.c\r\nIn file included from lua.h:16,\r\n                 from ltm.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lundump.o lundump.c\r\nIn file included from lua.h:16,\r\n                 from lundump.c:12:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lvm.o lvm.c\r\nIn file included from lua.h:16,\r\n                 from lvm.c:15:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lzio.o lzio.c\r\nIn file included from lua.h:16,\r\n                 from lzio.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o strbuf.o strbuf.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o fpconv.o fpconv.c\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lauxlib.o lauxlib.c\r\nIn file included from lua.h:16,\r\n                 from lauxlib.c:23:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lbaselib.o lbaselib.c\r\nIn file included from lua.h:16,\r\n                 from lbaselib.c:17:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o ldblib.o ldblib.c\r\nIn file included from lua.h:16,\r\n                 from ldblib.c:15:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o liolib.o liolib.c\r\nIn file included from lua.h:16,\r\n                 from liolib.c:16:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lmathlib.o lmathlib.c\r\nIn file included from lua.h:16,\r\n                 from lmathlib.c:14:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o loslib.o loslib.c\r\nIn file included from lua.h:16,\r\n                 from loslib.c:17:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o ltablib.o ltablib.c\r\nIn file included from lua.h:16,\r\n                 from ltablib.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lstrlib.o lstrlib.c\r\nIn file included from lua.h:16,\r\n                 from lstrlib.c:17:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o loadlib.o loadlib.c\r\nIn file included from lua.h:16,\r\n                 from loadlib.c:19:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o linit.o linit.c\r\nIn file included from lua.h:16,\r\n                 from linit.c:11:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lua_cjson.o lua_cjson.c\r\nIn file included from lua.h:16,\r\n                 from lua_cjson.c:43:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lua_struct.o lua_struct.c\r\nIn file included from lua.h:16,\r\n                 from lua_struct.c:36:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lua_cmsgpack.o lua_cmsgpack.c\r\nIn file included from lua.h:16,\r\n                 from lua_cmsgpack.c:7:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lua_bit.o lua_bit.c\r\nIn file included from lua.h:16,\r\n                 from lua_bit.c:32:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\nar rc liblua.a lapi.o lcode.o ldebug.o ldo.o ldump.o lfunc.o lgc.o llex.o lmem.o lobject.o lopcodes.o lparser.o lstate.o lstring.o ltable.o ltm.o lundump.o lvm.o lzio.o strbuf.o fpconv.o lauxlib.o lbaselib.o ldblib.o liolib.o lmathlib.o loslib.o ltablib.o lstrlib.o loadlib.o linit.o lua_cjson.o lua_struct.o lua_cmsgpack.o lua_bit.o   # DLL needs all object files\r\nranlib liblua.a\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o lua.o lua.c\r\nIn file included from lua.h:16,\r\n                 from lua.c:15:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -o lua -pthread lua.o liblua.a -lm -ldl\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o luac.o luac.c\r\nIn file included from lua.h:16,\r\n                 from luac.c:15:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC='' -DLUA_USE_MKSTEMP -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h   -c -o print.o print.c\r\nIn file included from lua.h:16,\r\n                 from lstate.h:10,\r\n                 from ldebug.h:11,\r\n                 from print.c:13:\r\nluaconf.h:55: warning: \"LUA_USE_MKSTEMP\" redefined\r\n   55 | #define LUA_USE_MKSTEMP\r\n      |\r\n<command-line>: note: this is the location of the previous definition\r\n/opt/atc-2.0/opt/gcc/bin/gcc -o luac -pthread luac.o print.o liblua.a -lm -ldl\r\nmake[3]: Leaving directory '/home/jenkins/redis/deps/lua/src'\r\nMAKE hdr_histogram\r\ncd hdr_histogram && make\r\nmake[3]: Entering directory '/home/jenkins/redis/deps/hdr_histogram'\r\n/opt/atc-2.0/opt/gcc/bin/gcc  -Wall -Os -g -DLUA_USE_POSIX -DLUA_USE_DLOPEN -include stdint-gcc.h -c  hdr_histogram.c\r\nmake[3]: Leaving directory '/home/jenkins/redis/deps/hdr_histogram'\r\nmake[2]: Leaving directory '/home/jenkins/redis/deps'\r\n    CC adlist.o\r\n    CC quicklist.o\r\n    CC ae.o\r\nIn file included from ae.c:60:\r\nae_select.c: In function 'aeApiResize':\r\nae_select.c:52:37: warning: unused parameter 'eventLoop' [-Wunused-parameter]\r\n   52 | static int aeApiResize(aeEventLoop *eventLoop, int setsize) {\r\n      |                        ~~~~~~~~~~~~~^~~~~~~~~\r\nIn file included from /usr/include/poll.h:30,\r\n                 from ae.c:41:\r\nae_select.c: In function 'aeApiPoll':\r\nae_select.c:89:43: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n   89 |             aeFileEvent *fe = &eventLoop->events[j];\r\n      |                                           ^~~~~~\r\nae.c: In function 'aeCreateEventLoop':\r\nae.c:73:16: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n   73 |     eventLoop->events = zmalloc(sizeof(aeFileEvent)*setsize);\r\n      |                ^~~~~~\r\nae.c:75:20: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n   75 |     if (eventLoop->events == NULL || eventLoop->fired == NULL) goto err;\r\n      |                    ^~~~~~\r\nae.c:88:20: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n   88 |         eventLoop->events[i].mask = AE_NONE;\r\n      |                    ^~~~~~\r\nae.c:93:26: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n   93 |         zfree(eventLoop->events);\r\n      |                          ^~~~~~\r\nae.c: In function 'aeResizeSetSize':\r\nae.c:127:16: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  127 |     eventLoop->events = zrealloc(eventLoop->events,sizeof(aeFileEvent)*setsize);\r\n      |                ^~~~~~\r\nae.c:127:45: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  127 |     eventLoop->events = zrealloc(eventLoop->events,sizeof(aeFileEvent)*setsize);\r\n      |                                             ^~~~~~\r\nae.c:134:20: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  134 |         eventLoop->events[i].mask = AE_NONE;\r\n      |                    ^~~~~~\r\nae.c: In function 'aeDeleteEventLoop':\r\nae.c:140:22: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  140 |     zfree(eventLoop->events);\r\n      |                      ^~~~~~\r\nae.c: In function 'aeCreateFileEvent':\r\nae.c:164:35: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  164 |     aeFileEvent *fe = &eventLoop->events[fd];\r\n      |                                   ^~~~~~\r\nae.c: In function 'aeDeleteFileEvent':\r\nae.c:180:35: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  180 |     aeFileEvent *fe = &eventLoop->events[fd];\r\n      |                                   ^~~~~~\r\nae.c:194:28: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  194 |             if (eventLoop->events[j].mask != AE_NONE) break;\r\n      |                            ^~~~~~\r\nae.c: In function 'aeGetFileEvents':\r\nae.c:201:35: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  201 |     aeFileEvent *fe = &eventLoop->events[fd];\r\n      |                                   ^~~~~~\r\nae.c: In function 'aeProcessEvents':\r\nae.c:402:43: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  402 |             aeFileEvent *fe = &eventLoop->events[eventLoop->fired[j].fd];\r\n      |                                           ^~~~~~\r\nae.c:429:34: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  429 |                 fe = &eventLoop->events[fd]; /* Refresh in case of resize. */\r\n      |                                  ^~~~~~\r\nae.c:443:34: error: 'aeEventLoop' has no member named 'reqevents'; did you mean 'events'?\r\n  443 |                 fe = &eventLoop->events[fd]; /* Refresh in case of resize. */\r\n      |                                  ^~~~~~\r\nmake[1]: *** [Makefile:368: ae.o] Error 1\r\nmake[1]: Leaving directory '/home/jenkins/redis/src'\r\nmake: *** [Makefile:6: all] Error 2\r\n```\r\n",
  "state": "closed",
  "created_at": "2021-09-17T17:27:44Z",
  "updated_at": "2021-09-17T18:49:28Z",
  "closed_at": "2021-09-17T18:49:28Z",
  "labels": [],
  "comments_data": [
    {
      "id": 922008890,
      "user": "bemehiser",
      "created_at": "2021-09-17T18:49:28Z",
      "body": "Turns out I can solve this by including poll.h (as in `#include <sys/poll.h>`)\r\n\r\n    export CFLAGS=\"$CFLAGS -include poll.h\""
    }
  ]
}