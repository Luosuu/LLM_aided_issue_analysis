{
  "issue_number": 12729.0,
  "title": "[BUG] Updated to new docker, can't start redis 6.0.8",
  "body": "**Describe the bug**\r\n\r\nRedis 6.0.8 not starting inside docker\r\n\r\n**To reproduce**\r\n\r\n```\r\n2023-11-06 11:42:18 === REDIS BUG REPORT START: Cut & paste starting from here ===\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # ------------------------------------------------\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # !!! Software Failure. Press left mouse button to continue\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # Guru Meditation: Duplicated key found in RDB file #rdb.c:2324\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # (forcing SIGSEGV in order to print the stack trace)\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # ------------------------------------------------\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # Redis 6.0.8 crashed by signal: 11\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # Crashed running the instruction at: 0xaaaab0a094e0\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # Accessing address: 0xffffffffffffffff\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.647 # Failed assertion: <no assertion failed> (<no file>:0)\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 ------ STACK TRACE ------\r\n2023-11-06 11:42:18 EIP:\r\n2023-11-06 11:42:18 redis-server *:6379(_serverPanic+0x100)[0xaaaab0a094e0]\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 Backtrace:\r\n2023-11-06 11:42:18 redis-server *:6379(logStackTrace+0x40)[0xaaaab0a0b610]\r\n2023-11-06 11:42:18 redis-server *:6379(sigsegvHandler+0x98)[0xaaaab0a0bde0]\r\n2023-11-06 11:42:18 linux-vdso.so.1(__kernel_rt_sigreturn+0x0)[0xffffaf3a37a0]\r\n2023-11-06 11:42:18 redis-server *:6379(_serverPanic+0x100)[0xaaaab0a094e0]\r\n2023-11-06 11:42:18 redis-server *:6379(rdbLoadRio+0xad0)[0xaaaab09ee7c0]\r\n2023-11-06 11:42:18 redis-server *:6379(rdbLoad+0x5c)[0xaaaab09ee824]\r\n2023-11-06 11:42:18 redis-server *:6379(loadDataFromDisk+0x8c)[0xaaaab09cc134]\r\n2023-11-06 11:42:18 redis-server *:6379(main+0x38c)[0xaaaab09bda94]\r\n2023-11-06 11:42:18 /lib/aarch64-linux-gnu/libc.so.6(__libc_start_main+0xe4)[0xffffaedb0d24]\r\n2023-11-06 11:42:18 redis-server *:6379(+0x3de98)[0xaaaab09bde98]\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 ------ INFO OUTPUT ------\r\n2023-11-06 11:42:18 # Server\r\n2023-11-06 11:42:18 redis_version:6.0.8\r\n2023-11-06 11:42:18 redis_git_sha1:00000000\r\n2023-11-06 11:42:18 redis_git_dirty:0\r\n2023-11-06 11:42:18 redis_build_id:7f167dd9c8b08f78\r\n2023-11-06 11:42:18 redis_mode:standalone\r\n2023-11-06 11:42:18 os:Linux 6.4.16-linuxkit aarch64\r\n2023-11-06 11:42:18 arch_bits:64\r\n2023-11-06 11:42:18 multiplexing_api:epoll\r\n2023-11-06 11:42:18 atomicvar_api:atomic-builtin\r\n2023-11-06 11:42:18 gcc_version:8.3.0\r\n2023-11-06 11:42:18 process_id:1\r\n2023-11-06 11:42:18 run_id:1b17ef80a14b3fee9b66a83cf05427338aedc250\r\n2023-11-06 11:42:18 tcp_port:6379\r\n2023-11-06 11:42:18 uptime_in_seconds:0\r\n2023-11-06 11:42:18 uptime_in_days:0\r\n2023-11-06 11:42:18 hz:10\r\n2023-11-06 11:42:18 configured_hz:10\r\n2023-11-06 11:42:18 lru_clock:4768522\r\n2023-11-06 11:42:18 executable:/data/redis-server\r\n2023-11-06 11:42:18 config_file:\r\n2023-11-06 11:42:18 io_threads_active:0\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Clients\r\n2023-11-06 11:42:18 connected_clients:0\r\n2023-11-06 11:42:18 client_recent_max_input_buffer:0\r\n2023-11-06 11:42:18 client_recent_max_output_buffer:0\r\n2023-11-06 11:42:18 blocked_clients:0\r\n2023-11-06 11:42:18 tracking_clients:0\r\n2023-11-06 11:42:18 clients_in_timeout_table:0\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Memory\r\n2023-11-06 11:42:18 used_memory:174406624\r\n2023-11-06 11:42:18 used_memory_human:166.33M\r\n2023-11-06 11:42:18 used_memory_rss:0\r\n2023-11-06 11:42:18 used_memory_rss_human:0B\r\n2023-11-06 11:42:18 used_memory_peak:174406624\r\n2023-11-06 11:42:18 used_memory_peak_human:166.33M\r\n2023-11-06 11:42:18 used_memory_peak_perc:102.66%\r\n2023-11-06 11:42:18 used_memory_overhead:6695952\r\n2023-11-06 11:42:18 used_memory_startup:834728\r\n2023-11-06 11:42:18 used_memory_dataset:167710672\r\n2023-11-06 11:42:18 used_memory_dataset_perc:96.62%\r\n2023-11-06 11:42:18 allocator_allocated:0\r\n2023-11-06 11:42:18 allocator_active:0\r\n2023-11-06 11:42:18 allocator_resident:0\r\n2023-11-06 11:42:18 total_system_memory:12537065472\r\n2023-11-06 11:42:18 total_system_memory_human:11.68G\r\n2023-11-06 11:42:18 used_memory_lua:37888\r\n2023-11-06 11:42:18 used_memory_lua_human:37.00K\r\n2023-11-06 11:42:18 used_memory_scripts:0\r\n2023-11-06 11:42:18 used_memory_scripts_human:0B\r\n2023-11-06 11:42:18 number_of_cached_scripts:0\r\n2023-11-06 11:42:18 maxmemory:0\r\n2023-11-06 11:42:18 maxmemory_human:0B\r\n2023-11-06 11:42:18 maxmemory_policy:noeviction\r\n2023-11-06 11:42:18 allocator_frag_ratio:nan\r\n2023-11-06 11:42:18 allocator_frag_bytes:0\r\n2023-11-06 11:42:18 allocator_rss_ratio:nan\r\n2023-11-06 11:42:18 allocator_rss_bytes:0\r\n2023-11-06 11:42:18 rss_overhead_ratio:nan\r\n2023-11-06 11:42:18 rss_overhead_bytes:0\r\n2023-11-06 11:42:18 mem_fragmentation_ratio:nan\r\n2023-11-06 11:42:18 mem_fragmentation_bytes:0\r\n2023-11-06 11:42:18 mem_not_counted_for_evict:0\r\n2023-11-06 11:42:18 mem_replication_backlog:0\r\n2023-11-06 11:42:18 mem_clients_slaves:0\r\n2023-11-06 11:42:18 mem_clients_normal:0\r\n2023-11-06 11:42:18 mem_aof_buffer:0\r\n2023-11-06 11:42:18 mem_allocator:jemalloc-5.1.0\r\n2023-11-06 11:42:18 active_defrag_running:0\r\n2023-11-06 11:42:18 lazyfree_pending_objects:0\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Persistence\r\n2023-11-06 11:42:18 loading:1\r\n2023-11-06 11:42:18 rdb_changes_since_last_save:0\r\n2023-11-06 11:42:18 rdb_bgsave_in_progress:0\r\n2023-11-06 11:42:18 rdb_last_save_time:1699267338\r\n2023-11-06 11:42:18 rdb_last_bgsave_status:ok\r\n2023-11-06 11:42:18 rdb_last_bgsave_time_sec:-1\r\n2023-11-06 11:42:18 rdb_current_bgsave_time_sec:-1\r\n2023-11-06 11:42:18 rdb_last_cow_size:0\r\n2023-11-06 11:42:18 aof_enabled:0\r\n2023-11-06 11:42:18 aof_rewrite_in_progress:0\r\n2023-11-06 11:42:18 aof_rewrite_scheduled:0\r\n2023-11-06 11:42:18 aof_last_rewrite_time_sec:-1\r\n2023-11-06 11:42:18 aof_current_rewrite_time_sec:-1\r\n2023-11-06 11:42:18 aof_last_bgrewrite_status:ok\r\n2023-11-06 11:42:18 aof_last_write_status:ok\r\n2023-11-06 11:42:18 aof_last_cow_size:0\r\n2023-11-06 11:42:18 module_fork_in_progress:0\r\n2023-11-06 11:42:18 module_fork_last_cow_size:0\r\n2023-11-06 11:42:18 loading_start_time:1699267338\r\n2023-11-06 11:42:18 loading_total_bytes:72512438\r\n2023-11-06 11:42:18 loading_loaded_bytes:41943033\r\n2023-11-06 11:42:18 loading_loaded_perc:57.84\r\n2023-11-06 11:42:18 loading_eta_seconds:1\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Stats\r\n2023-11-06 11:42:18 total_connections_received:0\r\n2023-11-06 11:42:18 total_commands_processed:0\r\n2023-11-06 11:42:18 instantaneous_ops_per_sec:0\r\n2023-11-06 11:42:18 total_net_input_bytes:0\r\n2023-11-06 11:42:18 total_net_output_bytes:0\r\n2023-11-06 11:42:18 instantaneous_input_kbps:0.00\r\n2023-11-06 11:42:18 instantaneous_output_kbps:0.00\r\n2023-11-06 11:42:18 rejected_connections:0\r\n2023-11-06 11:42:18 sync_full:0\r\n2023-11-06 11:42:18 sync_partial_ok:0\r\n2023-11-06 11:42:18 sync_partial_err:0\r\n2023-11-06 11:42:18 expired_keys:0\r\n2023-11-06 11:42:18 expired_stale_perc:0.00\r\n2023-11-06 11:42:18 expired_time_cap_reached_count:0\r\n2023-11-06 11:42:18 expire_cycle_cpu_milliseconds:0\r\n2023-11-06 11:42:18 evicted_keys:0\r\n2023-11-06 11:42:18 keyspace_hits:0\r\n2023-11-06 11:42:18 keyspace_misses:0\r\n2023-11-06 11:42:18 pubsub_channels:0\r\n2023-11-06 11:42:18 pubsub_patterns:0\r\n2023-11-06 11:42:18 latest_fork_usec:0\r\n2023-11-06 11:42:18 migrate_cached_sockets:0\r\n2023-11-06 11:42:18 slave_expires_tracked_keys:0\r\n2023-11-06 11:42:18 active_defrag_hits:0\r\n2023-11-06 11:42:18 active_defrag_misses:0\r\n2023-11-06 11:42:18 active_defrag_key_hits:0\r\n2023-11-06 11:42:18 active_defrag_key_misses:0\r\n2023-11-06 11:42:18 tracking_total_keys:0\r\n2023-11-06 11:42:18 tracking_total_items:0\r\n2023-11-06 11:42:18 tracking_total_prefixes:0\r\n2023-11-06 11:42:18 unexpected_error_replies:0\r\n2023-11-06 11:42:18 total_reads_processed:0\r\n2023-11-06 11:42:18 total_writes_processed:0\r\n2023-11-06 11:42:18 io_threaded_reads_processed:0\r\n2023-11-06 11:42:18 io_threaded_writes_processed:0\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Replication\r\n2023-11-06 11:42:18 role:master\r\n2023-11-06 11:42:18 connected_slaves:0\r\n2023-11-06 11:42:18 master_replid:863eab9e070a077cb7b88e406bbaf97feb8f2926\r\n2023-11-06 11:42:18 master_replid2:0000000000000000000000000000000000000000\r\n2023-11-06 11:42:18 master_repl_offset:0\r\n2023-11-06 11:42:18 second_repl_offset:-1\r\n2023-11-06 11:42:18 repl_backlog_active:0\r\n2023-11-06 11:42:18 repl_backlog_size:1048576\r\n2023-11-06 11:42:18 repl_backlog_first_byte_offset:0\r\n2023-11-06 11:42:18 repl_backlog_histlen:0\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # CPU\r\n2023-11-06 11:42:18 used_cpu_sys:0.048902\r\n2023-11-06 11:42:18 used_cpu_user:0.306938\r\n2023-11-06 11:42:18 used_cpu_sys_children:0.000000\r\n2023-11-06 11:42:18 used_cpu_user_children:0.001763\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Modules\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Commandstats\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Cluster\r\n2023-11-06 11:42:18 cluster_enabled:0\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 # Keyspace\r\n2023-11-06 11:42:18 db0:keys=94101,expires=0,avg_ttl=0\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 ------ CLIENT LIST OUTPUT ------\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 ------ REGISTERS ------\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # \r\n2023-11-06 11:42:18 X18:0000000000000000 X19:0000aaaab0ae2448\r\n2023-11-06 11:42:18 X20:0000fffff7e4f4e0 X21:0000aaaab0add7a8\r\n2023-11-06 11:42:18 X22:0000000000000914 X23:0000aaaab0b47000\r\n2023-11-06 11:42:18 X24:0000ffffa069b81b X25:0000ffffa078e590\r\n2023-11-06 11:42:18 X26:0000000000000000 X27:0000fffff7e4fc80\r\n2023-11-06 11:42:18 X28:0000fffff7e4fbc0 X29:0000fffff7e4f470\r\n2023-11-06 11:42:18 X30:0000aaaab0a094d8\r\n2023-11-06 11:42:18 pc:0000aaaab0a094e0 sp:0000fffff7e4f470\r\n2023-11-06 11:42:18 pstate:0000000060001000 fault_address:ffffffffffffffff\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f47f) -> 662079656b206465\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f47e) -> 746163696c707544\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f47d) -> ffffff80ffffffd8\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f47c) -> 0000fffff7e4f660\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f47b) -> 0000fffff7e4f690\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f47a) -> 0000fffff7e4f690\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f479) -> ffffff80ffffffd8\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f478) -> 0000fffff7e4f660\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f477) -> 0000fffff7e4f690\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f476) -> 0000fffff7e4f690\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f475) -> 0000ffffadf00000\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f474) -> ffffffffffffffff\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f473) -> 0000fffff7e4f760\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f472) -> ffffffffffffffff\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f471) -> 0000aaaab09ee7c0\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # (0000fffff7e4f470) -> 0000fffff7e4f690\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 ------ MODULES INFO OUTPUT ------\r\n2023-11-06 11:42:18 \r\n2023-11-06 11:42:18 ------ FAST MEMORY TEST ------\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # Bio thread for job type #0 terminated\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # Bio thread for job type #1 terminated\r\n2023-11-06 11:42:18 1:M 06 Nov 2023 10:42:18.648 # Bio thread for job type #2 terminated\r\n2023-11-06 11:42:18 *** Preparing to test memory region aaaab0b53000 (704512 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region aaaac6653000 (270336 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffa0000000 (113246208 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffa6cf0000 (85983232 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffabefd000 (8388608 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffac6fe000 (8388608 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffaceff000 (8388608 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffad700000 (8388608 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffadf00000 (13631488 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffaeefe000 (16384 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffaef2d000 (16384 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffaf1d5000 (16384 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffaf2b7000 (4096 bytes)\r\n2023-11-06 11:42:18 *** Preparing to test memory region ffffaf397000 (32768 bytes)\r\n2023-11-06 11:42:19 .O.O.O.O.O.O.O.O.O.O.O.O.O.O\r\n2023-11-06 11:42:19 Fast memory test PASSED, however your memory can still be broken. Please run a memory test for several hours if possible.\r\n2023-11-06 11:42:19 \r\n2023-11-06 11:42:19 ------ DUMPING CODE AROUND EIP ------\r\n2023-11-06 11:42:19 Symbol: _serverPanic (base: 0xaaaab0a093e0)\r\n2023-11-06 11:42:19 Module: redis-server *:6379 (base 0xaaaab0980000)\r\n2023-11-06 11:42:19 $ xxd -r -p /tmp/dump.hex /tmp/dump.bin\r\n2023-11-06 11:42:19 $ objdump --adjust-vma=0xaaaab0a093e0 -D -b binary -m i386:x86-64 /tmp/dump.bin\r\n2023-11-06 11:42:19 ------\r\n2023-11-06 11:42:19 1:M 06 Nov 2023 10:42:19.350 # dump of function (hexdump of 384 bytes):\r\n2023-11-06 11:42:19 ff8308d1e9048012eac30791e80f8012eb830891fd7b00a9fd030091eb2f05a9ea3300f9e9230d29ea2f45a9f35301a9f4c30191e82746a9f55b02a9f50300aaf603012ae00314aa012080d2ea2f03a9e82704a9e05f803de163803de267803de36b803de46f803de573803de677803de77b803de3931fa9e3c30091e50701f9e60b01f9e70f01f9facefe97e00900d0005c46f900d44db900040034d30600b073221191e10313aa600080524beefe9760008052c10600b02100129147eefe97e403162ae30315aae20314aa60008052c10600b02100139140eefe9760008052c10600b0218013913ceefe97e10313aa6000805239eefe9700008092010f805201000039fd7b40a9f35341a9f55b42a9ff830891c0035fd612fdff97e0ffff17ff030dd1fd7b00a9fd03009164004039f35301a9f40303aa840c00128408c05af30302aa820080d2f55b02a9f50300aaf60301aae00313aae1f30191f96b04a9e47f00b95dfdff97e10316aae00315aa225cff97f90300aa80024039020c0072\r\n2023-11-06 11:42:19 \r\n2023-11-06 11:42:19 === REDIS BUG REPORT END. Make sure to include from START to END. ===\r\n```\r\n\r\n**Expected behavior**\r\n\r\nRedis is starting\r\n\r\n",
  "state": "open",
  "created_at": "2023-11-06T10:44:53Z",
  "updated_at": "2023-11-09T12:18:57Z",
  "closed_at": null,
  "labels": [],
  "comments_data": [
    {
      "id": 1803726468,
      "user": "MakDon",
      "created_at": "2023-11-09T12:18:57Z",
      "body": "> Guru Meditation: Duplicated key found in RDB file #rdb.c:2324\r\n\r\nIt seems that it is the same problem as #11697 "
    }
  ]
}