{
  "issue_number": 12072.0,
  "title": "[CRASH] when create vertex and relation on-demanded.",
  "body": "\r\n```\r\nLast login: Tue Apr 18 15:36:53 on ttys001\r\n% redis-stack-server                                                          ~\r\nStarting redis-stack-server, database path /usr/local/var/db/redis-stack\r\n22632:C 19 Apr 2023 08:31:00.429 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\r\n22632:C 19 Apr 2023 08:31:00.429 # Redis version=6.2.10, bits=64, commit=9c76b1ab, modified=0, pid=22632, just started\r\n22632:C 19 Apr 2023 08:31:00.429 # Configuration loaded\r\n22632:M 19 Apr 2023 08:31:00.429 * Increased maximum number of open files to 10032 (it was originally set to 256).\r\n22632:M 19 Apr 2023 08:31:00.429 * monotonic clock: POSIX clock_gettime\r\n                _._                                                  \r\n           _.-``__ ''-._                                             \r\n      _.-``    `.  `_.  ''-._           Redis 6.2.10 (9c76b1ab/0) 64 bit\r\n  .-`` .-```.  ```\\/    _.,_ ''-._                                  \r\n (    '      ,       .-`  | `,    )     Running in standalone mode\r\n |`-._`-...-` __...-.``-._|'` _.-'|     Port: 6379\r\n |    `-._   `._    /     _.-'    |     PID: 22632\r\n  `-._    `-._  `-./  _.-'    _.-'                                   \r\n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \r\n |    `-._`-._        _.-'_.-'    |           https://redis.io       \r\n  `-._    `-._`-.__.-'_.-'    _.-'                                   \r\n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \r\n |    `-._`-._        _.-'_.-'    |                                  \r\n  `-._    `-._`-.__.-'_.-'    _.-'                                   \r\n      `-._    `-.__.-'    _.-'                                       \r\n          `-._        _.-'                                           \r\n              `-.__.-'                                               \r\n\r\n22632:M 19 Apr 2023 08:31:00.433 # Server initialized\r\n22632:M 19 Apr 2023 08:31:00.463 * <search> Redis version found by RedisSearch : 6.2.10 - oss\r\n22632:M 19 Apr 2023 08:31:00.464 * <search> RediSearch version 2.6.5 (Git=HEAD-71bd22f3)\r\n22632:M 19 Apr 2023 08:31:00.464 * <search> Low level api version 1 initialized successfully\r\n22632:M 19 Apr 2023 08:31:00.464 * <search> concurrent writes: OFF, gc: ON, prefix min length: 2, prefix max expansions: 200, query timeout (ms): 500, timeout policy: return, cursor read size: 1000, cursor max idle (ms): 300000, max doctable size: 1000000, max number of search results:  10000, search pool size: 20, index pool size: 8, \r\n22632:M 19 Apr 2023 08:31:00.466 * <search> Initialized thread pool!\r\n22632:M 19 Apr 2023 08:31:00.466 * <search> Enabled diskless replication\r\n22632:M 19 Apr 2023 08:31:00.466 * <search> Enabled role change notification\r\n22632:M 19 Apr 2023 08:31:00.466 * Module 'search' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redisearch.so\r\n22632:M 19 Apr 2023 08:31:00.525 * <graph> Starting up RedisGraph version 2.10.8.\r\n22632:M 19 Apr 2023 08:31:00.527 * <graph> Thread pool created, using 4 threads.\r\n22632:M 19 Apr 2023 08:31:00.527 * <graph> Maximum number of OpenMP threads set to 1\r\n22632:M 19 Apr 2023 08:31:00.527 * Module 'graph' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redisgraph.so\r\n22632:M 19 Apr 2023 08:31:00.585 * <timeseries> RedisTimeSeries version 10805, git_sha=a7a296c8f3f6e312811032233a468d57d45957ca\r\n22632:M 19 Apr 2023 08:31:00.586 * <timeseries> Redis version found by RedisTimeSeries : 6.2.10 - oss\r\n22632:M 19 Apr 2023 08:31:00.586 * <timeseries> loaded default CHUNK_SIZE_BYTES policy: 4096\r\n22632:M 19 Apr 2023 08:31:00.586 * <timeseries> loaded server DUPLICATE_POLICY: block\r\n22632:M 19 Apr 2023 08:31:00.586 * <timeseries> Setting default series ENCODING to: compressed\r\n22632:M 19 Apr 2023 08:31:00.587 * <timeseries> Detected redis oss\r\n22632:M 19 Apr 2023 08:31:00.589 * <timeseries> Enabled diskless replication\r\n22632:M 19 Apr 2023 08:31:00.589 * Module 'timeseries' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redistimeseries.so\r\n22632:M 19 Apr 2023 08:31:00.622 * <ReJSON> version: 20405 git sha: 4e80773 branch: HEAD\r\n22632:M 19 Apr 2023 08:31:00.622 * <ReJSON> Exported RedisJSON_V1 API\r\n22632:M 19 Apr 2023 08:31:00.622 * <ReJSON> Exported RedisJSON_V2 API\r\n22632:M 19 Apr 2023 08:31:00.622 * <ReJSON> Exported RedisJSON_V3 API\r\n22632:M 19 Apr 2023 08:31:00.622 * <ReJSON> Enabled diskless replication\r\n22632:M 19 Apr 2023 08:31:00.622 * <ReJSON> Created new data type 'ReJSON-RL'\r\n22632:M 19 Apr 2023 08:31:00.622 * Module 'ReJSON' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/rejson.so\r\n22632:M 19 Apr 2023 08:31:00.623 * <search> Acquired RedisJSON_V3 API\r\n22632:M 19 Apr 2023 08:31:00.623 * <graph> Acquired RedisJSON_V1 API\r\n22632:M 19 Apr 2023 08:31:00.646 * <bf> RedisBloom version 2.4.4 (Git=unknown)\r\n22632:M 19 Apr 2023 08:31:00.647 * Module 'bf' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redisbloom.so\r\n22632:M 19 Apr 2023 08:31:00.648 * <search> Loading event starts\r\n22632:M 19 Apr 2023 08:31:00.648 * Loading RDB produced by version 6.2.10\r\n22632:M 19 Apr 2023 08:31:00.648 * RDB age 46692 seconds\r\n22632:M 19 Apr 2023 08:31:00.648 * RDB memory usage when created 24.92 Mb\r\n22632:M 19 Apr 2023 08:31:00.649 # <search> creating vector index. Server memory limit: 17179869184B, required memory: 2222528B, available memory: 17178645840B\r\n22632:M 19 Apr 2023 08:31:00.742 * <graph> Done decoding graph test-kb\r\n22632:M 19 Apr 2023 08:31:00.750 * <graph> Done decoding graph DEMO_GRAPH\r\n22632:M 19 Apr 2023 08:31:00.755 * <graph> Done decoding graph test-kg\r\n22632:M 19 Apr 2023 08:31:00.757 * <module> Deleted 0 virtual keys for graph test-kb\r\n22632:M 19 Apr 2023 08:31:00.757 * <module> Deleted 0 virtual keys for graph DEMO_GRAPH\r\n22632:M 19 Apr 2023 08:31:00.757 * <module> Deleted 0 virtual keys for graph test-kg\r\n22632:M 19 Apr 2023 08:31:00.757 # Done loading RDB, keys loaded: 70, keys expired: 0.\r\n22632:M 19 Apr 2023 08:31:00.757 # <search> Skip background reindex scan, redis version contains loaded event.\r\n22632:M 19 Apr 2023 08:31:00.757 * <search> Loading event ends\r\n22632:M 19 Apr 2023 08:31:00.757 * DB loaded from disk: 0.109 seconds\r\n22632:M 19 Apr 2023 08:31:00.757 * Ready to accept connections\r\n22632:M 19 Apr 2023 10:43:50.441 * 1 changes in 3600 seconds. Saving...\r\n22632:M 19 Apr 2023 10:43:50.445 * Background saving started by pid 24185\r\n24185:C 19 Apr 2023 10:43:50.447 * <graph> Created 0 virtual keys for graph test-kb\r\n24185:C 19 Apr 2023 10:43:50.449 * <graph> Created 0 virtual keys for graph DEMO_GRAPH\r\n24185:C 19 Apr 2023 10:43:50.449 * <graph> Created 0 virtual keys for graph test-kg\r\n24185:C 19 Apr 2023 10:43:50.452 * <graph> Done encoding graph test-kg\r\n24185:C 19 Apr 2023 10:43:50.453 * <graph> Done encoding graph DEMO_GRAPH\r\n24185:C 19 Apr 2023 10:43:50.454 * <graph> Done encoding graph test-kb\r\n24185:C 19 Apr 2023 10:43:50.455 * DB saved on disk\r\n24185:C 19 Apr 2023 10:43:50.456 * <graph> Deleted 0 virtual keys for graph test-kb\r\n24185:C 19 Apr 2023 10:43:50.456 * <graph> Deleted 0 virtual keys for graph DEMO_GRAPH\r\n24185:C 19 Apr 2023 10:43:50.456 * <graph> Deleted 0 virtual keys for graph test-kg\r\n22632:M 19 Apr 2023 10:43:50.546 * Background saving terminated with success\r\nAssertion failed: (rwData->type != lockType_Read), function RediSearch_LockWrite, file /Users/distiller/project/deps/RediSearch/src/rwlock.c, line 59.\r\n\r\n\r\n=== REDIS BUG REPORT START: Cut & paste starting from here ===\r\n22632:M 19 Apr 2023 11:51:49.585 # Redis 6.2.10 crashed by signal: 6, si_code: 0\r\n22632:M 19 Apr 2023 11:51:49.585 # Crashed running the instruction at: 0x7ff81940e1f2\r\n\r\n------ STACK TRACE ------\r\nEIP:\r\n0   libsystem_kernel.dylib              0x00007ff81940e1f2 __pthread_kill + 10\r\n\r\nBacktrace:\r\n0   libsystem_platform.dylib            0x00007ff8194735ed _sigtramp + 29\r\n1   ???                                 0x0000600005d3c9c0 0x0 + 105553214032320\r\n2   libsystem_c.dylib                   0x00007ff81936cb45 abort + 123\r\n3   libsystem_c.dylib                   0x00007ff81936be5e err + 0\r\n4   redisgraph.so                       0x000000010dd0e021 RediSearch_LockWrite.cold.1 + 33\r\n5   redisgraph.so                       0x000000010dc6fc80 RediSearch_LockRelease + 0\r\n6   redisgraph.so                       0x000000010dc69544 RediSearch_IndexAddDocument + 36\r\n7   redisgraph.so                       0x000000010cd179f5 Index_IndexNode + 85\r\n8   redisgraph.so                       0x000000010cd074a9 CreateNode + 89\r\n9   redisgraph.so                       0x000000010ccfb03b CommitNewEntities + 491\r\n10  redisgraph.so                       0x000000010ccf2130 CreateConsume + 448\r\n11  redisgraph.so                       0x000000010ccf83a5 ProjectConsume + 37\r\n12  redisgraph.so                       0x000000010ccf4b02 JoinConsume + 114\r\n13  redisgraph.so                       0x000000010ccf3464 DistinctConsume + 36\r\n14  redisgraph.so                       0x000000010ccf87cc ResultsConsume + 44\r\n15  redisgraph.so                       0x000000010cced927 ExecutionPlan_Execute + 87\r\n16  redisgraph.so                       0x000000010ccea6f8 _ExecuteQuery + 600\r\n17  redisgraph.so                       0x000000010cd3317a thread_do + 570\r\n18  libsystem_pthread.dylib             0x00007ff8194461d3 _pthread_start + 125\r\n19  libsystem_pthread.dylib             0x00007ff819441bd3 thread_start + 15\r\n\r\n------ REGISTERS ------\r\n22632:M 19 Apr 2023 11:51:49.605 # \r\nRAX:0000000000000000 RBX:00007000083f3000\r\nRCX:00007000083f2a48 RDX:0000000000000000\r\nRDI:0000000000001203 RSI:0000000000000006\r\nRBP:00007000083f2a70 RSP:00007000083f2a48\r\nR8 :000000000000003b R9 :cccccccccccccccd\r\nR10:0000000000000000 R11:0000000000000246\r\nR12:0000000000001203 R13:000000010ae6e028\r\nR14:0000000000000006 R15:0000000000000016\r\nRIP:00007ff81940e1f2 EFL:0000000000000246\r\nCS :0000000000000007 FS:0000000000000000  GS:0000000000000000\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a57) -> 0000600001cebbe0\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a56) -> 00007ff81936be5e\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a55) -> 00007000083f2af0\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a54) -> 000000010dd3ce51\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a53) -> 000000000000003b\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a52) -> 000000010dd3cec4\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a51) -> ffffffff00000030\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a50) -> 00000000fffff9df\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a4f) -> 000000010dd3cec4\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a4e) -> 00007ff81936cb45\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a4d) -> 00007000083f2ab0\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a4c) -> 00007000083f2a88\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a4b) -> 00007000083f3000\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a4a) -> 000000010ae6e000\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a49) -> 0000000000000003\r\n22632:M 19 Apr 2023 11:51:49.605 # (00007000083f2a48) -> 00007ff819445ee6\r\n\r\n------ INFO OUTPUT ------\r\n# Server\r\nredis_version:6.2.10\r\nredis_git_sha1:9c76b1ab\r\nredis_git_dirty:0\r\nredis_build_id:8fb1e72708938b4a\r\nredis_mode:standalone\r\nos:Darwin 22.4.0 x86_64\r\narch_bits:64\r\nmonotonic_clock:POSIX clock_gettime\r\nmultiplexing_api:kqueue\r\natomicvar_api:c11-builtin\r\ngcc_version:4.2.1\r\nprocess_id:22632\r\nprocess_supervised:no\r\nrun_id:823d7308ce3baa0ae8f7ad2f293290508445860b\r\ntcp_port:6379\r\nserver_time_usec:1681876309569547\r\nuptime_in_seconds:12049\r\nuptime_in_days:0\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:4154709\r\nexecutable:/usr/local/Caskroom/redis-stack-server/6.2.6-v4/bin/redis-server\r\nconfig_file:/usr/local/Caskroom/redis-stack-server/6.2.6-v4/etc/redis-stack.conf\r\nio_threads_active:0\r\n\r\n# Clients\r\nconnected_clients:2\r\ncluster_connections:0\r\nmaxclients:10000\r\nclient_recent_max_input_buffer:48\r\nclient_recent_max_output_buffer:0\r\nblocked_clients:1\r\ntracking_clients:0\r\nclients_in_timeout_table:0\r\n\r\n# Memory\r\nused_memory:26671520\r\nused_memory_human:25.44M\r\nused_memory_rss:9170944\r\nused_memory_rss_human:8.75M\r\nused_memory_peak:26671520\r\nused_memory_peak_human:25.44M\r\nused_memory_peak_perc:101.24%\r\nused_memory_overhead:1244512\r\nused_memory_startup:1205760\r\nused_memory_dataset:25427008\r\nused_memory_dataset_perc:99.85%\r\nallocator_allocated:26054784\r\nallocator_active:9140224\r\nallocator_resident:9140224\r\ntotal_system_memory:17179869184\r\ntotal_system_memory_human:16.00G\r\nused_memory_lua:30720\r\nused_memory_lua_human:30.00K\r\nused_memory_scripts:0\r\nused_memory_scripts_human:0B\r\nnumber_of_cached_scripts:0\r\nmaxmemory:0\r\nmaxmemory_human:0B\r\nmaxmemory_policy:noeviction\r\nallocator_frag_ratio:0.35\r\nallocator_frag_bytes:18446744073692637056\r\nallocator_rss_ratio:1.00\r\nallocator_rss_bytes:0\r\nrss_overhead_ratio:1.00\r\nrss_overhead_bytes:30720\r\nmem_fragmentation_ratio:0.35\r\nmem_fragmentation_bytes:-16883840\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:0\r\nmem_clients_slaves:0\r\nmem_clients_normal:34896\r\nmem_aof_buffer:0\r\nmem_allocator:libc\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\nlazyfreed_objects:0\r\n\r\n# Persistence\r\nloading:0\r\ncurrent_cow_size:0\r\ncurrent_cow_size_age:0\r\ncurrent_fork_perc:0.00\r\ncurrent_save_keys_processed:0\r\ncurrent_save_keys_total:0\r\nrdb_changes_since_last_save:0\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1681872230\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:0\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_last_cow_size:0\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\nmodule_fork_in_progress:0\r\nmodule_fork_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:6\r\ntotal_commands_processed:817\r\ninstantaneous_ops_per_sec:0\r\ntotal_net_input_bytes:28412\r\ntotal_net_output_bytes:2920072\r\ninstantaneous_input_kbps:0.00\r\ninstantaneous_output_kbps:0.00\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:0\r\nexpired_stale_perc:0.00\r\nexpired_time_cap_reached_count:0\r\nexpire_cycle_cpu_milliseconds:181\r\nevicted_keys:0\r\nkeyspace_hits:407\r\nkeyspace_misses:0\r\npubsub_channels:0\r\npubsub_patterns:0\r\nlatest_fork_usec:2772\r\ntotal_forks:1\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:0\r\nactive_defrag_misses:0\r\nactive_defrag_key_hits:0\r\nactive_defrag_key_misses:0\r\ntracking_total_keys:0\r\ntracking_total_items:0\r\ntracking_total_prefixes:0\r\nunexpected_error_replies:0\r\ntotal_error_replies:13\r\ndump_payload_sanitizations:0\r\ntotal_reads_processed:678\r\ntotal_writes_processed:674\r\nio_threaded_reads_processed:0\r\nio_threaded_writes_processed:0\r\n\r\n# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:da43a01b05be73b4c56515d125d0a0f4a65b6752\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n\r\n# CPU\r\nused_cpu_sys:8.431738\r\nused_cpu_user:5.429271\r\nused_cpu_sys_children:0.004006\r\nused_cpu_user_children:0.002780\r\n\r\n# Modules\r\nmodule:name=ReJSON,ver=20405,api=1,filters=0,usedby=[search|graph],using=[],options=[handle-io-errors]\r\nmodule:name=search,ver=20605,api=1,filters=0,usedby=[],using=[ReJSON],options=[handle-io-errors]\r\nmodule:name=graph,ver=21008,api=1,filters=0,usedby=[],using=[ReJSON],options=[]\r\nmodule:name=timeseries,ver=10805,api=1,filters=0,usedby=[],using=[],options=[handle-io-errors]\r\nmodule:name=bf,ver=20404,api=1,filters=0,usedby=[],using=[],options=[]\r\n\r\n# Commandstats\r\ncmdstat_acl:calls=2,usec=55,usec_per_call=27.50,rejected_calls=0,failed_calls=0\r\ncmdstat_scan:calls=2,usec=71,usec_per_call=35.50,rejected_calls=0,failed_calls=0\r\ncmdstat_module:calls=2,usec=326,usec_per_call=163.00,rejected_calls=0,failed_calls=0\r\ncmdstat_config:calls=2,usec=471,usec_per_call=235.50,rejected_calls=0,failed_calls=0\r\ncmdstat_command:calls=1,usec=899,usec_per_call=899.00,rejected_calls=0,failed_calls=0\r\ncmdstat_ttl:calls=50,usec=26,usec_per_call=0.52,rejected_calls=0,failed_calls=0\r\ncmdstat_type:calls=50,usec=32,usec_per_call=0.64,rejected_calls=0,failed_calls=0\r\ncmdstat_graph.EXPLAIN:calls=1,usec=834,usec_per_call=834.00,rejected_calls=0,failed_calls=0\r\ncmdstat_info:calls=624,usec=42492,usec_per_call=68.10,rejected_calls=0,failed_calls=0\r\ncmdstat_dbsize:calls=2,usec=280,usec_per_call=140.00,rejected_calls=0,failed_calls=0\r\ncmdstat_client:calls=6,usec=9,usec_per_call=1.50,rejected_calls=0,failed_calls=0\r\ncmdstat_graph.QUERY:calls=21,usec=91461,usec_per_call=4355.29,rejected_calls=0,failed_calls=0\r\ncmdstat_graph.RO_QUERY:calls=4,usec=3669,usec_per_call=917.25,rejected_calls=0,failed_calls=0\r\ncmdstat_memory:calls=50,usec=66,usec_per_call=1.32,rejected_calls=0,failed_calls=0\r\n\r\n# Errorstats\r\nerrorstat_A:count=8\r\nerrorstat_d:count=5\r\n\r\n# Cluster\r\ncluster_enabled:0\r\n\r\n# Keyspace\r\ndb0:keys=70,expires=0,avg_ttl=0\r\n\r\n------ CLIENT LIST OUTPUT ------\r\nid=176 addr=127.0.0.1:53610 laddr=127.0.0.1:6379 fd=10 name=redisinsight-workbench-d92a666f age=7568 idle=0 flags=b db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=36858 argv-mem=256 obl=0 oll=0 omem=0 tot-mem=54560 events=r cmd=graph.QUERY user=default redir=-1\r\nid=294 addr=127.0.0.1:53917 laddr=127.0.0.1:6379 fd=9 name=redisinsight-common-d92a666f age=4170 idle=3521 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 argv-mem=0 obl=0 oll=0 omem=0 tot-mem=17440 events=r cmd=info user=default redir=-1\r\n\r\n------ MODULES INFO OUTPUT ------\r\n# ReJSON_trace\r\nReJSON_trace:   0: backtrace::capture::Backtrace::new\r\n   1: redis_module::base_info_func\r\n   2: rejson::__info_func\r\n   3: _modulesCollectInfo\r\n   4: _printCrashReport\r\n   5: _sigsegvHandler\r\n   6: __sigtramp\r\n   7: ___pthread_kill\r\n   8: _pthread_kill\r\n   9: <unknown>\r\n  10: <unknown>\r\n\r\n\r\n# search_version\r\nsearch_version:2.6.5\r\nsearch_redis_version:6.2.10 - oss\r\n\r\n# search_index\r\nsearch_number_of_indexes:1\r\n\r\n# search_fields_statistics\r\nsearch_fields_text:Text=1\r\nsearch_fields_vector:Vector=1,HSNW=1\r\n\r\n# search_dialect_statistics\r\nsearch_dialect_1:0\r\nsearch_dialect_2:0\r\nsearch_dialect_3:0\r\n\r\n# search_runtime_configurations\r\nsearch_concurrent_mode:OFF\r\nsearch_enableGC:ON\r\nsearch_minimal_term_prefix:2\r\nsearch_maximal_prefix_expansions:200\r\nsearch_query_timeout_ms:500\r\nsearch_timeout_policy:return\r\nsearch_cursor_read_size:1000\r\nsearch_cursor_max_idle_time:300000\r\nsearch_max_doc_table_size:1000000\r\nsearch_max_search_results:10000\r\nsearch_max_aggregate_results:10000\r\nsearch_search_pool_size:20\r\nsearch_index_pool_size:8\r\nsearch_gc_scan_size:100\r\nsearch_min_phonetic_term_length:3\r\n\r\n# graph_executing commands\r\ngraph_command:GRAPH.QUERY MATCH (:Resource {uid: '123'})-[:DOC]->(:Section {uid: '234'}) RETURN 1 as phase UNION MATCH (section:Section {uid: '234'}) CREATE (:Resource {uid: '123'})-[:DOC {sn: 2, timestamp: 456, mime: 'text/markdown'}]->(section) RETURN 3 as phase\r\n\r\n------ DUMPING CODE AROUND EIP ------\r\nSymbol: __pthread_kill (base: 0x7ff81940e1e8)\r\nModule: /usr/lib/system/libsystem_kernel.dylib (base 0x7ff819406000)\r\n$ xxd -r -p /tmp/dump.hex /tmp/dump.bin\r\n$ objdump --adjust-vma=0x7ff81940e1e8 -D -b binary -m i386:x86-64 /tmp/dump.bin\r\n------\r\n22632:M 19 Apr 2023 11:51:49.643 # dump of function (hexdump of 138 bytes):\r\nb8480100024989ca0f0573084889c7e9df9affffc3909090b8530000024989ca0f0573084889c7e9c79affffc3909090b8830100024989ca0f0573084889c7e9af9affffc390904585c0742365488b0425080000004885c0488d0de1577143480f45c8c70116000000b8ffffffffc341b840000000e952beffff9090b86a0000024989ca0f0573084889\r\n\r\n=== REDIS BUG REPORT END. Make sure to include from START to END. ===\r\n\r\n       Please report the crash by opening an issue on github:\r\n\r\n           http://github.com/redis/redis/issues\r\n\r\n  If a Redis module was involved, please open in the module's repo instead.\r\n\r\n  Suspect RAM error? Use redis-server --test-memory to verify it.\r\n\r\n  Some other issues could be detected by redis-server --check-system\r\n/usr/local/bin/redis-stack-server: line 77: 22632 Abort trap: 6           ${CMD} ${CONFFILE} --dir ${REDIS_DATA_DIR} --protected-mode no --daemonize no --loadmodule ${MODULEDIR}/redisearch.so ${REDISEARCH_ARGS} --loadmodule ${MODULEDIR}/redisgraph.so ${REDISGRAPH_ARGS} --loadmodule ${MODULEDIR}/redistimeseries.so ${REDISTIMESERIES_ARGS} --loadmodule ${MODULEDIR}/rejson.so ${REDISJSON_ARGS} --loadmodule ${MODULEDIR}/redisbloom.so ${REDISBLOOM_ARGS} $*\r\n[134] % redis-stack-server                                                    ~\r\nStarting redis-stack-server, database path /usr/local/var/db/redis-stack\r\n25037:C 19 Apr 2023 11:52:55.815 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\r\n25037:C 19 Apr 2023 11:52:55.815 # Redis version=6.2.10, bits=64, commit=9c76b1ab, modified=0, pid=25037, just started\r\n25037:C 19 Apr 2023 11:52:55.815 # Configuration loaded\r\n25037:M 19 Apr 2023 11:52:55.816 * Increased maximum number of open files to 10032 (it was originally set to 256).\r\n25037:M 19 Apr 2023 11:52:55.816 * monotonic clock: POSIX clock_gettime\r\n                _._                                                  \r\n           _.-``__ ''-._                                             \r\n      _.-``    `.  `_.  ''-._           Redis 6.2.10 (9c76b1ab/0) 64 bit\r\n  .-`` .-```.  ```\\/    _.,_ ''-._                                  \r\n (    '      ,       .-`  | `,    )     Running in standalone mode\r\n |`-._`-...-` __...-.``-._|'` _.-'|     Port: 6379\r\n |    `-._   `._    /     _.-'    |     PID: 25037\r\n  `-._    `-._  `-./  _.-'    _.-'                                   \r\n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \r\n |    `-._`-._        _.-'_.-'    |           https://redis.io       \r\n  `-._    `-._`-.__.-'_.-'    _.-'                                   \r\n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \r\n |    `-._`-._        _.-'_.-'    |                                  \r\n  `-._    `-._`-.__.-'_.-'    _.-'                                   \r\n      `-._    `-.__.-'    _.-'                                       \r\n          `-._        _.-'                                           \r\n              `-.__.-'                                               \r\n\r\n25037:M 19 Apr 2023 11:52:55.817 # Server initialized\r\n25037:M 19 Apr 2023 11:52:55.819 * <search> Redis version found by RedisSearch : 6.2.10 - oss\r\n25037:M 19 Apr 2023 11:52:55.819 * <search> RediSearch version 2.6.5 (Git=HEAD-71bd22f3)\r\n25037:M 19 Apr 2023 11:52:55.819 * <search> Low level api version 1 initialized successfully\r\n25037:M 19 Apr 2023 11:52:55.819 * <search> concurrent writes: OFF, gc: ON, prefix min length: 2, prefix max expansions: 200, query timeout (ms): 500, timeout policy: return, cursor read size: 1000, cursor max idle (ms): 300000, max doctable size: 1000000, max number of search results:  10000, search pool size: 20, index pool size: 8, \r\n25037:M 19 Apr 2023 11:52:55.819 * <search> Initialized thread pool!\r\n25037:M 19 Apr 2023 11:52:55.819 * <search> Enabled diskless replication\r\n25037:M 19 Apr 2023 11:52:55.819 * <search> Enabled role change notification\r\n25037:M 19 Apr 2023 11:52:55.819 * Module 'search' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redisearch.so\r\n25037:M 19 Apr 2023 11:52:55.823 * <graph> Starting up RedisGraph version 2.10.8.\r\n25037:M 19 Apr 2023 11:52:55.823 * <graph> Thread pool created, using 4 threads.\r\n25037:M 19 Apr 2023 11:52:55.823 * <graph> Maximum number of OpenMP threads set to 1\r\n25037:M 19 Apr 2023 11:52:55.823 * Module 'graph' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redisgraph.so\r\n25037:M 19 Apr 2023 11:52:55.827 * <timeseries> RedisTimeSeries version 10805, git_sha=a7a296c8f3f6e312811032233a468d57d45957ca\r\n25037:M 19 Apr 2023 11:52:55.827 * <timeseries> Redis version found by RedisTimeSeries : 6.2.10 - oss\r\n25037:M 19 Apr 2023 11:52:55.827 * <timeseries> loaded default CHUNK_SIZE_BYTES policy: 4096\r\n25037:M 19 Apr 2023 11:52:55.827 * <timeseries> loaded server DUPLICATE_POLICY: block\r\n25037:M 19 Apr 2023 11:52:55.827 * <timeseries> Setting default series ENCODING to: compressed\r\n25037:M 19 Apr 2023 11:52:55.827 * <timeseries> Detected redis oss\r\n25037:M 19 Apr 2023 11:52:55.828 * <timeseries> Enabled diskless replication\r\n25037:M 19 Apr 2023 11:52:55.828 * Module 'timeseries' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redistimeseries.so\r\n25037:M 19 Apr 2023 11:52:55.832 * <ReJSON> version: 20405 git sha: 4e80773 branch: HEAD\r\n25037:M 19 Apr 2023 11:52:55.832 * <ReJSON> Exported RedisJSON_V1 API\r\n25037:M 19 Apr 2023 11:52:55.832 * <ReJSON> Exported RedisJSON_V2 API\r\n25037:M 19 Apr 2023 11:52:55.832 * <ReJSON> Exported RedisJSON_V3 API\r\n25037:M 19 Apr 2023 11:52:55.832 * <ReJSON> Enabled diskless replication\r\n25037:M 19 Apr 2023 11:52:55.832 * <ReJSON> Created new data type 'ReJSON-RL'\r\n25037:M 19 Apr 2023 11:52:55.832 * Module 'ReJSON' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/rejson.so\r\n25037:M 19 Apr 2023 11:52:55.832 * <search> Acquired RedisJSON_V3 API\r\n25037:M 19 Apr 2023 11:52:55.832 * <graph> Acquired RedisJSON_V1 API\r\n25037:M 19 Apr 2023 11:52:55.832 * <bf> RedisBloom version 2.4.4 (Git=unknown)\r\n25037:M 19 Apr 2023 11:52:55.833 * Module 'bf' loaded from /usr/local/Caskroom/redis-stack-server/6.2.6-v4/lib/redisbloom.so\r\n25037:M 19 Apr 2023 11:52:55.833 * <search> Loading event starts\r\n25037:M 19 Apr 2023 11:52:55.833 * Loading RDB produced by version 6.2.10\r\n25037:M 19 Apr 2023 11:52:55.833 * RDB age 4145 seconds\r\n25037:M 19 Apr 2023 11:52:55.833 * RDB memory usage when created 24.81 Mb\r\n25037:M 19 Apr 2023 11:52:55.833 # <search> creating vector index. Server memory limit: 17179869184B, required memory: 2222528B, available memory: 17178645840B\r\n25037:M 19 Apr 2023 11:52:55.927 * <graph> Done decoding graph test-kg\r\n25037:M 19 Apr 2023 11:52:55.928 * <graph> Done decoding graph DEMO_GRAPH\r\n25037:M 19 Apr 2023 11:52:55.929 * <graph> Done decoding graph test-kb\r\n25037:M 19 Apr 2023 11:52:55.931 * <module> Deleted 0 virtual keys for graph test-kg\r\n25037:M 19 Apr 2023 11:52:55.931 * <module> Deleted 0 virtual keys for graph DEMO_GRAPH\r\n25037:M 19 Apr 2023 11:52:55.931 * <module> Deleted 0 virtual keys for graph test-kb\r\n25037:M 19 Apr 2023 11:52:55.931 # Done loading RDB, keys loaded: 70, keys expired: 0.\r\n25037:M 19 Apr 2023 11:52:55.931 # <search> Skip background reindex scan, redis version contains loaded event.\r\n25037:M 19 Apr 2023 11:52:55.931 * <search> Loading event ends\r\n25037:M 19 Apr 2023 11:52:55.931 * DB loaded from disk: 0.098 seconds\r\n25037:M 19 Apr 2023 11:52:55.931 * Ready to accept connections\r\nAssertion failed: (rwData->type != lockType_Read), function RediSearch_LockWrite, file /Users/distiller/project/deps/RediSearch/src/rwlock.c, line 59.\r\n\r\n\r\n=== REDIS BUG REPORT START: Cut & paste starting from here ===\r\n25037:M 19 Apr 2023 11:53:05.857 # Redis 6.2.10 crashed by signal: 6, si_code: 0\r\n25037:M 19 Apr 2023 11:53:05.857 # Crashed running the instruction at: 0x7ff81940e1f2\r\n\r\n------ STACK TRACE ------\r\nEIP:\r\n0   libsystem_kernel.dylib              0x00007ff81940e1f2 __pthread_kill + 10\r\n\r\nBacktrace:\r\n0   libsystem_platform.dylib            0x00007ff8194735ed _sigtramp + 29\r\n1   ???                                 0x00007fd0d99086b0 0x0 + 140534980052656\r\n2   libsystem_c.dylib                   0x00007ff81936cb45 abort + 123\r\n3   libsystem_c.dylib                   0x00007ff81936be5e err + 0\r\n4   redisgraph.so                       0x000000010d871021 RediSearch_LockWrite.cold.1 + 33\r\n5   redisgraph.so                       0x000000010d7d2c80 RediSearch_LockRelease + 0\r\n6   redisgraph.so                       0x000000010d7cc544 RediSearch_IndexAddDocument + 36\r\n7   redisgraph.so                       0x000000010c87a9f5 Index_IndexNode + 85\r\n8   redisgraph.so                       0x000000010c86a4a9 CreateNode + 89\r\n9   redisgraph.so                       0x000000010c85e03b CommitNewEntities + 491\r\n10  redisgraph.so                       0x000000010c855130 CreateConsume + 448\r\n11  redisgraph.so                       0x000000010c85b3a5 ProjectConsume + 37\r\n12  redisgraph.so                       0x000000010c857b02 JoinConsume + 114\r\n13  redisgraph.so                       0x000000010c856464 DistinctConsume + 36\r\n14  redisgraph.so                       0x000000010c85b7cc ResultsConsume + 44\r\n15  redisgraph.so                       0x000000010c850927 ExecutionPlan_Execute + 87\r\n16  redisgraph.so                       0x000000010c84d6f8 _ExecuteQuery + 600\r\n17  redisgraph.so                       0x000000010c89617a thread_do + 570\r\n18  libsystem_pthread.dylib             0x00007ff8194461d3 _pthread_start + 125\r\n19  libsystem_pthread.dylib             0x00007ff819441bd3 thread_start + 15\r\n\r\n------ REGISTERS ------\r\n25037:M 19 Apr 2023 11:53:05.861 # \r\nRAX:0000000000000000 RBX:000070000d2f7000\r\nRCX:000070000d2f6a48 RDX:0000000000000000\r\nRDI:0000000000000f03 RSI:0000000000000006\r\nRBP:000070000d2f6a70 RSP:000070000d2f6a48\r\nR8 :000000000000003b R9 :cccccccccccccccd\r\nR10:0000000000000000 R11:0000000000000246\r\nR12:0000000000000f03 R13:000000010a9d1028\r\nR14:0000000000000006 R15:0000000000000016\r\nRIP:00007ff81940e1f2 EFL:0000000000000246\r\nCS :0000000000000007 FS:0000000000000000  GS:0000000000000000\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a57) -> 00006000079fc790\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a56) -> 00007ff81936be5e\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a55) -> 000070000d2f6af0\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a54) -> 000000010d89fe51\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a53) -> 000000000000003b\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a52) -> 000000010d89fec4\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a51) -> ffffffff00000030\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a50) -> 00000000fffff9df\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a4f) -> 000000010d89fec4\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a4e) -> 00007ff81936cb45\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a4d) -> 000070000d2f6ab0\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a4c) -> 000070000d2f6a88\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a4b) -> 000070000d2f7000\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a4a) -> 000000010a9d1000\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a49) -> 0000000000000003\r\n25037:M 19 Apr 2023 11:53:05.862 # (000070000d2f6a48) -> 00007ff819445ee6\r\n\r\n------ INFO OUTPUT ------\r\n# Server\r\nredis_version:6.2.10\r\nredis_git_sha1:9c76b1ab\r\nredis_git_dirty:0\r\nredis_build_id:8fb1e72708938b4a\r\nredis_mode:standalone\r\nos:Darwin 22.4.0 x86_64\r\narch_bits:64\r\nmonotonic_clock:POSIX clock_gettime\r\nmultiplexing_api:kqueue\r\natomicvar_api:c11-builtin\r\ngcc_version:4.2.1\r\nprocess_id:25037\r\nprocess_supervised:no\r\nrun_id:02054e97ebac751a404bd26a415d25da3971a39a\r\ntcp_port:6379\r\nserver_time_usec:1681876385856390\r\nuptime_in_seconds:10\r\nuptime_in_days:0\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:4154785\r\nexecutable:/usr/local/Caskroom/redis-stack-server/6.2.6-v4/bin/redis-server\r\nconfig_file:/usr/local/Caskroom/redis-stack-server/6.2.6-v4/etc/redis-stack.conf\r\nio_threads_active:0\r\n\r\n# Clients\r\nconnected_clients:1\r\ncluster_connections:0\r\nmaxclients:10000\r\nclient_recent_max_input_buffer:0\r\nclient_recent_max_output_buffer:0\r\nblocked_clients:1\r\ntracking_clients:0\r\nclients_in_timeout_table:0\r\n\r\n# Memory\r\nused_memory:26621232\r\nused_memory_human:25.39M\r\nused_memory_rss:35127296\r\nused_memory_rss_human:33.50M\r\nused_memory_peak:26621232\r\nused_memory_peak_human:25.39M\r\nused_memory_peak_perc:102.27%\r\nused_memory_overhead:1209616\r\nused_memory_startup:1205760\r\nused_memory_dataset:25411616\r\nused_memory_dataset_perc:99.98%\r\nallocator_allocated:25948400\r\nallocator_active:35096576\r\nallocator_resident:35096576\r\ntotal_system_memory:17179869184\r\ntotal_system_memory_human:16.00G\r\nused_memory_lua:30720\r\nused_memory_lua_human:30.00K\r\nused_memory_scripts:0\r\nused_memory_scripts_human:0B\r\nnumber_of_cached_scripts:0\r\nmaxmemory:0\r\nmaxmemory_human:0B\r\nmaxmemory_policy:noeviction\r\nallocator_frag_ratio:1.35\r\nallocator_frag_bytes:9148176\r\nallocator_rss_ratio:1.00\r\nallocator_rss_bytes:0\r\nrss_overhead_ratio:1.00\r\nrss_overhead_bytes:30720\r\nmem_fragmentation_ratio:1.35\r\nmem_fragmentation_bytes:9178896\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:0\r\nmem_clients_slaves:0\r\nmem_clients_normal:0\r\nmem_aof_buffer:0\r\nmem_allocator:libc\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\nlazyfreed_objects:0\r\n\r\n# Persistence\r\nloading:0\r\ncurrent_cow_size:0\r\ncurrent_cow_size_age:0\r\ncurrent_fork_perc:0.00\r\ncurrent_save_keys_processed:0\r\ncurrent_save_keys_total:0\r\nrdb_changes_since_last_save:0\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1681876375\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:-1\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_last_cow_size:0\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\nmodule_fork_in_progress:0\r\nmodule_fork_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:1\r\ntotal_commands_processed:5\r\ninstantaneous_ops_per_sec:0\r\ntotal_net_input_bytes:375\r\ntotal_net_output_bytes:4610\r\ninstantaneous_input_kbps:0.00\r\ninstantaneous_output_kbps:0.00\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:0\r\nexpired_stale_perc:0.00\r\nexpired_time_cap_reached_count:0\r\nexpire_cycle_cpu_milliseconds:0\r\nevicted_keys:0\r\nkeyspace_hits:278\r\nkeyspace_misses:0\r\npubsub_channels:0\r\npubsub_patterns:0\r\nlatest_fork_usec:0\r\ntotal_forks:0\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:0\r\nactive_defrag_misses:0\r\nactive_defrag_key_hits:0\r\nactive_defrag_key_misses:0\r\ntracking_total_keys:0\r\ntracking_total_items:0\r\ntracking_total_prefixes:0\r\nunexpected_error_replies:0\r\ntotal_error_replies:0\r\ndump_payload_sanitizations:0\r\ntotal_reads_processed:3\r\ntotal_writes_processed:2\r\nio_threaded_reads_processed:0\r\nio_threaded_writes_processed:0\r\n\r\n# Replication\r\nrole:master\r\nconnected_slaves:0\r\nmaster_failover_state:no-failover\r\nmaster_replid:5a98a93f8ca51380b10eda5d1c81c47142fbf00d\r\nmaster_replid2:0000000000000000000000000000000000000000\r\nmaster_repl_offset:0\r\nsecond_repl_offset:-1\r\nrepl_backlog_active:0\r\nrepl_backlog_size:1048576\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n\r\n# CPU\r\nused_cpu_sys:0.024442\r\nused_cpu_user:0.107473\r\nused_cpu_sys_children:0.000000\r\nused_cpu_user_children:0.000000\r\n\r\n# Modules\r\nmodule:name=ReJSON,ver=20405,api=1,filters=0,usedby=[search|graph],using=[],options=[handle-io-errors]\r\nmodule:name=search,ver=20605,api=1,filters=0,usedby=[],using=[ReJSON],options=[handle-io-errors]\r\nmodule:name=timeseries,ver=10805,api=1,filters=0,usedby=[],using=[],options=[handle-io-errors]\r\nmodule:name=graph,ver=21008,api=1,filters=0,usedby=[],using=[ReJSON],options=[]\r\nmodule:name=bf,ver=20404,api=1,filters=0,usedby=[],using=[],options=[]\r\n\r\n# Commandstats\r\ncmdstat_graph.QUERY:calls=1,usec=30,usec_per_call=30.00,rejected_calls=0,failed_calls=0\r\ncmdstat_client:calls=1,usec=2,usec_per_call=2.00,rejected_calls=0,failed_calls=0\r\ncmdstat_info:calls=3,usec=120,usec_per_call=40.00,rejected_calls=0,failed_calls=0\r\n\r\n# Errorstats\r\n\r\n# Cluster\r\ncluster_enabled:0\r\n\r\n# Keyspace\r\ndb0:keys=70,expires=0,avg_ttl=0\r\n\r\n------ CLIENT LIST OUTPUT ------\r\nid=22 addr=127.0.0.1:54801 laddr=127.0.0.1:6379 fd=9 name=redisinsight-workbench-d92a666f age=0 idle=0 flags=b db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=45050 argv-mem=269 obl=0 oll=0 omem=0 tot-mem=62765 events=r cmd=graph.QUERY user=default redir=-1\r\n\r\n------ MODULES INFO OUTPUT ------\r\n# ReJSON_trace\r\nReJSON_trace:   0: backtrace::capture::Backtrace::new\r\n   1: redis_module::base_info_func\r\n   2: rejson::__info_func\r\n   3: _modulesCollectInfo\r\n   4: _printCrashReport\r\n   5: _sigsegvHandler\r\n   6: __sigtramp\r\n   7: ___pthread_kill\r\n   8: _pthread_kill\r\n   9: <unknown>\r\n  10: <unknown>\r\n\r\n\r\n# search_version\r\nsearch_version:2.6.5\r\nsearch_redis_version:6.2.10 - oss\r\n\r\n# search_index\r\nsearch_number_of_indexes:1\r\n\r\n# search_fields_statistics\r\nsearch_fields_text:Text=1\r\nsearch_fields_vector:Vector=1,HSNW=1\r\n\r\n# search_dialect_statistics\r\nsearch_dialect_1:0\r\nsearch_dialect_2:0\r\nsearch_dialect_3:0\r\n\r\n# search_runtime_configurations\r\nsearch_concurrent_mode:OFF\r\nsearch_enableGC:ON\r\nsearch_minimal_term_prefix:2\r\nsearch_maximal_prefix_expansions:200\r\nsearch_query_timeout_ms:500\r\nsearch_timeout_policy:return\r\nsearch_cursor_read_size:1000\r\nsearch_cursor_max_idle_time:300000\r\nsearch_max_doc_table_size:1000000\r\nsearch_max_search_results:10000\r\nsearch_max_aggregate_results:10000\r\nsearch_search_pool_size:20\r\nsearch_index_pool_size:8\r\nsearch_gc_scan_size:100\r\nsearch_min_phonetic_term_length:3\r\n\r\n# graph_executing commands\r\ngraph_command:GRAPH.QUERY MATCH (:Resource {uid: '123'})-[:DOC]->(:Section {uid: '234'}) RETURN 1 as phase UNION MATCH (section:Section {uid: '234'}) WITH section CREATE (:Resource {uid: '123'})-[:DOC {sn: 2, timestamp: 456, mime: 'text/markdown'}]->(section) RETURN 3 as phase\r\n\r\n------ DUMPING CODE AROUND EIP ------\r\nSymbol: __pthread_kill (base: 0x7ff81940e1e8)\r\nModule: /usr/lib/system/libsystem_kernel.dylib (base 0x7ff819406000)\r\n$ xxd -r -p /tmp/dump.hex /tmp/dump.bin\r\n$ objdump --adjust-vma=0x7ff81940e1e8 -D -b binary -m i386:x86-64 /tmp/dump.bin\r\n------\r\n25037:M 19 Apr 2023 11:53:05.882 # dump of function (hexdump of 138 bytes):\r\nb8480100024989ca0f0573084889c7e9df9affffc3909090b8530000024989ca0f0573084889c7e9c79affffc3909090b8830100024989ca0f0573084889c7e9af9affffc390904585c0742365488b0425080000004885c0488d0de1577143480f45c8c70116000000b8ffffffffc341b840000000e952beffff9090b86a0000024989ca0f0573084889\r\n\r\n=== REDIS BUG REPORT END. Make sure to include from START to END. ===\r\n\r\n       Please report the crash by opening an issue on github:\r\n\r\n           http://github.com/redis/redis/issues\r\n\r\n  If a Redis module was involved, please open in the module's repo instead.\r\n\r\n  Suspect RAM error? Use redis-server --test-memory to verify it.\r\n\r\n  Some other issues could be detected by redis-server --check-system\r\n/usr/local/bin/redis-stack-server: line 77: 25037 Abort trap: 6           ${CMD} ${CONFFILE} --dir ${REDIS_DATA_DIR} --protected-mode no --daemonize no --loadmodule ${MODULEDIR}/redisearch.so ${REDISEARCH_ARGS} --loadmodule ${MODULEDIR}/redisgraph.so ${REDISGRAPH_ARGS} --loadmodule ${MODULEDIR}/redistimeseries.so ${REDISTIMESERIES_ARGS} --loadmodule ${MODULEDIR}/rejson.so ${REDISJSON_ARGS} --loadmodule ${MODULEDIR}/redisbloom.so ${REDISBLOOM_ARGS} $*\r\n[134] %                                                                       ~\r\n\r\n```\r\n\r\n**Additional information**\r\n\r\n1. macOS 13.3.1 (22E261)\r\n2. Execute the graph query after `(:Section {uid: '234'})` node created.\r\n",
  "state": "closed",
  "created_at": "2023-04-19T04:07:39Z",
  "updated_at": "2023-04-19T07:15:23Z",
  "closed_at": "2023-04-19T07:15:22Z",
  "labels": [],
  "comments_data": [
    {
      "id": 1514242996,
      "user": "oranagra",
      "created_at": "2023-04-19T07:15:22Z",
      "body": "i suppose this belongs in https://github.com/RedisGraph/RedisGraph\r\n@swilly22 FYI"
    }
  ]
}