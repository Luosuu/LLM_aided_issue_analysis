{
  "issue_number": 13565.0,
  "title": "[BUG]  The memory usage of the master instance is much higher than that of the slave",
  "body": "**Describe the bug**\r\n\r\nOne instance of a cluster uses far more memory than any other node (including its slave)\r\n\r\n\r\n**Additional information**\r\n\r\n##################  server info  ################## \r\n```\r\nredis_version:5.0.14\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:26bf1ef8f7d826cb\r\nredis_mode:cluster\r\nos:Linux 5.4.203-1-tlinux4-0011 x86_64\r\narch_bits:64\r\nmultiplexing_api:epoll\r\natomicvar_api:atomic-builtin\r\ngcc_version:11.4.0\r\nrun_id:08234ed561aa4a5e6fcc9573689a2ec1f481f13d\r\nuptime_in_seconds:5360752\r\nuptime_in_days:62\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:15806396\r\n```\r\n\r\n################## master memory info ###############\r\n```\r\nmaster_ins> MEMORY STATS\r\n 1) \"peak.allocated\"\r\n 2) (integer) 3023543456\r\n 3) \"total.allocated\"\r\n 4) (integer) 2626862088\r\n 5) \"startup.allocated\"\r\n 6) (integer) 11578608\r\n 7) \"replication.backlog\"\r\n 8) (integer) 4194304\r\n 9) \"clients.slaves\"\r\n10) (integer) 49694\r\n11) \"clients.normal\"\r\n12) (integer) 521366\r\n13) \"aof.buffer\"\r\n14) (integer) 0\r\n15) \"lua.caches\"\r\n16) (integer) 4072\r\n17) \"db.0\"\r\n18) 1) \"overhead.hashtable.main\"\r\n    2) (integer) 4962736\r\n    3) \"overhead.hashtable.expires\"\r\n    4) (integer) 3664\r\n19) \"overhead.total\"\r\n20) (integer) 21314444\r\n21) \"keys.count\"\r\n22) (integer) 97854\r\n23) \"keys.bytes-per-key\"\r\n24) (integer) 26726\r\n25) \"dataset.bytes\"\r\n26) (integer) 2605547644\r\n27) \"dataset.percentage\"\r\n28) \"99.627731323242188\"\r\n29) \"peak.percentage\"\r\n30) \"86.8802490234375\"\r\n31) \"allocator.allocated\"\r\n32) (integer) 2627086464\r\n33) \"allocator.active\"\r\n34) (integer) 2637873152\r\n35) \"allocator.resident\"\r\n36) (integer) 2655309824\r\n37) \"allocator-fragmentation.ratio\"\r\n38) \"1.0041060447692871\"\r\n39) \"allocator-fragmentation.bytes\"\r\n40) (integer) 10786688\r\n41) \"allocator-rss.ratio\"\r\n42) \"1.0066101551055908\"\r\n43) \"allocator-rss.bytes\"\r\n44) (integer) 17436672\r\n45) \"rss-overhead.ratio\"\r\n46) \"0.95048046112060547\"\r\n47) \"rss-overhead.bytes\"\r\n48) (integer) -131489792\r\n49) \"fragmentation\"\r\n50) \"0.96078866720199585\"\r\n51) \"fragmentation.bytes\"\r\n52) (integer) -103001040\r\nmaster_ins> info memory\r\n# Memory\r\nused_memory:2626787848\r\nused_memory_human:2.45G\r\nused_memory_rss:2523815936\r\nused_memory_rss_human:2.35G\r\nused_memory_peak:3023543456\r\nused_memory_peak_human:2.82G\r\nused_memory_peak_perc:86.88%\r\nused_memory_overhead:21248148\r\nused_memory_startup:11578608\r\nused_memory_dataset:2605539700\r\nused_memory_dataset_perc:99.63%\r\nallocator_allocated:2627100472\r\nallocator_active:2637942784\r\nallocator_resident:2655358976\r\ntotal_system_memory:66155102208\r\ntotal_system_memory_human:61.61G\r\nused_memory_lua:62464\r\nused_memory_lua_human:61.00K\r\nused_memory_scripts:4072\r\nused_memory_scripts_human:3.98K\r\nnumber_of_cached_scripts:9\r\nmaxmemory:27121153808\r\nmaxmemory_human:25.26G\r\nmaxmemory_policy:noeviction\r\nallocator_frag_ratio:1.00\r\nallocator_frag_bytes:10842312\r\nallocator_rss_ratio:1.01\r\nallocator_rss_bytes:17416192\r\nrss_overhead_ratio:0.95\r\nrss_overhead_bytes:-131543040\r\nmem_fragmentation_ratio:0.96\r\nmem_fragmentation_bytes:-103033696\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:4194304\r\nmem_clients_slaves:16922\r\nmem_clients_normal:487522\r\nmem_aof_buffer:0\r\nmem_allocator:jemalloc-5.1.0\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\n```\r\n\r\n################## slave memory info ###############\r\n```\r\nslave_ins:> MEMORY STATS\r\n 1) \"peak.allocated\"\r\n 2) (integer) 331081704\r\n 3) \"total.allocated\"\r\n 4) (integer) 318645456\r\n 5) \"startup.allocated\"\r\n 6) (integer) 11386536\r\n 7) \"replication.backlog\"\r\n 8) (integer) 4194304\r\n 9) \"clients.slaves\"\r\n10) (integer) 0\r\n11) \"clients.normal\"\r\n12) (integer) 167076\r\n13) \"aof.buffer\"\r\n14) (integer) 402\r\n15) \"lua.caches\"\r\n16) (integer) 0\r\n17) \"db.0\"\r\n18) 1) \"overhead.hashtable.main\"\r\n    2) (integer) 4962736\r\n    3) \"overhead.hashtable.expires\"\r\n    4) (integer) 3664\r\n19) \"overhead.total\"\r\n20) (integer) 20714718\r\n21) \"keys.count\"\r\n22) (integer) 97854\r\n23) \"keys.bytes-per-key\"\r\n24) (integer) 3139\r\n25) \"dataset.bytes\"\r\n26) (integer) 297930738\r\n27) \"dataset.percentage\"\r\n28) \"96.964073181152344\"\r\n29) \"peak.percentage\"\r\n30) \"96.243751525878906\"\r\n31) \"allocator.allocated\"\r\n32) (integer) 318876512\r\n33) \"allocator.active\"\r\n34) (integer) 333893632\r\n35) \"allocator.resident\"\r\n36) (integer) 342577152\r\n37) \"allocator-fragmentation.ratio\"\r\n38) \"1.0470938682556152\"\r\n39) \"allocator-fragmentation.bytes\"\r\n40) (integer) 15017120\r\n41) \"allocator-rss.ratio\"\r\n42) \"1.026006817817688\"\r\n43) \"allocator-rss.bytes\"\r\n44) (integer) 8683520\r\n45) \"rss-overhead.ratio\"\r\n46) \"0.9893946647644043\"\r\n47) \"rss-overhead.bytes\"\r\n48) (integer) -3633152\r\n49) \"fragmentation\"\r\n50) \"1.0639761686325073\"\r\n51) \"fragmentation.bytes\"\r\n52) (integer) 20380488\r\nslave_ins:>  info memory\r\n# Memory\r\nused_memory:318641144\r\nused_memory_human:303.88M\r\nused_memory_rss:338964480\r\nused_memory_rss_human:323.26M\r\nused_memory_peak:331081704\r\nused_memory_peak_human:315.74M\r\nused_memory_peak_perc:96.24%\r\nused_memory_overhead:20699270\r\nused_memory_startup:11386536\r\nused_memory_dataset:297941874\r\nused_memory_dataset_perc:96.97%\r\nallocator_allocated:319011264\r\nallocator_active:334069760\r\nallocator_resident:342736896\r\ntotal_system_memory:66107453440\r\ntotal_system_memory_human:61.57G\r\nused_memory_lua:37888\r\nused_memory_lua_human:37.00K\r\nused_memory_scripts:0\r\nused_memory_scripts_human:0B\r\nnumber_of_cached_scripts:0\r\nmaxmemory:27121153808\r\nmaxmemory_human:25.26G\r\nmaxmemory_policy:noeviction\r\nallocator_frag_ratio:1.05\r\nallocator_frag_bytes:15058496\r\nallocator_rss_ratio:1.03\r\nallocator_rss_bytes:8667136\r\nrss_overhead_ratio:0.99\r\nrss_overhead_bytes:-3772416\r\nmem_fragmentation_ratio:1.06\r\nmem_fragmentation_bytes:20323400\r\nmem_not_counted_for_evict:444\r\nmem_replication_backlog:4194304\r\nmem_clients_slaves:0\r\nmem_clients_normal:151226\r\nmem_aof_buffer:444\r\nmem_allocator:jemalloc-5.1.0\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\n```\r\n\r\n",
  "state": "open",
  "created_at": "2024-09-23T09:13:34Z",
  "updated_at": "2024-10-16T02:14:28Z",
  "closed_at": null,
  "labels": [],
  "comments_data": [
    {
      "id": 2367724094,
      "user": "sundb",
      "created_at": "2024-09-23T09:48:31Z",
      "body": "@OMG-By can you give the `INFO ALL` from master?"
    },
    {
      "id": 2370293287,
      "user": "OMG-By",
      "created_at": "2024-09-24T06:21:59Z",
      "body": "``\r\n\r\n> @OMG-By你能给出`INFO ALL`来自大师的答案吗？\r\n\r\n```\r\n> info all\r\n# Server\r\nredis_version:5.0.14\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:26bf1ef8f7d826cb\r\nredis_mode:cluster\r\nos:Linux 3.10.107-1-tlinux2_kvm_guest-0056 x86_64\r\narch_bits:64\r\nmultiplexing_api:epoll\r\natomicvar_api:atomic-builtin\r\ngcc_version:11.4.0\r\nprocess_id:6526\r\nrun_id:1b89b150fe82244a645a20f8584af1f77e689331\r\nuptime_in_seconds:947881\r\nuptime_in_days:10\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:15882788\r\n\r\n# Clients\r\nconnected_clients:63\r\nclient_recent_max_input_buffer:2\r\nclient_recent_max_output_buffer:0\r\nblocked_clients:0\r\n\r\n# Memory\r\nused_memory:2633240112\r\nused_memory_human:2.45G\r\nused_memory_rss:2528419840\r\nused_memory_rss_human:2.35G\r\nused_memory_peak:3023543456\r\nused_memory_peak_human:2.82G\r\nused_memory_peak_perc:87.09%\r\nused_memory_overhead:24717668\r\nused_memory_startup:11578608\r\nused_memory_dataset:2608522444\r\nused_memory_dataset_perc:99.50%\r\nallocator_allocated:2633453440\r\nallocator_active:2641768448\r\nallocator_resident:2663657472\r\ntotal_system_memory:66155102208\r\ntotal_system_memory_human:61.61G\r\nused_memory_lua:43008\r\nused_memory_lua_human:42.00K\r\nused_memory_scripts:4072\r\nused_memory_scripts_human:3.98K\r\nnumber_of_cached_scripts:9\r\nmaxmemory:27250153131\r\nmaxmemory_human:25.38G\r\nmaxmemory_policy:noeviction\r\nallocator_frag_ratio:1.00\r\nallocator_frag_bytes:8315008\r\nallocator_rss_ratio:1.01\r\nallocator_rss_bytes:21889024\r\nrss_overhead_ratio:0.95\r\nrss_overhead_bytes:-135237632\r\nmem_fragmentation_ratio:0.96\r\nmem_fragmentation_bytes:-104757520\r\nmem_not_counted_for_evict:0\r\nmem_replication_backlog:4194304\r\nmem_clients_slaves:49694\r\nmem_clients_normal:1852614\r\nmem_aof_buffer:0\r\nmem_allocator:jemalloc-5.1.0\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\n\r\n# Persistence\r\nloading:0\r\nrdb_changes_since_last_save:78404917\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1726210939\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:-1\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_last_cow_size:0\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_last_write_status:ok\r\naof_last_cow_size:0\r\n\r\n# Stats\r\ntotal_connections_received:1837171\r\ntotal_commands_processed:270331672\r\ninstantaneous_ops_per_sec:4006\r\ntotal_net_input_bytes:16414402149\r\ntotal_net_output_bytes:110631163110\r\ninstantaneous_input_kbps:214.26\r\ninstantaneous_output_kbps:3537.42\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:4\r\nsync_partial_err:0\r\nexpired_keys:188584\r\nexpired_stale_perc:7.88\r\nexpired_time_cap_reached_count:0\r\nevicted_keys:0\r\nkeyspace_hits:124617965\r\nkeyspace_misses:58722636\r\npubsub_channels:1\r\npubsub_patterns:0\r\nlatest_fork_usec:0\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:0\r\nactive_defrag_misses:0\r\nactive_defrag_key_hits:0\r\nactive_defrag_key_misses:0\r\n\r\n# Replication\r\nrole:master\r\nconnected_slaves:1\r\nslave0:ip=xxxxxx,port=xxxx,state=online,offset=15137949420,lag=0\r\nmaster_replid:a6985fc4a60067b1fe33d8dba39d9149fcb1ad37\r\nmaster_replid2:e7a7223d05409576edf73e43bad0b89a2b9f00e0\r\nmaster_repl_offset:15137952323\r\nsecond_repl_offset:8617525783\r\nrepl_backlog_active:1\r\nrepl_backlog_size:4194304\r\nrepl_backlog_first_byte_offset:15133758020\r\nrepl_backlog_histlen:4194304\r\n\r\n# CPU\r\nused_cpu_sys:2664.520000\r\nused_cpu_user:3273.428000\r\nused_cpu_sys_children:0.000000\r\nused_cpu_user_children:0.000000\r\n\r\n# Commandstats\r\ncmdstat_command:calls=45,usec=22636,usec_per_call=503.02\r\ncmdstat_scan:calls=1,usec=34,usec_per_call=34.00\r\ncmdstat_rpop:calls=24,usec=23,usec_per_call=0.96\r\ncmdstat_expireat:calls=219457,usec=338222,usec_per_call=1.54\r\ncmdstat_readonly:calls=9,usec=2,usec_per_call=0.22\r\ncmdstat_zcard:calls=1770,usec=3435,usec_per_call=1.94\r\ncmdstat_hget:calls=40312987,usec=75329875,usec_per_call=1.87\r\ncmdstat_keys:calls=7,usec=224477,usec_per_call=32068.14\r\ncmdstat_llen:calls=220043,usec=299515,usec_per_call=1.36\r\ncmdstat_hset:calls=57416233,usec=151306575,usec_per_call=2.64\r\ncmdstat_ping:calls=526835,usec=289702,usec_per_call=0.55\r\ncmdstat_psync:calls=4,usec=220,usec_per_call=55.00\r\ncmdstat_info:calls=1030540,usec=16172235,usec_per_call=15.69\r\ncmdstat_evalsha:calls=1675855,usec=24574418,usec_per_call=14.66\r\ncmdstat_latency:calls=15798,usec=24234,usec_per_call=1.53\r\ncmdstat_auth:calls=1836991,usec=1936992,usec_per_call=1.05\r\ncmdstat_pubsub:calls=8,usec=17,usec_per_call=2.12\r\ncmdstat_lpop:calls=189578,usec=277199,usec_per_call=1.46\r\ncmdstat_srem:calls=640,usec=3726,usec_per_call=5.82\r\ncmdstat_role:calls=2,usec=14,usec_per_call=7.00\r\ncmdstat_set:calls=9675890,usec=17180533,usec_per_call=1.78\r\ncmdstat_client:calls=15961,usec=24191,usec_per_call=1.52\r\ncmdstat_smembers:calls=14190769,usec=342282641,usec_per_call=24.12\r\ncmdstat_sadd:calls=28884,usec=71501,usec_per_call=2.48\r\ncmdstat_dbsize:calls=94788,usec=87361,usec_per_call=0.92\r\ncmdstat_getset:calls=5165,usec=22751,usec_per_call=4.40\r\ncmdstat_rpush:calls=140,usec=958,usec_per_call=6.84\r\ncmdstat_object:calls=2,usec=25,usec_per_call=12.50\r\ncmdstat_exists:calls=22903577,usec=27823977,usec_per_call=1.21\r\ncmdstat_zadd:calls=4694,usec=24719,usec_per_call=5.27\r\ncmdstat_subscribe:calls=13,usec=43,usec_per_call=3.31\r\ncmdstat_hmset:calls=5973,usec=27122,usec_per_call=4.54\r\ncmdstat_ttl:calls=864684,usec=1289317,usec_per_call=1.49\r\ncmdstat_config:calls=126472,usec=1770884,usec_per_call=14.00\r\ncmdstat_zrange:calls=5722,usec=15233,usec_per_call=2.66\r\ncmdstat_memory:calls=98985,usec=236588,usec_per_call=2.39\r\ncmdstat_setnx:calls=838439,usec=2959225,usec_per_call=3.53\r\ncmdstat_lpushx:calls=1031,usec=1491,usec_per_call=1.45\r\ncmdstat_zremrangebyrank:calls=1765,usec=3899,usec_per_call=2.21\r\ncmdstat_publish:calls=494871,usec=17035579,usec_per_call=34.42\r\ncmdstat_select:calls=443964,usec=271609,usec_per_call=0.61\r\ncmdstat_lrange:calls=444599,usec=712686,usec_per_call=1.60\r\ncmdstat_monitor:calls=12,usec=5,usec_per_call=0.42\r\ncmdstat_replconf:calls=946158,usec=699515,usec_per_call=0.74\r\ncmdstat_get:calls=41466245,usec=54523333,usec_per_call=1.31\r\ncmdstat_del:calls=639141,usec=1741843,usec_per_call=2.73\r\ncmdstat_slowlog:calls=221060,usec=295423,usec_per_call=1.34\r\ncmdstat_cluster:calls=163376,usec=115835092,usec_per_call=709.01\r\ncmdstat_hgetall:calls=62825026,usec=308191436,usec_per_call=4.91\r\ncmdstat_persist:calls=219164,usec=304881,usec_per_call=1.39\r\ncmdstat_setex:calls=200493,usec=576926,usec_per_call=2.88\r\ncmdstat_hdel:calls=9132489,usec=38741303,usec_per_call=4.24\r\ncmdstat_lpush:calls=1604,usec=6555,usec_per_call=4.09\r\ncmdstat_debug:calls=99020,usec=1441061,usec_per_call=14.55\r\ncmdstat_type:calls=100014,usec=71226,usec_per_call=0.71\r\ncmdstat_expire:calls=624646,usec=530645,usec_per_call=0.85\r\ncmdstat_eval:calls=9,usec=577,usec_per_call=64.11\r\n\r\n# Cluster\r\ncluster_enabled:1\r\n\r\n# Keyspace\r\ndb0:keys=126236,expires=28259,avg_ttl=936784\r\n```"
    },
    {
      "id": 2370296529,
      "user": "OMG-By",
      "created_at": "2024-09-24T06:24:05Z",
      "body": "slave:\r\n```\r\n> info all\r\n# Server\r\nredis_version:5.0.14\r\nredis_git_sha1:00000000\r\nredis_git_dirty:0\r\nredis_build_id:26bf1ef8f7d826cb\r\nredis_mode:cluster\r\nos:Linux 5.4.203-1-tlinux4-0011 x86_64\r\narch_bits:64\r\nmultiplexing_api:epoll\r\natomicvar_api:atomic-builtin\r\ngcc_version:11.4.0\r\nprocess_id:9643\r\nrun_id:08234ed561aa4a5e6fcc9573689a2ec1f481f13d\r\nuptime_in_seconds:5437305\r\nuptime_in_days:62\r\nhz:10\r\nconfigured_hz:10\r\nlru_clock:15882949\r\n\r\n# Clients\r\nconnected_clients:9\r\nclient_recent_max_input_buffer:2\r\nclient_recent_max_output_buffer:0\r\nblocked_clients:0\r\n\r\n# Memory\r\nused_memory:323418160\r\nused_memory_human:308.44M\r\nused_memory_rss:341630976\r\nused_memory_rss_human:325.80M\r\nused_memory_peak:335904008\r\nused_memory_peak_human:320.34M\r\nused_memory_peak_perc:96.28%\r\nused_memory_overhead:22836382\r\nused_memory_startup:11386536\r\nused_memory_dataset:300581778\r\nused_memory_dataset_perc:96.33%\r\nallocator_allocated:323564128\r\nallocator_active:335888384\r\nallocator_resident:349233152\r\ntotal_system_memory:66107453440\r\ntotal_system_memory_human:61.57G\r\nused_memory_lua:37888\r\nused_memory_lua_human:37.00K\r\nused_memory_scripts:0\r\nused_memory_scripts_human:0B\r\nnumber_of_cached_scripts:0\r\nmaxmemory:27250153131\r\nmaxmemory_human:25.38G\r\nmaxmemory_policy:noeviction\r\nallocator_frag_ratio:1.04\r\nallocator_frag_bytes:12324256\r\nallocator_rss_ratio:1.04\r\nallocator_rss_bytes:13344768\r\nrss_overhead_ratio:0.98\r\nrss_overhead_bytes:-7602176\r\nmem_fragmentation_ratio:1.06\r\nmem_fragmentation_bytes:18254856\r\nmem_not_counted_for_evict:1948\r\nmem_replication_backlog:4194304\r\nmem_clients_slaves:0\r\nmem_clients_normal:217842\r\nmem_aof_buffer:1948\r\nmem_allocator:jemalloc-5.1.0\r\nactive_defrag_running:0\r\nlazyfree_pending_objects:0\r\n\r\n# Persistence\r\nloading:0\r\nrdb_changes_since_last_save:80128246\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1726211157\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:2\r\nrdb_current_bgsave_time_sec:-1\r\nrdb_last_cow_size:1560576\r\naof_enabled:1\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:2\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_last_write_status:ok\r\naof_last_cow_size:4898816\r\naof_current_size:358957070\r\naof_base_size:182845069\r\naof_pending_rewrite:0\r\naof_buffer_length:0\r\naof_rewrite_buffer_length:0\r\naof_pending_bio_fsync:0\r\naof_delayed_fsync:0\r\n\r\n# Stats\r\ntotal_connections_received:1982610\r\ntotal_commands_processed:224486152\r\ninstantaneous_ops_per_sec:684\r\ntotal_net_input_bytes:15701086394\r\ntotal_net_output_bytes:7839692816\r\ninstantaneous_input_kbps:35.79\r\ninstantaneous_output_kbps:7.07\r\nrejected_connections:0\r\nsync_full:2\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:280\r\nexpired_stale_perc:0.00\r\nexpired_time_cap_reached_count:0\r\nevicted_keys:0\r\nkeyspace_hits:886\r\nkeyspace_misses:13789\r\npubsub_channels:0\r\npubsub_patterns:0\r\nlatest_fork_usec:4276\r\nmigrate_cached_sockets:0\r\nslave_expires_tracked_keys:0\r\nactive_defrag_hits:0\r\nactive_defrag_misses:0\r\nactive_defrag_key_hits:0\r\nactive_defrag_key_misses:0\r\n\r\n# Replication\r\nrole:slave\r\nmaster_host:xxxxx\r\nmaster_port:xxxx\r\nmaster_link_status:up\r\nmaster_last_io_seconds_ago:0\r\nmaster_sync_in_progress:0\r\nslave_repl_offset:15143364183\r\nslave_priority:100\r\nslave_read_only:1\r\nconnected_slaves:0\r\nmaster_replid:a6985fc4a60067b1fe33d8dba39d9149fcb1ad37\r\nmaster_replid2:e7a7223d05409576edf73e43bad0b89a2b9f00e0\r\nmaster_repl_offset:15143364183\r\nsecond_repl_offset:8617525783\r\nrepl_backlog_active:1\r\nrepl_backlog_size:4194304\r\nrepl_backlog_first_byte_offset:15139169880\r\nrepl_backlog_histlen:4194304\r\n\r\n# CPU\r\nused_cpu_sys:5630.735889\r\nused_cpu_user:8208.234988\r\nused_cpu_sys_children:21.914180\r\nused_cpu_user_children:140.473706\r\n\r\n# Commandstats\r\ncmdstat_client:calls=90610,usec=112983,usec_per_call=1.25\r\ncmdstat_get:calls=30,usec=125,usec_per_call=4.17\r\ncmdstat_hgetall:calls=31,usec=176,usec_per_call=5.68\r\ncmdstat_replconf:calls=82,usec=116,usec_per_call=1.41\r\ncmdstat_exec:calls=20798147,usec=166277400,usec_per_call=7.99\r\ncmdstat_readonly:calls=4,usec=1,usec_per_call=0.25\r\ncmdstat_smembers:calls=20,usec=452,usec_per_call=22.60\r\ncmdstat_expireat:calls=13531,usec=24210,usec_per_call=1.79\r\ncmdstat_set:calls=19078995,usec=71583717,usec_per_call=3.75\r\ncmdstat_setex:calls=1302824,usec=4381258,usec_per_call=3.36\r\ncmdstat_setnx:calls=9701226,usec=48027292,usec_per_call=4.95\r\ncmdstat_hdel:calls=10372127,usec=47184654,usec_per_call=4.55\r\ncmdstat_incrby:calls=9687,usec=34145,usec_per_call=3.52\r\ncmdstat_config:calls=1359536,usec=15745541,usec_per_call=11.58\r\ncmdstat_memory:calls=6,usec=3757,usec_per_call=626.17\r\ncmdstat_monitor:calls=1,usec=1,usec_per_call=1.00\r\ncmdstat_psync:calls=2,usec=8455,usec_per_call=4227.50\r\ncmdstat_bgsave:calls=1,usec=3583,usec_per_call=3583.00\r\ncmdstat_multi:calls=20798147,usec=2403017,usec_per_call=0.12\r\ncmdstat_bgrewriteaof:calls=252,usec=361178,usec_per_call=1433.25\r\ncmdstat_cluster:calls=525967,usec=447708561,usec_per_call=851.21\r\ncmdstat_lpop:calls=467,usec=3087,usec_per_call=6.61\r\ncmdstat_hget:calls=10,usec=58,usec_per_call=5.80\r\ncmdstat_zadd:calls=23793,usec=219217,usec_per_call=9.21\r\ncmdstat_del:calls=9729828,usec=38588612,usec_per_call=3.97\r\ncmdstat_select:calls=1348302,usec=945233,usec_per_call=0.70\r\ncmdstat_command:calls=12,usec=6311,usec_per_call=525.92\r\ncmdstat_slaveof:calls=1,usec=1,usec_per_call=1.00\r\ncmdstat_persist:calls=12956,usec=33196,usec_per_call=2.56\r\ncmdstat_rpop:calls=64,usec=106,usec_per_call=1.66\r\ncmdstat_expire:calls=9698479,usec=6964523,usec_per_call=0.72\r\ncmdstat_rpush:calls=431,usec=3693,usec_per_call=8.57\r\ncmdstat_sadd:calls=292377,usec=740831,usec_per_call=2.53\r\ncmdstat_dbsize:calls=543761,usec=405379,usec_per_call=0.75\r\ncmdstat_zrange:calls=3,usec=29,usec_per_call=9.67\r\ncmdstat_ping:calls=1890926,usec=723791,usec_per_call=0.38\r\ncmdstat_latency:calls=90609,usec=139392,usec_per_call=1.54\r\ncmdstat_unlink:calls=6936450,usec=43718799,usec_per_call=6.30\r\ncmdstat_hmset:calls=629876,usec=1057767,usec_per_call=1.68\r\ncmdstat_zremrangebyrank:calls=9933,usec=57504,usec_per_call=5.79\r\ncmdstat_randomkey:calls=20,usec=3,usec_per_call=0.15\r\ncmdstat_hset:calls=100692329,usec=294559326,usec_per_call=2.93\r\ncmdstat_auth:calls=1982510,usec=3062049,usec_per_call=1.54\r\ncmdstat_lrange:calls=3,usec=35,usec_per_call=11.67\r\ncmdstat_getset:calls=14578,usec=80939,usec_per_call=5.55\r\ncmdstat_srem:calls=10609,usec=19683,usec_per_call=1.86\r\ncmdstat_debug:calls=3,usec=921,usec_per_call=307.00\r\ncmdstat_lpush:calls=3038,usec=16370,usec_per_call=5.39\r\ncmdstat_info:calls=5255522,usec=70128921,usec_per_call=13.34\r\ncmdstat_slowlog:calls=1268036,usec=1831842,usec_per_call=1.44\r\n\r\n# Cluster\r\ncluster_enabled:1\r\n\r\n# Keyspace\r\ndb0:keys=126195,expires=28218,avg_ttl=0\r\n```"
    },
    {
      "id": 2375805225,
      "user": "wstar05",
      "created_at": "2024-09-26T03:44:46Z",
      "body": "@OMG-By  can you give the CLIENT LIST from master?"
    },
    {
      "id": 2404397814,
      "user": "OMG-By",
      "created_at": "2024-10-10T08:14:54Z",
      "body": "> @OMG-By 你能提供一下 Master 的客户名单吗？\r\n\r\nid=2065269 addr=1.1.1.1:41302 fd=181 name= age=3 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065270 addr=1.1.1.1:41316 fd=182 name= age=3 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065271 addr=1.1.1.1:57214 fd=183 name= age=3 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=32768 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065272 addr=1.1.1.1:57206 fd=184 name= age=3 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=32768 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=1900113 addr=1.1.1.1:58332 fd=145 name= age=56447 idle=7 flags=P db=0 sub=1 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=ping\r\nid=2062729 addr=1.1.1.1:53738 fd=155 name= age=706 idle=705 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=get\r\nid=34 addr=1.1.1.1:28759 fd=160 name= age=1386472 idle=5 flags=r db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=cluster\r\nid=2065259 addr=1.1.1.1:50716 fd=187 name= age=7 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=26 qbuf-free=32742 obl=0 oll=0 omem=0 events=r cmd=client\r\nid=6 addr=1.1.1.1:44333 fd=12 name= age=1386506 idle=0 flags=S db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=replconf\r\nid=57 addr=1.1.1.1:28766 fd=164 name= age=1386443 idle=276 flags=r db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=cluster\r\nid=37 addr=1.1.1.1:21586 fd=161 name= age=1386465 idle=131 flags=r db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=cluster\r\nid=2065251 addr=1.1.1.1:50704 fd=156 name= age=9 idle=6 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=hget\r\nid=2065183 addr=1.1.1.1:41486 fd=147 name= age=27 idle=27 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=cluster\r\nid=2065241 addr=1.1.1.1:44586 fd=158 name= age=10 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065274 addr=1.1.1.1:38798 fd=151 name= age=1 idle=1 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=hget\r\nid=2065242 addr=1.1.1.1:44604 fd=159 name= age=10 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065262 addr=1.1.1.1:57162 fd=152 name= age=4 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065263 addr=1.1.1.1:57164 fd=170 name= age=4 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065264 addr=1.1.1.1:57174 fd=174 name= age=4 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065265 addr=1.1.1.1:57190 fd=177 name= age=4 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065266 addr=1.1.1.1:57202 fd=180 name= age=4 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065267 addr=1.1.1.1:41300 fd=165 name= age=4 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065268 addr=1.1.1.1:41296 fd=172 name= age=4 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=32768 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065273 addr=1.1.1.1:41784 fd=149 name= age=2 idle=2 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=cluster\r\nid=2065246 addr=1.1.1.1:44608 fd=168 name= age=9 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065258 addr=1.1.1.1:59926 fd=146 name= age=7 idle=5 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=hget\r\nid=2065224 addr=1.1.1.1:44544 fd=154 name= age=15 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=32768 obl=0 oll=0 omem=0 events=r cmd=smembers\r\nid=2065228 addr=1.1.1.1:48228 fd=169 name= age=14 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065176 addr=1.1.1.1:34108 fd=141 name= age=29 idle=2 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=publish\r\nid=2065261 addr=1.1.1.1:37057 fd=188 name= age=6 idle=6 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=slowlog\r\nid=2065209 addr=1.1.1.1:42738 fd=171 name= age=19 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=32768 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=310 addr=1.1.1.1:21714 fd=162 name= age=1386128 idle=51 flags=r db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=cluster\r\nid=1900112 addr=1.1.1.1:58320 fd=144 name= age=56447 idle=7 flags=P db=0 sub=1 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=ping\r\nid=2065222 addr=1.1.1.1:37037 fd=185 name= age=16 idle=16 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=slowlog\r\nid=2065216 addr=1.1.1.1:42766 fd=175 name= age=18 idle=3 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=del\r\nid=2065260 addr=1.1.1.1:58756 fd=157 name= age=7 idle=5 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=0 qbuf-free=0 obl=0 oll=0 omem=0 events=r cmd=hgetall"
    },
    {
      "id": 2415584618,
      "user": "OMG-By",
      "created_at": "2024-10-16T02:14:17Z",
      "body": "https://github.com/redis/redis/issues/10863   The scenario is the same with this issue, a surge of pipeline requests."
    }
  ]
}