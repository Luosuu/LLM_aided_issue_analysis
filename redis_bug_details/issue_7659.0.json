{
  "issue_number": 7659.0,
  "title": "[CRASH]",
  "body": "**Crash report**\r\n\r\nPaste the complete crash log between the quotes below. Please include a few lines from the log preceding the crash report to provide some context.\r\n\r\n```\r\n=== REDIS BUG REPORT START: Cut & paste starting from here ===\r\n7534:S 15 Aug 15:40:56.402 #     Redis 3.0.7-m crashed by signal: 11\r\n7534:S 15 Aug 15:40:56.402 #     SIGSEGV caused by address: 0x98\r\n7534:S 15 Aug 15:40:56.402 #     Failed assertion: <no assertion failed> (<no file>:0)\r\n7534:S 15 Aug 15:40:56.402 # --- STACK TRACE\r\nredis-server 0.0.0.0:6380 [cluster](logStackTrace+0x43)[0x450b83]\r\nredis-server 0.0.0.0:6380 [cluster](readSyncBulkPayload+0x27f)[0x433e9f]\r\n/lib64/libpthread.so.0(+0x121f0)[0x7fa98f0921f0]\r\nredis-server 0.0.0.0:6380 [cluster](readSyncBulkPayload+0x27f)[0x433e9f]\r\nredis-server 0.0.0.0:6380 [cluster](aeProcessEvents+0x13c)[0x41a63c]\r\nredis-server 0.0.0.0:6380 [cluster](aeMain+0x2b)[0x41a8fb]\r\nredis-server 0.0.0.0:6380 [cluster](main+0x2ca)[0x423e0a]\r\n/lib64/libc.so.6(__libc_start_main+0xea)[0x7fa98eceb02a]\r\nredis-server 0.0.0.0:6380 [cluster][0x419c59]\r\n7534:S 15 Aug 15:40:56.402 # --- INFO OUTPUT\r\n7534:S 15 Aug 15:40:56.402 # # Server\r\nredis_version:3.0.7-m\r\nredis_git_sha1:ceed09bb\r\nredis_git_dirty:0\r\nredis_build_id:f2fa9331074f9409\r\nredis_mode:cluster\r\nos:Linux 4.14.114-105.126.amzn2.x86_64 x86_64\r\narch_bits:64\r\nmultiplexing_api:epoll\r\ngcc_version:4.4.7\r\nprocess_id:7534\r\nrun_id:06c00a3614f146744fccd8dd10abef72dc4c7d55\r\ntcp_port:6380\r\nuptime_in_seconds:56508\r\nuptime_in_days:0\r\nhz:10\r\nlru_clock:3641537\r\nconfig_file:/opt/cachecloud/conf/redis-cluster-6380.conf\r\n\r\n# Clients\r\nconnected_clients:0\r\nclient_longest_output_list:0\r\nclient_biggest_input_buf:0\r\nblocked_clients:0\r\n\r\n# Memory\r\nused_memory:5466965448\r\nused_memory_human:5.09G\r\nused_memory_rss:5793918976\r\nused_memory_peak:8051771304\r\nused_memory_peak_human:7.50G\r\nused_memory_lua:36864\r\nmem_fragmentation_ratio:1.06\r\nmem_allocator:jemalloc-3.6.0\r\n\r\n# Persistence\r\nloading:0\r\nrdb_changes_since_last_save:0\r\nrdb_bgsave_in_progress:0\r\nrdb_last_save_time:1597420748\r\nrdb_last_bgsave_status:ok\r\nrdb_last_bgsave_time_sec:-1\r\nrdb_current_bgsave_time_sec:-1\r\naof_enabled:0\r\naof_rewrite_in_progress:0\r\naof_rewrite_scheduled:0\r\naof_last_rewrite_time_sec:-1\r\naof_current_rewrite_time_sec:-1\r\naof_last_bgrewrite_status:ok\r\naof_last_write_status:ok\r\n\r\n# Stats\r\ntotal_connections_received:27542\r\ntotal_commands_processed:22892\r\ninstantaneous_ops_per_sec:0\r\ntotal_net_input_bytes:401814139251\r\ntotal_net_output_bytes:40486553\r\ninstantaneous_input_kbps:37488.72\r\ninstantaneous_output_kbps:0.00\r\nrejected_connections:0\r\nsync_full:0\r\nsync_partial_ok:0\r\nsync_partial_err:0\r\nexpired_keys:1\r\nevicted_keys:0\r\nkeyspace_hits:0\r\nkeyspace_misses:0\r\npubsub_channels:0\r\npubsub_patterns:0\r\nlatest_fork_usec:0\r\nmigrate_cached_sockets:0\r\n\r\n# Replication\r\nrole:slave\r\nmaster_host:10.26.x.x\r\nmaster_port:6379\r\nmaster_link_status:down\r\nmaster_last_io_seconds_ago:-1\r\nmaster_sync_in_progress:0\r\nslave_repl_offset:1\r\nmaster_link_down_since_seconds:1597477256\r\nslave_priority:100\r\nslave_read_only:1\r\nconnected_slaves:0\r\nmaster_repl_offset:0\r\nrepl_backlog_active:0\r\nrepl_backlog_size:128000000\r\nrepl_backlog_first_byte_offset:0\r\nrepl_backlog_histlen:0\r\n\r\n# CPU\r\nused_cpu_sys:2347.17\r\nused_cpu_user:43925.93\r\nused_cpu_sys_children:0.00\r\nused_cpu_user_children:0.00\r\n\r\n# Commandstats\r\ncmdstat_ping:calls=341,usec=427,usec_per_call=1.25\r\ncmdstat_info:calls=20099,usec=584351,usec_per_call=29.07\r\ncmdstat_config:calls=326,usec=12241,usec_per_call=37.55\r\ncmdstat_cluster:calls=471,usec=21230,usec_per_call=45.07\r\ncmdstat_client:calls=397,usec=2442,usec_per_call=6.15\r\ncmdstat_slowlog:calls=404,usec=777,usec_per_call=1.92\r\ncmdstat_latency:calls=854,usec=2384,usec_per_call=2.79\r\n\r\n# Cluster\r\ncluster_enabled:1\r\n\r\n# Keyspace\r\ndb0:keys=14387186,expires=14387184,avg_ttl=39250350\r\nhash_init_value: 1597670720\r\n\r\n7534:S 15 Aug 15:40:56.402 # --- CLIENT LIST OUTPUT\r\n7534:S 15 Aug 15:40:56.402 #\r\n7534:S 15 Aug 15:40:56.402 # --- REGISTERS\r\n7534:S 15 Aug 15:40:56.402 #\r\nRAX:0000000000000000 RBX:0000000065ce2888\r\nRCX:0000000000000237 RDX:000047fed704dcb5\r\nRDI:00007fa7a74c3000 RSI:fffffffffffffff8\r\nRBP:0000000000000001 RSP:00007ffd31637500\r\nR8 :00007fa98e800000 R9 :0000000000000400\r\nR10:00007ffd316374a0 R11:00007fa987806430\r\nR12:0000000000000001 R13:0000000000000000\r\nR14:0000000000000001 R15:0000000000000007\r\nRIP:0000000000433e9f EFL:0000000000010206\r\nCSGSFS:002b000000000033\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd3163750f) -> 3934346438663162\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd3163750e) -> 3039383231305f31\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd3163750d) -> 315f74706d753300\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd3163750c) -> 00000173f8c5d341\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd3163750b) -> fc38343639303037\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd3163750a) -> 3734373935315f30\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637509) -> 5f38343633353135\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637508) -> 313830303230325f\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637507) -> 3030303034352535\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637506) -> 315f38305f303230\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637505) -> 325f656435646630\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637504) -> 3735363037396261\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637503) -> 3262333966343036\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637502) -> 3166653039366334\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637501) -> 30395f395f74706d\r\n7534:S 15 Aug 15:40:56.402 # (00007ffd31637500) -> 75320000000173f8\r\n7534:S 15 Aug 15:40:56.402 # --- FAST MEMORY TEST\r\n7534:S 15 Aug 15:40:56.402 # Bio thread for job type #0 terminated\r\n7534:S 15 Aug 15:40:56.402 # Bio thread for job type #1 terminated\r\nTesting 6f6000 90112\r\nTesting 1fe8000 135168\r\nTesting 7fa79cc00000 8212447232\r\nTesting 7fa9867ff000 8388608\r\nTesting 7fa987000000 12582912\r\nTesting 7fa98e800000 4194304\r\nTesting 7fa98f07c000 16384\r\nTesting 7fa98f29a000 16384\r\nTesting 7fa98fa06000 16384\r\nTesting 7fa98fa13000 4096\r\n7534:S 15 Aug 15:41:59.354 # Fast memory test PASSED, however your memory can still be broken. Please run a memory test for several hours if possible.\r\n7534:S 15 Aug 15:41:59.354 #\r\n=== REDIS BUG REPORT END. Make sure to include from START to END. ===\r\n```\r\n\r\n**Aditional information**\r\n\r\n1. OS distribution and version\r\nLinux  4.14.114-105.126.amzn2.x86_64\r\n2. Steps to reproduce (if any)\r\n",
  "state": "closed",
  "created_at": "2020-08-15T07:50:59Z",
  "updated_at": "2020-08-15T15:31:11Z",
  "closed_at": "2020-08-15T15:31:10Z",
  "labels": [],
  "comments_data": [
    {
      "id": 674412134,
      "user": "itamarhaber",
      "created_at": "2020-08-15T15:31:10Z",
      "body": "Hello @beebol \r\n\r\nThanks for sharing this crash report. Note, however, that v3.0.7 is quite ripe and is no longer supported. I recommend that you upgrade to a more recent version of Redis as many issues have been resolved over the years.\r\n\r\nClosing this issue."
    }
  ]
}