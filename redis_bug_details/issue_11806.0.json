{
  "issue_number": 11806.0,
  "title": "[BUG]",
  "body": "--------------------------------------------------------------------------\r\n**Describe the bug**\r\nA short description of the bug.\r\nIn Redis Pub/Sub, the client subscribes with [SUBSCRIBE ch-food ch-sports] command, If it publish the PUBLISH ch-food \"chicken\" message, subscribers correctly receive the \"chicken\" message.\r\n\r\nHere, if [UNSUBSCRIBE ch-food] command is used to cancel the ch-food subscription, the output is as follows.\r\n3) (integer) 0 <-- The returned value should be 1 instead of 0, which is considered a bug or error.\r\n-----------------\r\n1) \"unsubscribe\"\r\n2) \"ch-food\"\r\n3) (integer) 0\r\n------------------\r\n\r\nYou can see that the [ 3) (integer) 0 ] line cannot unsubscribe.\r\nStill, publish ch-food \"chicken\", subscribers receive it.\r\n\r\n**To reproduce**\r\nSteps to reproduce the behavior and/or a minimal code sample.\r\n\r\n[client-1]\r\n127.0.0.1:9379> PUBLISH ch-food \"chicken\"\r\n(integer) 3\r\n127.0.0.1:9379> UNSUBSCRIBE ch-food\r\n1) \"unsubscribe\"\r\n2) \"ch-food\"\r\n3) (integer) 0\r\n127.0.0.1:9379> PUNSUBSCRIBE ch-fo*\r\n1) \"punsubscribe\"\r\n2) \"ch-fo*\"\r\n3) (integer) 0\r\n127.0.0.1:9379> PUBLISH ch-food \"chicken\"\r\n(integer) 3\r\n\r\n[client-2]\r\n127.0.0.1:9379> SUBSCRIBE ch-food ch-sports\r\nReading messages... (press Ctrl-C to quit)\r\n1) \"subscribe\"\r\n2) \"ch-food\"\r\n3) (integer) 1\r\n1) \"subscribe\"\r\n2) \"ch-sports\"\r\n3) (integer) 2\r\n1) \"message\"\r\n2) \"ch-food\"\r\n3) \"chicken\"\r\n1) \"message\"\r\n2) \"ch-food\"\r\n3) \"chicken\"\r\n\r\n[client-3]\r\n127.0.0.1:9379> PSUBSCRIBE ch-fo*\r\nReading messages... (press Ctrl-C to quit)\r\n1) \"psubscribe\"\r\n2) \"ch-fo*\"\r\n3) (integer) 1\r\n1) \"pmessage\"\r\n2) \"ch-fo*\"\r\n3) \"ch-food\"\r\n4) \"chicken\"\r\n1) \"pmessage\"\r\n2) \"ch-fo*\"\r\n3) \"ch-food\"\r\n4) \"chicken\"\r\n\r\n\r\n**Expected behavior**\r\nA description of what you expected to happen.\r\nAfter the UNSUBSCRIBE ch-food and PUNSUBSCRIBE ch-fo* commands, client are still received and listening on that channel.\r\n\r\n**Additional information**\r\nAny additional information that is relevant to the problem.\r\nIncluded in the above mentioned.\r\n\r\n--------------------------------------------------------------------------",
  "state": "closed",
  "created_at": "2023-02-15T05:37:07Z",
  "updated_at": "2023-02-15T05:40:46Z",
  "closed_at": "2023-02-15T05:40:45Z",
  "labels": [],
  "comments_data": [
    {
      "id": 1430784955,
      "user": "Virusuki",
      "created_at": "2023-02-15T05:40:45Z",
      "body": "> **Describe the bug** A short description of the bug. In Redis Pub/Sub, the client subscribes with [SUBSCRIBE ch-food ch-sports] command, If it publish the PUBLISH ch-food \"chicken\" message, subscribers correctly receive the \"chicken\" message.\r\n> \r\n> ## Here, if [UNSUBSCRIBE ch-food] command is used to cancel the ch-food subscription, the output is as follows.\r\n> 3) (integer) 0 <-- The returned value should be 1 instead of 0, which is considered a bug or error.\r\n> 1. \"unsubscribe\"\r\n> 2. \"ch-food\"\r\n> 3. (integer) 0\r\n> \r\n> You can see that the [ 3) (integer) 0 ] line cannot unsubscribe. Still, publish ch-food \"chicken\", subscribers receive it.\r\n> \r\n> **To reproduce** Steps to reproduce the behavior and/or a minimal code sample.\r\n> \r\n> [client-1] 127.0.0.1:9379> PUBLISH ch-food \"chicken\" (integer) 3 127.0.0.1:9379> UNSUBSCRIBE ch-food\r\n> \r\n> 1. \"unsubscribe\"\r\n> 2. \"ch-food\"\r\n> 3. (integer) 0\r\n>    127.0.0.1:9379> PUNSUBSCRIBE ch-fo*\r\n> 4. \"punsubscribe\"\r\n> 5. \"ch-fo*\"\r\n> 6. (integer) 0\r\n>    127.0.0.1:9379> PUBLISH ch-food \"chicken\"\r\n>    (integer) 3\r\n> \r\n> [client-2] 127.0.0.1:9379> SUBSCRIBE ch-food ch-sports Reading messages... (press Ctrl-C to quit)\r\n> \r\n> 1. \"subscribe\"\r\n> 2. \"ch-food\"\r\n> 3. (integer) 1\r\n> 4. \"subscribe\"\r\n> 5. \"ch-sports\"\r\n> 6. (integer) 2\r\n> 7. \"message\"\r\n> 8. \"ch-food\"\r\n> 9. \"chicken\"\r\n> 10. \"message\"\r\n> 11. \"ch-food\"\r\n> 12. \"chicken\"\r\n> \r\n> [client-3] 127.0.0.1:9379> PSUBSCRIBE ch-fo* Reading messages... (press Ctrl-C to quit)\r\n> \r\n> 1. \"psubscribe\"\r\n> 2. \"ch-fo*\"\r\n> 3. (integer) 1\r\n> 4. \"pmessage\"\r\n> 5. \"ch-fo*\"\r\n> 6. \"ch-food\"\r\n> 7. \"chicken\"\r\n> 8. \"pmessage\"\r\n> 9. \"ch-fo*\"\r\n> 10. \"ch-food\"\r\n> 11. \"chicken\"\r\n> \r\n> **Expected behavior** A description of what you expected to happen. After the UNSUBSCRIBE ch-food and PUNSUBSCRIBE ch-fo* commands, client are still received and listening on that channel.\r\n> \r\n> **Additional information** Any additional information that is relevant to the problem. Included in the above mentioned.\r\n\r\n"
    }
  ]
}