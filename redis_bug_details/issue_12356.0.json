{
  "issue_number": 12356.0,
  "title": "[BUG] The RediSearch Result Not Correct In Cluster Mode",
  "body": "**Describe the bug**\r\n\r\nThe RediSearch not come out correct result.\r\n\r\n**To reproduce**\r\n\r\nServer: 2 nodes with cluster enabled (Redis Enterprise)\r\n\r\nMy sample data in JSON:\r\n\r\n[{\"Key\":\"V10:L1:MG:221125-225247-56450-0039\",\"TTL\":1009752.7519,\"DataToRedisList\":[{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT190\",\"DTProcessed\":638229621126300000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT110_2\",\"DTProcessed\":638229622233700000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_1\",\"DTProcessed\":638229622449900000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_2\",\"DTProcessed\":638229622648700000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_1\",\"DTProcessed\":638229622773700000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_2\",\"DTProcessed\":638229622864000000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT140_1\",\"DTProcessed\":638229622972400000},{\"SerialNoType\":1,\"SerialNo\":\"07106Y1309435063\",\"StationID\":\"Unknown\",\"DTProcessed\":0}]},{\"Key\":\"V10:L1:MG:221125-225247-56282-0039\",\"TTL\":1038162.7519,\"DataToRedisList\":[{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT190\",\"DTProcessed\":638229621410400000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT110_2\",\"DTProcessed\":638229622395900000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_1\",\"DTProcessed\":638229622630500000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_2\",\"DTProcessed\":638229622828200000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_1\",\"DTProcessed\":638229622954500000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_2\",\"DTProcessed\":638229623044600000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT140_1\",\"DTProcessed\":638229623152900000},{\"SerialNoType\":1,\"SerialNo\":\"07106Y1309437557\",\"StationID\":\"Unknown\",\"DTProcessed\":0}]},{\"Key\":\"V10:L1:MG:221125-225247-56465-0039\",\"TTL\":1047132.7519,\"DataToRedisList\":[{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT190\",\"DTProcessed\":638229621500100000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT110_2\",\"DTProcessed\":638229622485700000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_1\",\"DTProcessed\":638229622719900000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_2\",\"DTProcessed\":638229622900400000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_1\",\"DTProcessed\":638229623044600000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_2\",\"DTProcessed\":638229623135100000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT140_1\",\"DTProcessed\":638229623243400000},{\"SerialNoType\":1,\"SerialNo\":\"07106Y1309437562\",\"StationID\":\"Unknown\",\"DTProcessed\":0}]},{\"Key\":\"V10:L1:MG:221125-225247-56448-0039\",\"TTL\":1055992.7519,\"DataToRedisList\":[{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT190\",\"DTProcessed\":638229621588700000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT110_2\",\"DTProcessed\":638229622576200000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_1\",\"DTProcessed\":638229622809900000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT120_2\",\"DTProcessed\":638229622990600000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_1\",\"DTProcessed\":638229623135100000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT130_2\",\"DTProcessed\":638229623225600000},{\"SerialNoType\":4,\"SerialNo\":\"NA\",\"StationID\":\"RT140_1\",\"DTProcessed\":638229623333700000},{\"SerialNoType\":1,\"SerialNo\":\"07106Y1309435176\",\"StationID\":\"Unknown\",\"DTProcessed\":0}]}]\r\n\r\n\r\nRun the command below:\r\n\r\n# Create index on StationID and DTProcessed\r\nFT.CREATE v10l1Index3 ON JSON PREFIX 1 \"V10:L1\" SCHEMA $.DataToRedisList[*].StationID AS StationID TEXT $.DataToRedisList[*].DTProcessed AS DTProcessed NUMERIC\r\n\r\n# Count the total number of StationID\r\nFT.AGGREGATE v10l1Index3 * GROUPBY 1 @StationID REDUCE COUNT 0 AS TotalCount SORTBY 2 @TotalCount DESC\r\n\r\nWrong result return:\r\n1) \"1\"\r\n2) 1) \"StationID\"\r\n   2) \"RT190\"\r\n   3) \"TotalCount\"\r\n   4) \"2\"\r\n\r\n**Expected behavior**\r\n\r\nThe result should be like:\r\n\r\n1) \"1\"\r\n2) 1) \"StationID\"\r\n   2) \"RT190\"\r\n   3) \"TotalCount\"\r\n   4) \"4\"\r\n3) 1) \"StationID\"\r\n   2) \"RT110_2\"\r\n   3) \"TotalCount\"\r\n   4) \"4\"\r\n4) 1) \"StationID\"\r\n   2) \"RT120_1\"\r\n   3) \"TotalCount\"\r\n   4) \"4\"\r\n5) 1) \"StationID\"\r\n   2) \"RT120_2\"\r\n   3) \"TotalCount\"\r\n   4) \"4\"\r\n6) 1) \"StationID\"\r\n   2) \"RT130_1\"\r\n   3) \"TotalCount\"\r\n   4) \"4\"\r\n7) 1) \"StationID\"\r\n   2) \"RT130_2\"\r\n   3) \"TotalCount\"\r\n   4) \"4\"\r\n8) 1) \"StationID\"\r\n   2) \"RT140_1\"\r\n   3) \"TotalCount\"\r\n   4) \"4\"\r\n\r\n**Additional information**\r\n\r\nNot sure is the RediSearch bugs or my data format got issue.\r\n\r\nPlease help check, thanks a lot\r\n\r\nAny additional information that is relevant to the problem.\r\n",
  "state": "closed",
  "created_at": "2023-06-27T07:17:22Z",
  "updated_at": "2023-06-27T09:31:27Z",
  "closed_at": "2023-06-27T07:47:58Z",
  "labels": [],
  "comments_data": [
    {
      "id": 1608973542,
      "user": "oranagra",
      "created_at": "2023-06-27T07:47:58Z",
      "body": "please report in https://github.com/RediSearch/RediSearch"
    },
    {
      "id": 1609133357,
      "user": "JianpingAtGitHub",
      "created_at": "2023-06-27T09:31:27Z",
      "body": "> please report in https://github.com/RediSearch/RediSearch\r\n\r\nHi oranagra, have resubmit to RediSearch github\r\n\r\nThanks."
    }
  ]
}